{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raviailani/Downloads/django-vue-admin/web/src/views/system/login/base.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/src/views/system/login/base.vue","mtime":1674694301498},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js","mtime":1674694549360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCcKaW1wb3J0IGxvY2FsZU1peGluIGZyb20gJ0AvbG9jYWxlcy9taXhpbi5qcycKaW1wb3J0ICogYXMgYXBpIGZyb20gJ0Avdmlld3Mvc3lzdGVtL2xvZ2luL2FwaScKCmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFtsb2NhbGVNaXhpbl0sCiAgYmVmb3JlQ3JlYXRlICgpIHsKICAgIC8vIOWIneWni+WMlumFjee9rgogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2QyYWRtaW4vc2V0dGluZ3MvaW5pdCcpCiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2Nlc3NUaXRsZTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9USVRMRSB8fCAnRDJBZG1pbicsCiAgICAgIGJhY2tncm91bmRJbWFnZTogJ3VybCgnICsgdGhpcy5sb2dpbkJhY2tncm91bmQgKyAnKScsCiAgICAgIC8vIOihqOWNlQogICAgICBmb3JtTG9naW46IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGNhcHRjaGE6ICcnCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgY2FwdGNoYUtleTogbnVsbCwKICAgICAgaW1hZ2VfYmFzZTogbnVsbCwKICAgICAgLy8g5b+r6YCf55m75b2V77yM55So5LqOZGV25byA5Y+R546v5aKDCiAgICAgIHNlbGVjdFVzZXJzRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHVzZXJzOiBbCiAgICAgICAgewogICAgICAgICAgbmFtZTogJ+i2heeuoScsCiAgICAgICAgICB1c2VybmFtZTogJ3N1cGVyYWRtaW4nLAogICAgICAgICAgcGFzc3dvcmQ6ICdhZG1pbjEyMzQ1NicKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICfnrqHnkIblkZgnLAogICAgICAgICAgdXNlcm5hbWU6ICdhZG1pbicsCiAgICAgICAgICBwYXNzd29yZDogJ2FkbWluMTIzNDU2JwogICAgICAgIH0KICAgICAgXQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdkMmFkbWluJywgewogICAgICBzaXRlTG9nbzogc3RhdGUgPT4gc3RhdGUuc2V0dGluZ3MuZGF0YVsnbG9naW4uc2l0ZV9sb2dvJ10gfHwgcmVxdWlyZSgnLi9pbWFnZS9kdmFkbWluLnBuZycpLCAvLyDnvZHnq5lsb2dv5Zyw5Z2ACiAgICAgIGtlZXBSZWNvcmQ6IHN0YXRlID0+IHN0YXRlLnNldHRpbmdzLmRhdGFbJ2xvZ2luLmtlZXBfcmVjb3JkJ10sCiAgICAgIHNpdGVOYW1lOiBzdGF0ZSA9PiBzdGF0ZS5zZXR0aW5ncy5kYXRhWydsb2dpbi5zaXRlX25hbWUnXSwgLy8g572R56uZ5ZCN56ewCiAgICAgIGNvcHlyaWdodDogc3RhdGUgPT4gc3RhdGUuc2V0dGluZ3MuZGF0YVsnbG9naW4uY29weXJpZ2h0J10sCiAgICAgIGxvZ2luQmFja2dyb3VuZDogc3RhdGUgPT4gc3RhdGUuc2V0dGluZ3MuZGF0YVsnbG9naW4ubG9naW5fYmFja2dyb3VuZCddIHx8IHJlcXVpcmUoJy4vaW1hZ2UvYmcuanBnJyksIC8vIOeZu+W9lemhteiDjOaZr+WbvgogICAgICBoZWxwVXJsOiBzdGF0ZSA9PiBzdGF0ZS5zZXR0aW5ncy5kYXRhWydsb2dpbi5oZWxwX3VybCddLCAvLyDluK7liqkKICAgICAgcHJpdmFjeVVybDogc3RhdGUgPT4gc3RhdGUuc2V0dGluZ3MuZGF0YVsnbG9naW4ucHJpdmFjeV91cmwnXSwgLy8g6ZqQ56eBCiAgICAgIGNsYXVzZVVybDogc3RhdGUgPT4gc3RhdGUuc2V0dGluZ3MuZGF0YVsnbG9naW4uY2xhdXNlX3VybCddLCAvLyDmnaHmrL4KICAgICAgY2FwdGNoYVN0YXRlOiBzdGF0ZSA9PiBzdGF0ZS5zZXR0aW5ncy5kYXRhWydiYXNlLmNhcHRjaGFfc3RhdGUnXSAhPT0gdW5kZWZpbmVkID8gc3RhdGUuc2V0dGluZ3MuZGF0YVsnYmFzZS5jYXB0Y2hhX3N0YXRlJ10gOiB0cnVlIC8vIOmqjOivgeeggQogICAgfSkKICB9LAogIG1vdW50ZWQgKCkgewogIH0sCiAgYmVmb3JlRGVzdHJveSAoKSB7CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKCdkMmFkbWluL2FjY291bnQnLCBbJ2xvZ2luJ10pLAogICAgLyoqCiAgICAgICAqIOiOt+WPlumqjOivgeeggQogICAgICAgKi8KICAgIGdldENhcHRjaGEgKCkgewogICAgICBpZiAodGhpcy5jYXB0Y2hhU3RhdGUgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5jYXB0Y2hhU3RhdGUpIHJldHVybgogICAgICBhcGkuZ2V0Q2FwdGNoYSgpLnRoZW4oKHJldCkgPT4gewogICAgICAgIHRoaXMuZm9ybUxvZ2luLmNhcHRjaGEgPSBudWxsCiAgICAgICAgdGhpcy5jYXB0Y2hhS2V5ID0gcmV0LmRhdGEua2V5CiAgICAgICAgdGhpcy5pbWFnZV9iYXNlID0gcmV0LmRhdGEuaW1hZ2VfYmFzZQogICAgICB9KQogICAgfSwKICAgIC8qKgogICAgICAgKiBAZGVzY3JpcHRpb24g5o+Q5Lqk6KGo5Y2VCiAgICAgICAqLwogICAgLy8g5o+Q5Lqk55m75b2V5L+h5oGvCiAgICBzdWJtaXQgKCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIC8vIOeZu+W9lQogICAgICAgICAgLy8g5rOo5oSPIOi/memHjOeahOa8lOekuuayoeacieS8oOmqjOivgeeggQogICAgICAgICAgLy8g5YW35L2T6ZyA6KaB5Lyg6YCS55qE5pWw5o2u6K+36Ieq6KGM5L+u5pS55Luj56CBCiAgICAgICAgICB0aGlzLmxvZ2luKHsKICAgICAgICAgICAgdXNlcm5hbWU6IHRoYXQuZm9ybUxvZ2luLnVzZXJuYW1lLAogICAgICAgICAgICBwYXNzd29yZDogdGhhdC4kbWQ1KHRoYXQuZm9ybUxvZ2luLnBhc3N3b3JkKSwKICAgICAgICAgICAgY2FwdGNoYTogdGhhdC5mb3JtTG9naW4uY2FwdGNoYSwKICAgICAgICAgICAgY2FwdGNoYUtleTogdGhhdC5jYXB0Y2hhS2V5CiAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgLy8g6YeN5a6a5ZCR5a+56LGh5LiN5a2Y5Zyo5YiZ6L+U5Zue6aG25bGC6Lev5b6ECiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UodGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QgfHwgJy8nKQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuZ2V0Q2FwdGNoYSgpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOeZu+W9leihqOWNleagoemqjOWksei0pQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6KGo5Y2V5qCh6aqM5aSx6LSl77yM6K+35qOA5p+lJykKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5b+r6YCf55m75b2VCiAgICBoYW5kbGVVc2VyQnRuQ2xpY2sgKHVzZXIpIHsKICAgICAgdGhpcy5mb3JtTG9naW4udXNlcm5hbWUgPSB1c2VyLnVzZXJuYW1lCiAgICAgIHRoaXMuZm9ybUxvZ2luLnBhc3N3b3JkID0gdXNlci5wYXNzd29yZAogICAgICAvLyB0aGlzLnN1Ym1pdCgpCiAgICAgIHRoaXMuc2VsZWN0VXNlcnNEaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgaWYgKCF0aGlzLmNhcHRjaGFTdGF0ZSkgewogICAgICAgIHRoaXMuc3VibWl0KCkKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZDJhZG1pbi9kYi9kYXRhYmFzZUNsZWFyJykKICAgIHRoaXMuZ2V0Q2FwdGNoYSgpCiAgfQp9Cg=="},{"version":3,"sources":["base.vue"],"names":[],"mappings":";AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"base.vue","sourceRoot":"src/views/system/login","sourcesContent":["<template>\n  <div class=\"page-login\"></div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nimport localeMixin from '@/locales/mixin.js'\nimport * as api from '@/views/system/login/api'\n\nexport default {\n  mixins: [localeMixin],\n  beforeCreate () {\n    // 初始化配置\n    this.$store.dispatch('d2admin/settings/init')\n  },\n  data () {\n    return {\n      processTitle: process.env.VUE_APP_TITLE || 'D2Admin',\n      backgroundImage: 'url(' + this.loginBackground + ')',\n      // 表单\n      formLogin: {\n        username: '',\n        password: '',\n        captcha: ''\n      },\n      // 表单校验\n      rules: {\n        username: [\n          {\n            required: true,\n            message: '请输入用户名',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur'\n          }\n        ]\n      },\n      captchaKey: null,\n      image_base: null,\n      // 快速登录，用于dev开发环境\n      selectUsersDialogVisible: false,\n      users: [\n        {\n          name: '超管',\n          username: 'superadmin',\n          password: 'admin123456'\n        },\n        {\n          name: '管理员',\n          username: 'admin',\n          password: 'admin123456'\n        }\n      ]\n    }\n  },\n  computed: {\n    ...mapState('d2admin', {\n      siteLogo: state => state.settings.data['login.site_logo'] || require('./image/dvadmin.png'), // 网站logo地址\n      keepRecord: state => state.settings.data['login.keep_record'],\n      siteName: state => state.settings.data['login.site_name'], // 网站名称\n      copyright: state => state.settings.data['login.copyright'],\n      loginBackground: state => state.settings.data['login.login_background'] || require('./image/bg.jpg'), // 登录页背景图\n      helpUrl: state => state.settings.data['login.help_url'], // 帮助\n      privacyUrl: state => state.settings.data['login.privacy_url'], // 隐私\n      clauseUrl: state => state.settings.data['login.clause_url'], // 条款\n      captchaState: state => state.settings.data['base.captcha_state'] !== undefined ? state.settings.data['base.captcha_state'] : true // 验证码\n    })\n  },\n  mounted () {\n  },\n  beforeDestroy () {\n  },\n  methods: {\n    ...mapActions('d2admin/account', ['login']),\n    /**\n       * 获取验证码\n       */\n    getCaptcha () {\n      if (this.captchaState !== undefined && !this.captchaState) return\n      api.getCaptcha().then((ret) => {\n        this.formLogin.captcha = null\n        this.captchaKey = ret.data.key\n        this.image_base = ret.data.image_base\n      })\n    },\n    /**\n       * @description 提交表单\n       */\n    // 提交登录信息\n    submit () {\n      const that = this\n      this.$refs.loginForm.validate((valid) => {\n        if (valid) {\n          // 登录\n          // 注意 这里的演示没有传验证码\n          // 具体需要传递的数据请自行修改代码\n          this.login({\n            username: that.formLogin.username,\n            password: that.$md5(that.formLogin.password),\n            captcha: that.formLogin.captcha,\n            captchaKey: that.captchaKey\n          })\n            .then(() => {\n              // 重定向对象不存在则返回顶层路径\n              this.$router.replace(this.$route.query.redirect || '/')\n            })\n            .catch(() => {\n              this.getCaptcha()\n            })\n        } else {\n          // 登录表单校验失败\n          this.$message.error('表单校验失败，请检查')\n        }\n      })\n    },\n    // 快速登录\n    handleUserBtnClick (user) {\n      this.formLogin.username = user.username\n      this.formLogin.password = user.password\n      // this.submit()\n      this.selectUsersDialogVisible = false\n      if (!this.captchaState) {\n        this.submit()\n      }\n    }\n  },\n  created () {\n    this.$store.dispatch('d2admin/db/databaseClear')\n    this.getCaptcha()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  // ----\n  .page-login {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    background-image: url(./image/bg.jpg);\n    background-position: center 0;\n    background-repeat: no-repeat;\n    background-attachment: fixed;\n    background-size: cover;\n    -webkit-background-size: cover; /* 兼容Webkit内核浏览器如Chrome和Safari */\n    -o-background-size: cover; /* 兼容Opera */\n    zoom: 1;\n  }\n\n  ::v-deep .el-card__body {\n    height: 100%;\n    padding: 0;\n  }\n\n  .card {\n    height: 100%;\n    width: 100%;\n    border-radius: 30px;\n    padding: 0;\n    margin-top: 12%;\n  }\n\n  .right-card {\n    float: right;\n    text-align: center;\n    width: 50%;\n    height: 100%;\n  }\n\n  .right-card h1 {\n    color: #098dee;\n    margin-bottom: 40px;\n    margin-top: 40px;\n  }\n\n  .button-login {\n    width: 100%;\n    margin-top: 30px;\n  }\n\n  ::v-deep .el-input-group__append {\n    padding: 0;\n  }\n\n  // footer\n  .page-login--content-footer {\n    margin-top: 10%;\n    padding: 1em 0;\n\n    .page-login--content-footer-locales {\n      padding: 0px;\n      margin: 0px;\n      margin-bottom: 15px;\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n      color: $color-text-normal;\n\n      a {\n        color: $color-text-normal;\n        margin: 0 0.5em;\n\n        &:hover {\n          color: $color-text-main;\n        }\n      }\n    }\n\n    .page-login--content-footer-copyright {\n      padding: 0px;\n      margin: 0px;\n      margin-bottom: 10px;\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n      color: $color-text-normal;\n\n      a {\n        color: $color-text-normal;\n      }\n    }\n\n    .page-login--content-footer-options {\n      padding: 0px;\n      margin: 0px;\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n\n      a {\n        color: $color-text-normal;\n        margin: 0 1em;\n      }\n    }\n  }\n</style>\n"]}]}