{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raviailani/Downloads/django-vue-admin/web/src/views/system/login/base.vue?vue&type=style&index=0&id=61da736d&lang=scss&scoped=true&","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/src/views/system/login/base.vue","mtime":1674694301498},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/css-loader/dist/cjs.js","mtime":1674694549148},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1674694549593},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/postcss-loader/src/index.js","mtime":1674694549280},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/sass-loader/dist/cjs.js","mtime":1674694548949},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js","mtime":1674694549360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vIC0tLS0KLnBhZ2UtbG9naW4gewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKICBoZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4vaW1hZ2UvYmcuanBnKTsKICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgMDsKICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogIGJhY2tncm91bmQtYXR0YWNobWVudDogZml4ZWQ7CiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICAtd2Via2l0LWJhY2tncm91bmQtc2l6ZTogY292ZXI7IC8qIOWFvOWuuVdlYmtpdOWGheaguOa1j+iniOWZqOWmgkNocm9tZeWSjFNhZmFyaSAqLwogIC1vLWJhY2tncm91bmQtc2l6ZTogY292ZXI7IC8qIOWFvOWuuU9wZXJhICovCiAgem9vbTogMTsKfQoKOjp2LWRlZXAgLmVsLWNhcmRfX2JvZHkgewogIGhlaWdodDogMTAwJTsKICBwYWRkaW5nOiAwOwp9CgouY2FyZCB7CiAgaGVpZ2h0OiAxMDAlOwogIHdpZHRoOiAxMDAlOwogIGJvcmRlci1yYWRpdXM6IDMwcHg7CiAgcGFkZGluZzogMDsKICBtYXJnaW4tdG9wOiAxMiU7Cn0KCi5yaWdodC1jYXJkIHsKICBmbG9hdDogcmlnaHQ7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHdpZHRoOiA1MCU7CiAgaGVpZ2h0OiAxMDAlOwp9CgoucmlnaHQtY2FyZCBoMSB7CiAgY29sb3I6ICMwOThkZWU7CiAgbWFyZ2luLWJvdHRvbTogNDBweDsKICBtYXJnaW4tdG9wOiA0MHB4Owp9CgouYnV0dG9uLWxvZ2luIHsKICB3aWR0aDogMTAwJTsKICBtYXJnaW4tdG9wOiAzMHB4Owp9Cgo6OnYtZGVlcCAuZWwtaW5wdXQtZ3JvdXBfX2FwcGVuZCB7CiAgcGFkZGluZzogMDsKfQoKLy8gZm9vdGVyCi5wYWdlLWxvZ2luLS1jb250ZW50LWZvb3RlciB7CiAgbWFyZ2luLXRvcDogMTAlOwogIHBhZGRpbmc6IDFlbSAwOwoKICAucGFnZS1sb2dpbi0tY29udGVudC1mb290ZXItbG9jYWxlcyB7CiAgICBwYWRkaW5nOiAwcHg7CiAgICBtYXJnaW46IDBweDsKICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBsaW5lLWhlaWdodDogMTJweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGNvbG9yOiAkY29sb3ItdGV4dC1ub3JtYWw7CgogICAgYSB7CiAgICAgIGNvbG9yOiAkY29sb3ItdGV4dC1ub3JtYWw7CiAgICAgIG1hcmdpbjogMCAwLjVlbTsKCiAgICAgICY6aG92ZXIgewogICAgICAgIGNvbG9yOiAkY29sb3ItdGV4dC1tYWluOwogICAgICB9CiAgICB9CiAgfQoKICAucGFnZS1sb2dpbi0tY29udGVudC1mb290ZXItY29weXJpZ2h0IHsKICAgIHBhZGRpbmc6IDBweDsKICAgIG1hcmdpbjogMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGxpbmUtaGVpZ2h0OiAxMnB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgY29sb3I6ICRjb2xvci10ZXh0LW5vcm1hbDsKCiAgICBhIHsKICAgICAgY29sb3I6ICRjb2xvci10ZXh0LW5vcm1hbDsKICAgIH0KICB9CgogIC5wYWdlLWxvZ2luLS1jb250ZW50LWZvb3Rlci1vcHRpb25zIHsKICAgIHBhZGRpbmc6IDBweDsKICAgIG1hcmdpbjogMHB4OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgbGluZS1oZWlnaHQ6IDEycHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CgogICAgYSB7CiAgICAgIGNvbG9yOiAkY29sb3ItdGV4dC1ub3JtYWw7CiAgICAgIG1hcmdpbjogMCAxZW07CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["base.vue"],"names":[],"mappings":";AAoPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"base.vue","sourceRoot":"src/views/system/login","sourcesContent":["<template>\n  <div class=\"page-login\"></div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nimport localeMixin from '@/locales/mixin.js'\nimport * as api from '@/views/system/login/api'\n\nexport default {\n  mixins: [localeMixin],\n  beforeCreate () {\n    // 初始化配置\n    this.$store.dispatch('d2admin/settings/init')\n  },\n  data () {\n    return {\n      processTitle: process.env.VUE_APP_TITLE || 'D2Admin',\n      backgroundImage: 'url(' + this.loginBackground + ')',\n      // 表单\n      formLogin: {\n        username: '',\n        password: '',\n        captcha: ''\n      },\n      // 表单校验\n      rules: {\n        username: [\n          {\n            required: true,\n            message: '请输入用户名',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur'\n          }\n        ]\n      },\n      captchaKey: null,\n      image_base: null,\n      // 快速登录，用于dev开发环境\n      selectUsersDialogVisible: false,\n      users: [\n        {\n          name: '超管',\n          username: 'superadmin',\n          password: 'admin123456'\n        },\n        {\n          name: '管理员',\n          username: 'admin',\n          password: 'admin123456'\n        }\n      ]\n    }\n  },\n  computed: {\n    ...mapState('d2admin', {\n      siteLogo: state => state.settings.data['login.site_logo'] || require('./image/dvadmin.png'), // 网站logo地址\n      keepRecord: state => state.settings.data['login.keep_record'],\n      siteName: state => state.settings.data['login.site_name'], // 网站名称\n      copyright: state => state.settings.data['login.copyright'],\n      loginBackground: state => state.settings.data['login.login_background'] || require('./image/bg.jpg'), // 登录页背景图\n      helpUrl: state => state.settings.data['login.help_url'], // 帮助\n      privacyUrl: state => state.settings.data['login.privacy_url'], // 隐私\n      clauseUrl: state => state.settings.data['login.clause_url'], // 条款\n      captchaState: state => state.settings.data['base.captcha_state'] !== undefined ? state.settings.data['base.captcha_state'] : true // 验证码\n    })\n  },\n  mounted () {\n  },\n  beforeDestroy () {\n  },\n  methods: {\n    ...mapActions('d2admin/account', ['login']),\n    /**\n       * 获取验证码\n       */\n    getCaptcha () {\n      if (this.captchaState !== undefined && !this.captchaState) return\n      api.getCaptcha().then((ret) => {\n        this.formLogin.captcha = null\n        this.captchaKey = ret.data.key\n        this.image_base = ret.data.image_base\n      })\n    },\n    /**\n       * @description 提交表单\n       */\n    // 提交登录信息\n    submit () {\n      const that = this\n      this.$refs.loginForm.validate((valid) => {\n        if (valid) {\n          // 登录\n          // 注意 这里的演示没有传验证码\n          // 具体需要传递的数据请自行修改代码\n          this.login({\n            username: that.formLogin.username,\n            password: that.$md5(that.formLogin.password),\n            captcha: that.formLogin.captcha,\n            captchaKey: that.captchaKey\n          })\n            .then(() => {\n              // 重定向对象不存在则返回顶层路径\n              this.$router.replace(this.$route.query.redirect || '/')\n            })\n            .catch(() => {\n              this.getCaptcha()\n            })\n        } else {\n          // 登录表单校验失败\n          this.$message.error('表单校验失败，请检查')\n        }\n      })\n    },\n    // 快速登录\n    handleUserBtnClick (user) {\n      this.formLogin.username = user.username\n      this.formLogin.password = user.password\n      // this.submit()\n      this.selectUsersDialogVisible = false\n      if (!this.captchaState) {\n        this.submit()\n      }\n    }\n  },\n  created () {\n    this.$store.dispatch('d2admin/db/databaseClear')\n    this.getCaptcha()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  // ----\n  .page-login {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    background-image: url(./image/bg.jpg);\n    background-position: center 0;\n    background-repeat: no-repeat;\n    background-attachment: fixed;\n    background-size: cover;\n    -webkit-background-size: cover; /* 兼容Webkit内核浏览器如Chrome和Safari */\n    -o-background-size: cover; /* 兼容Opera */\n    zoom: 1;\n  }\n\n  ::v-deep .el-card__body {\n    height: 100%;\n    padding: 0;\n  }\n\n  .card {\n    height: 100%;\n    width: 100%;\n    border-radius: 30px;\n    padding: 0;\n    margin-top: 12%;\n  }\n\n  .right-card {\n    float: right;\n    text-align: center;\n    width: 50%;\n    height: 100%;\n  }\n\n  .right-card h1 {\n    color: #098dee;\n    margin-bottom: 40px;\n    margin-top: 40px;\n  }\n\n  .button-login {\n    width: 100%;\n    margin-top: 30px;\n  }\n\n  ::v-deep .el-input-group__append {\n    padding: 0;\n  }\n\n  // footer\n  .page-login--content-footer {\n    margin-top: 10%;\n    padding: 1em 0;\n\n    .page-login--content-footer-locales {\n      padding: 0px;\n      margin: 0px;\n      margin-bottom: 15px;\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n      color: $color-text-normal;\n\n      a {\n        color: $color-text-normal;\n        margin: 0 0.5em;\n\n        &:hover {\n          color: $color-text-main;\n        }\n      }\n    }\n\n    .page-login--content-footer-copyright {\n      padding: 0px;\n      margin: 0px;\n      margin-bottom: 10px;\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n      color: $color-text-normal;\n\n      a {\n        color: $color-text-normal;\n      }\n    }\n\n    .page-login--content-footer-options {\n      padding: 0px;\n      margin: 0px;\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n\n      a {\n        color: $color-text-normal;\n        margin: 0 1em;\n      }\n    }\n  }\n</style>\n"]}]}