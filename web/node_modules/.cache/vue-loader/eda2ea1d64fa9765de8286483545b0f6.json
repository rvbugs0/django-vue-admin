{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/d2p-extends/src/full-editor/lib/d2-ueditor/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/d2p-extends/src/full-editor/lib/d2-ueditor/index.vue","mtime":1674694550331},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js","mtime":1674694549360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMb2FkRXZlbnQgZnJvbSAnLi91dGlscy9FdmVudCcKaW1wb3J0IHsgZDJDcnVkUGx1cyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2QyLWNydWQtcGx1cycKaW1wb3J0IGRlZmF1bHRDb25maWcgZnJvbSAnLi91dGlscy9jb25maWcnCi8qKgogKiB1ZWRpdG9y5a+M5paH5pys57yW6L6R5Zmo5YyF6KOF77yM5pSv5oyBdi1tb2RlbOe7keWumgogKi8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdkMnAtdWVkaXRvcicsCiAgbWl4aW5zOiBbZDJDcnVkUGx1cy5pbnB1dEJhc2VdLAogIHByb3BzOiB7CiAgICAvLyDlr4zmlofmnKwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICAvLyDnvJbovpHlmajphY3nva4KICAgIC8vIOivt+WPguiAg++8mmh0dHA6Ly9mZXguYmFpZHUuY29tL3VlZGl0b3IvI3N0YXJ0LWNvbmZpZwogICAgY29uZmlnOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiB7fQogICAgICB9CiAgICB9LAogICAgLy8g57yW6L6R5Zmo5ZCN56ewCiAgICBuYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdG9yOiB1bmRlZmluZWQsCiAgICAgIG1peGVkQ29uZmlnOiB7fQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRpc2FibGVkICh2YWx1ZSkgewogICAgICBpZiAodGhpcy5lZGl0b3IpIHsKICAgICAgICB2YWx1ZSA/IHRoaXMuZWRpdG9yLnNldERpc2FibGVkKCkgOiB0aGlzLmVkaXRvci5zZXRFbmFibGVkKCkKICAgICAgfQogICAgfSwKICAgIC8vIOWvueWkluaPkOS+myB2LW1vZGVsCiAgICB2YWx1ZSAodmFsdWUpIHsKICAgICAgaWYgKHRoaXMuZGlzcGF0Y2gpIHsKICAgICAgICB0aGlzLmRpc3BhdGNoKCdFbEZvcm1JdGVtJywgJ2VsLmZvcm0uYmx1cicpCiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWUpCiAgICAgIGlmICh0aGlzLmVkaXRvci5nZXRDb250ZW50KCkgPT09IHZhbHVlKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdGhpcy5zZXRWYWx1ZSh2YWx1ZSkKICAgIH0KICB9LAogIGNyZWF0ZWQgKCkgewogICAgdGhpcy5pbml0VmFsdWUgPSB0aGlzLnZhbHVlCiAgfSwKICBtb3VudGVkICgpIHsKICAgIE9iamVjdC5hc3NpZ24odGhpcy5taXhlZENvbmZpZywgZGVmYXVsdENvbmZpZykKICAgIE9iamVjdC5hc3NpZ24odGhpcy5taXhlZENvbmZpZywgdGhpcy5jb25maWcpCiAgICB0aGlzLl9jaGVja0RlcGVuZGVuY2llcygpLnRoZW4oKCkgPT4gewogICAgICB0aGlzLiRyZWZzLnNjcmlwdCA/IHRoaXMuX2luaXRFZGl0b3IoKSA6IHRoaXMuJG5leHRUaWNrKCgpID0+IHRoaXMuX2luaXRFZGl0b3IoKSkKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICBvbklucHV0IChldmVudCkgewogICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGV2ZW50CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgZXZlbnQpCiAgICB9LAogICAgb25DaGFuZ2UgKGV2ZW50KSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGV2ZW50KQogICAgfSwKICAgIC8vIOWunuS+i+WMlue8lui+keWZqAogICAgX2luaXRFZGl0b3IgKCkgewogICAgICB0aGlzLiRyZWZzLnNjcmlwdC5pZCA9IHRoaXMuaWQgPSAnZWRpdG9yXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zbGljZSgtNikgLy8g6L+Z5LmI5YGa5piv5Li65LqG5pSv5oyBIFZ1ZSBTU1LvvIzlm6DkuLrlpoLmnpzmioogaWQg5bGe5oCn5pS+5ZyoIGRhdGEg6YeM5Lya5a+86Ie05pyN5Yqh56uv5ZKM5a6i5oi356uv5YiG5Yir6K6h566X6K+l5bGe5oCn55qE5YC877yM6ICM6YCg5oiQIGlkIOS4jeWMuemFjeaXoOazleWIneWni+WMlueahCBCVUcKICAgICAgdGhpcy4kZW1pdCgnYmVmb3JlSW5pdCcsIHRoaXMuaWQsIHRoaXMubWl4ZWRDb25maWcpCiAgICAgIHRoaXMuZWRpdG9yID0gd2luZG93LlVFLmdldEVkaXRvcih0aGlzLmlkLCB0aGlzLm1peGVkQ29uZmlnKQogICAgICB0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigncmVhZHknLCAoKSA9PiB7CiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyKSB7IC8vIOS9v+eUqCBrZWVwLWFsaXZlIOe7hOS7tuS8muWHuueOsOi/meenjeaDheWGtQogICAgICAgICAgdGhpcy5lZGl0b3Iuc2V0Q29udGVudCh0aGlzLnZhbHVlKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnN0YXR1cyA9IDIKICAgICAgICAgIHRoaXMuJGVtaXQoJ3JlYWR5JywgeyB2bTogdGhpcywgZWRpdG9yOiB0aGlzLmVkaXRvciB9KQogICAgICAgICAgaWYgKHRoaXMuaW5pdFZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNldENvbnRlbnQodGhpcy5pbml0VmFsdWUpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmVkaXRvcikgewogICAgICAgICAgdGhpcy5kaXNhYmxlZCA/IHRoaXMuZWRpdG9yLnNldERpc2FibGVkKCkgOiB0aGlzLmVkaXRvci5zZXRFbmFibGVkKCkKICAgICAgICB9CgogICAgICAgIHRoaXMuZWRpdG9yLmFkZExpc3RlbmVyKCdjb250ZW50Q2hhbmdlJywgdGhpcy5jb250ZW50Q2hhbmdlSGFuZGxlcikKICAgICAgfSkKICAgIH0sCiAgICAvLyDmo4DmtYvkvp3otZYs56Gu5L+dIFVFZGl0b3Ig6LWE5rqQ5paH5Lu25bey5Yqg6L295a6M5q+VCiAgICBfY2hlY2tEZXBlbmRlbmNpZXMgKCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIC8vIOWIpOaWrXVlZGl0b3IuY29uZmlnLmpz5ZKMdWVkaXRvci5hbGwuanPmmK/lkKblnYflt7LliqDovb0o5LuF5Yqg6L295a6MdWVkaXRvci5jb25maWcuanPml7ZVReWvueixoeWSjFVFRElUT1JfQ09ORklH5a+56LGh5a2Y5ZyoLOS7heWKoOi9veWujHVlZGl0b3IuYWxsLmpz5pe2VUVESVRPUl9DT05GSUflr7nosaHlrZjlnKgs5L2G5Li656m65a+56LGhKQogICAgICAgIGNvbnN0IHNjcmlwdHNMb2FkZWQgPSAhIXdpbmRvdy5VRSAmJiAhIXdpbmRvdy5VRURJVE9SX0NPTkZJRyAmJiBPYmplY3Qua2V5cyh3aW5kb3cuVUVESVRPUl9DT05GSUcpLmxlbmd0aCAhPT0gMCAmJiAhIXdpbmRvdy5VRS5nZXRFZGl0b3IKICAgICAgICBpZiAoc2NyaXB0c0xvYWRlZCkgewogICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuJGxvYWRFbnYpIHsgLy8g5Yip55So6K6i6ZiF5Y+R5biD77yM56Gu5L+d5ZCM5pe25riy5p+T5aSa5Liq57uE5Lu25pe277yM5LiN5Lya6YeN5aSN5Yib5bu6c2NyaXB05qCH562+CiAgICAgICAgICB3aW5kb3cuJGxvYWRFbnYub24oJ3NjcmlwdHNMb2FkZWQnLCAoKSA9PiB7CiAgICAgICAgICAgIHJlc29sdmUoKQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2luZG93LiRsb2FkRW52ID0gbmV3IExvYWRFdmVudCgpCiAgICAgICAgICAvLyDlpoLmnpzlnKjlhbbku5blnLDmlrnlj6rlvJXnlKh1ZWRpdG9yLmFsbC5taW4uanPvvIzlnKjliqDovb11ZWRpdG9yLmNvbmZpZy5qc+S5i+WQjuS7jemcgOimgemHjeaWsOWKoOi9vXVlZGl0b3IuYWxsLm1pbi5qc++8jOaJgOS7peW/hemhu+ehruS/nXVlZGl0b3IuY29uZmlnLmpz5bey5Yqg6L29CiAgICAgICAgICB0aGlzLl9sb2FkQ29uZmlnKCkudGhlbigoKSA9PiB0aGlzLl9sb2FkQ29yZSgpKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgICAgIHdpbmRvdy4kbG9hZEVudi5lbWl0KCdzY3JpcHRzTG9hZGVkJykKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIF9sb2FkQ29uZmlnICgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBpZiAod2luZG93LlVFICYmIHdpbmRvdy5VRURJVE9SX0NPTkZJRyAmJiBPYmplY3Qua2V5cyh3aW5kb3cuVUVESVRPUl9DT05GSUcpLmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgY29uc3QgY29uZmlnU2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JykKICAgICAgICBjb25maWdTY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnCiAgICAgICAgY29uZmlnU2NyaXB0LnNyYyA9IHRoaXMubWl4ZWRDb25maWcuVUVESVRPUl9IT01FX1VSTCArICd1ZWRpdG9yLmNvbmZpZy5qcycKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKGNvbmZpZ1NjcmlwdCkKICAgICAgICBjb25maWdTY3JpcHQub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKHdpbmRvdy5VRSAmJiB3aW5kb3cuVUVESVRPUl9DT05GSUcgJiYgT2JqZWN0LmtleXMod2luZG93LlVFRElUT1JfQ09ORklHKS5sZW5ndGggIT09IDApIHsKICAgICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb11ZWRpdG9yLmNvbmZpZy5qc+Wksei0pSzor7fmo4Dmn6XmgqjnmoTphY3nva7lnLDlnYBVRURJVE9SX0hPTUVfVVJM5aGr5YaZ5piv5ZCm5q2j56GuIVxuJywgY29uZmlnU2NyaXB0LnNyYykKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgX2xvYWRDb3JlICgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBpZiAod2luZG93LlVFICYmIHdpbmRvdy5VRS5nZXRFZGl0b3IpIHsKICAgICAgICAgIHJlc29sdmUoKQogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIGNvbnN0IGNvcmVTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKQogICAgICAgIGNvcmVTY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnCiAgICAgICAgY29yZVNjcmlwdC5zcmMgPSB0aGlzLm1peGVkQ29uZmlnLlVFRElUT1JfSE9NRV9VUkwgKyAndWVkaXRvci5hbGwubWluLmpzJwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoY29yZVNjcmlwdCkKICAgICAgICBjb3JlU2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICh3aW5kb3cuVUUgJiYgd2luZG93LlVFLmdldEVkaXRvcikgewogICAgICAgICAgICByZXNvbHZlKCkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9vXVlZGl0b3IuYWxsLm1pbi5qc+Wksei0pSzor7fmo4Dmn6XmgqjnmoTphY3nva7lnLDlnYBVRURJVE9SX0hPTUVfVVJM5aGr5YaZ5piv5ZCm5q2j56GuIVxuJywgY29yZVNjcmlwdC5zcmMpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGNvbnRlbnRDaGFuZ2VIYW5kbGVyICgpIHsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmVkaXRvci5nZXRDb250ZW50KCkpCiAgICB9LAogICAgLy8g6K6+572u5YaF5a65CiAgICBfc2V0Q29udGVudCAodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLmVkaXRvci5nZXRDb250ZW50KCkpIHsKICAgICAgICB0aGlzLmVkaXRvci5zZXRDb250ZW50KHZhbHVlKQogICAgICB9CiAgICB9LAogICAgc2V0VmFsdWUgKHZhbHVlKSB7CiAgICAgIHN3aXRjaCAodGhpcy5zdGF0dXMpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgdGhpcy5pbml0VmFsdWUgPSB2YWx1ZQogICAgICAgICAgYnJlYWsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICB0aGlzLl9zZXRDb250ZW50KHZhbHVlKQogICAgICAgICAgYnJlYWsKICAgICAgfQogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveSAoKSB7CiAgICBpZiAodGhpcy5lZGl0b3IgJiYgdGhpcy5lZGl0b3IuZGVzdHJveSkgewogICAgICB0aGlzLmVkaXRvci5kZXN0cm95KCkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/d2p-extends/src/full-editor/lib/d2-ueditor","sourcesContent":["<template>\n  <div class=\"d2p-ueditor\">\n    <script ref=\"script\" :name=\"name\" type=\"text/plain\"></script>\n  </div>\n</template>\n\n<script>\nimport LoadEvent from './utils/Event'\nimport { d2CrudPlus } from '../../../utils/d2-crud-plus'\nimport defaultConfig from './utils/config'\n/**\n * ueditor富文本编辑器包装，支持v-model绑定\n */\nexport default {\n  name: 'd2p-ueditor',\n  mixins: [d2CrudPlus.inputBase],\n  props: {\n    // 富文本\n    value: {\n      type: String,\n      default: ''\n    },\n    // 编辑器配置\n    // 请参考：http://fex.baidu.com/ueditor/#start-config\n    config: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    },\n    // 编辑器名称\n    name: {\n      type: String,\n      default: ''\n    }\n  },\n  data () {\n    return {\n      editor: undefined,\n      mixedConfig: {}\n    }\n  },\n  watch: {\n    disabled (value) {\n      if (this.editor) {\n        value ? this.editor.setDisabled() : this.editor.setEnabled()\n      }\n    },\n    // 对外提供 v-model\n    value (value) {\n      if (this.dispatch) {\n        this.dispatch('ElFormItem', 'el.form.blur')\n      }\n      this.$emit('change', value)\n      if (this.editor.getContent() === value) {\n        return\n      }\n      this.setValue(value)\n    }\n  },\n  created () {\n    this.initValue = this.value\n  },\n  mounted () {\n    Object.assign(this.mixedConfig, defaultConfig)\n    Object.assign(this.mixedConfig, this.config)\n    this._checkDependencies().then(() => {\n      this.$refs.script ? this._initEditor() : this.$nextTick(() => this._initEditor())\n    })\n  },\n  methods: {\n    onInput (event) {\n      this.currentValue = event\n      this.$emit('input', event)\n    },\n    onChange (event) {\n      this.$emit('change', event)\n    },\n    // 实例化编辑器\n    _initEditor () {\n      this.$refs.script.id = this.id = 'editor_' + Math.random().toString(16).slice(-6) // 这么做是为了支持 Vue SSR，因为如果把 id 属性放在 data 里会导致服务端和客户端分别计算该属性的值，而造成 id 不匹配无法初始化的 BUG\n      this.$emit('beforeInit', this.id, this.mixedConfig)\n      this.editor = window.UE.getEditor(this.id, this.mixedConfig)\n      this.editor.addListener('ready', () => {\n        if (this.status === 2) { // 使用 keep-alive 组件会出现这种情况\n          this.editor.setContent(this.value)\n        } else {\n          this.status = 2\n          this.$emit('ready', { vm: this, editor: this.editor })\n          if (this.initValue) {\n            this.editor.setContent(this.initValue)\n          }\n        }\n        if (this.editor) {\n          this.disabled ? this.editor.setDisabled() : this.editor.setEnabled()\n        }\n\n        this.editor.addListener('contentChange', this.contentChangeHandler)\n      })\n    },\n    // 检测依赖,确保 UEditor 资源文件已加载完毕\n    _checkDependencies () {\n      return new Promise((resolve, reject) => {\n        // 判断ueditor.config.js和ueditor.all.js是否均已加载(仅加载完ueditor.config.js时UE对象和UEDITOR_CONFIG对象存在,仅加载完ueditor.all.js时UEDITOR_CONFIG对象存在,但为空对象)\n        const scriptsLoaded = !!window.UE && !!window.UEDITOR_CONFIG && Object.keys(window.UEDITOR_CONFIG).length !== 0 && !!window.UE.getEditor\n        if (scriptsLoaded) {\n          resolve()\n        } else if (window.$loadEnv) { // 利用订阅发布，确保同时渲染多个组件时，不会重复创建script标签\n          window.$loadEnv.on('scriptsLoaded', () => {\n            resolve()\n          })\n        } else {\n          window.$loadEnv = new LoadEvent()\n          // 如果在其他地方只引用ueditor.all.min.js，在加载ueditor.config.js之后仍需要重新加载ueditor.all.min.js，所以必须确保ueditor.config.js已加载\n          this._loadConfig().then(() => this._loadCore()).then(() => {\n            resolve()\n            window.$loadEnv.emit('scriptsLoaded')\n          })\n        }\n      })\n    },\n    _loadConfig () {\n      return new Promise((resolve, reject) => {\n        if (window.UE && window.UEDITOR_CONFIG && Object.keys(window.UEDITOR_CONFIG).length !== 0) {\n          resolve()\n          return\n        }\n        const configScript = document.createElement('script')\n        configScript.type = 'text/javascript'\n        configScript.src = this.mixedConfig.UEDITOR_HOME_URL + 'ueditor.config.js'\n        document.getElementsByTagName('head')[0].appendChild(configScript)\n        configScript.onload = function () {\n          if (window.UE && window.UEDITOR_CONFIG && Object.keys(window.UEDITOR_CONFIG).length !== 0) {\n            resolve()\n          } else {\n            console.error('加载ueditor.config.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!\\n', configScript.src)\n          }\n        }\n      })\n    },\n    _loadCore () {\n      return new Promise((resolve, reject) => {\n        if (window.UE && window.UE.getEditor) {\n          resolve()\n          return\n        }\n        const coreScript = document.createElement('script')\n        coreScript.type = 'text/javascript'\n        coreScript.src = this.mixedConfig.UEDITOR_HOME_URL + 'ueditor.all.min.js'\n        document.getElementsByTagName('head')[0].appendChild(coreScript)\n        coreScript.onload = function () {\n          if (window.UE && window.UE.getEditor) {\n            resolve()\n          } else {\n            console.error('加载ueditor.all.min.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!\\n', coreScript.src)\n          }\n        }\n      })\n    },\n    contentChangeHandler () {\n      this.$emit('input', this.editor.getContent())\n    },\n    // 设置内容\n    _setContent (value) {\n      if (value !== this.editor.getContent()) {\n        this.editor.setContent(value)\n      }\n    },\n    setValue (value) {\n      switch (this.status) {\n        case 0:\n        case 1:\n          this.initValue = value\n          break\n        case 2:\n          this._setContent(value)\n          break\n      }\n    }\n  },\n  beforeDestroy () {\n    if (this.editor && this.editor.destroy) {\n      this.editor.destroy()\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n  .d2p-ueditor{\n    .edui-default .edui-toolbar .edui-button, .edui-default .edui-toolbar .edui-splitbutton, .edui-default .edui-toolbar .edui-menubutton, .edui-default .edui-toolbar .edui-combox {\n      line-height: normal;\n    }\n    .edui-editor{line-height: normal;box-sizing: border-box;}\n  }\n</style>\n"]}]}