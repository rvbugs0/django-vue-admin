{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raviailani/Downloads/django-vue-admin/web/src/views/system/menu/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/src/views/system/menu/index.vue","mtime":1674694301502},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/babel.config.js","mtime":1674694301461},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js","mtime":1674694549360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICogYXMgYXBpIGZyb20gJy4vYXBpJzsKaW1wb3J0IHsgY3J1ZE9wdGlvbnMgfSBmcm9tICcuL2NydWQnOwppbXBvcnQgeyBkMkNydWRQbHVzIH0gZnJvbSAnZDItY3J1ZC1wbHVzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdtZW51cycsCiAgbWl4aW5zOiBbZDJDcnVkUGx1cy5jcnVkXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q3J1ZE9wdGlvbnM6IGZ1bmN0aW9uIGdldENydWRPcHRpb25zKCkgewogICAgICByZXR1cm4gY3J1ZE9wdGlvbnModGhpcyk7CiAgICB9LAogICAgcGFnZVJlcXVlc3Q6IGZ1bmN0aW9uIHBhZ2VSZXF1ZXN0KHF1ZXJ5KSB7CiAgICAgIHJldHVybiBhcGkuR2V0TGlzdChxdWVyeSk7CiAgICB9LAogICAgYWRkUmVxdWVzdDogZnVuY3Rpb24gYWRkUmVxdWVzdChyb3cpIHsKICAgICAgcmV0dXJuIGFwaS5jcmVhdGVPYmoocm93KTsKICAgIH0sCiAgICB1cGRhdGVSZXF1ZXN0OiBmdW5jdGlvbiB1cGRhdGVSZXF1ZXN0KHJvdykgewogICAgICByZXR1cm4gYXBpLlVwZGF0ZU9iaihyb3cpOwogICAgfSwKICAgIGRlbFJlcXVlc3Q6IGZ1bmN0aW9uIGRlbFJlcXVlc3Qocm93KSB7CiAgICAgIHJldHVybiBhcGkuRGVsT2JqKHJvdy5pZCk7CiAgICB9LAogICAgLy8g5o6I5p2DCiAgICBjcmVhdGVQZXJtaXNzaW9uOiBmdW5jdGlvbiBjcmVhdGVQZXJtaXNzaW9uKHNjb3BlKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnbWVudUJ1dHRvbicsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiBzY29wZS5yb3cuaWQsCiAgICAgICAgICBuYW1lOiBzY29wZS5yb3cubmFtZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6L+U5Zuedmlld3Pnm67lvZXkuIvmiYDmnIl2dWXmlofku7bot6/lvoQKICAgIHNlYXJjaEZpbGVzOiBmdW5jdGlvbiBzZWFyY2hGaWxlcygpIHsKICAgICAgdmFyIGZpbGVzID0gcmVxdWlyZS5jb250ZXh0KCdAL3ZpZXdzJywgdHJ1ZSwgL1wudnVlJC8pOwogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIGZpbGVzLmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXN1bHQucHVzaCh7CiAgICAgICAgICBsYWJlbDoga2V5LnJlcGxhY2UoLyhcLlwvfFwudnVlKS9nLCAnJyksCiAgICAgICAgICB2YWx1ZToga2V5LnJlcGxhY2UoLyhcLlwvfFwudnVlKS9nLCAnJykKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgLyoqCiAgICAgKiDmh5LliqDovb0KICAgICAqIEBwYXJhbSByb3cKICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHVua25vd24+fQogICAgICovCiAgICBsb2FkQ29udGVudE1ldGhvZDogZnVuY3Rpb24gbG9hZENvbnRlbnRNZXRob2QoX3JlZikgewogICAgICB2YXIgcm93ID0gX3JlZi5yb3c7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIGFwaS5HZXRMaXN0KHsKICAgICAgICAgIHBhcmVudDogcm93LmlkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhLmRhdGEpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;AA6CA;AACA;AACA;AACA;EACAA;EACAC;EACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACAT;QACAU;UAAAC;UAAAX;QAAA;MACA;IACA;IACA;IACAY;MACA;MACA;MACAC;QACAC;UACAC;UACAC;QACA;MACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;IACAC;MAAA;MACA;QACAC;UAAAC;QAAA;UACAC;QACA;MACA;IACA;EACA;AACA","names":["name","mixins","data","methods","getCrudOptions","pageRequest","addRequest","updateRequest","delRequest","createPermission","query","id","searchFiles","files","result","label","value","loadContentMethod","api","parent","resolve"],"sourceRoot":"src/views/system/menu","sources":["index.vue"],"sourcesContent":["<!--\n * @创建文件时间: 2021-06-01 22:41:21\n * @Auther: 猿小天\n * @最后修改人: 猿小天\n * @最后修改时间: 2021-08-12 00:06:38\n * 联系Qq:1638245306\n * @文件介绍:\n-->\n<template>\n  <d2-container :class=\"{ 'page-compact': crud.pageOptions.compact }\">\n    <!--    <template slot=\"header\">测试页面1</template>-->\n    <d2-crud-x\n      ref=\"d2Crud\"\n      v-bind=\"_crudProps\"\n      v-on=\"_crudListeners\"\n      @createPermission=\"createPermission\"\n    >\n      <div slot=\"header\">\n        <crud-search\n          ref=\"search\"\n          :options=\"crud.searchOptions\"\n          @submit=\"handleSearch\"\n        />\n        <el-button-group>\n          <el-button\n            size=\"small\"\n            v-permission=\"'Create'\"\n            type=\"primary\"\n            @click=\"addRow\"\n            ><i class=\"el-icon-plus\" /> 新增</el-button\n          >\n        </el-button-group>\n        <crud-toolbar\n          :search.sync=\"crud.searchOptions.show\"\n          :compact.sync=\"crud.pageOptions.compact\"\n          :columns=\"crud.columns\"\n          @refresh=\"doRefresh()\"\n          @columns-filter-changed=\"handleColumnsFilterChanged\"\n        />\n      </div>\n    </d2-crud-x>\n  </d2-container>\n</template>\n\n<script>\nimport * as api from './api'\nimport { crudOptions } from './crud'\nimport { d2CrudPlus } from 'd2-crud-plus'\nexport default {\n  name: 'menus',\n  mixins: [d2CrudPlus.crud],\n  data () {\n    return {}\n  },\n  methods: {\n    getCrudOptions () {\n      return crudOptions(this)\n    },\n    pageRequest (query) {\n      return api.GetList(query)\n    },\n    addRequest (row) {\n      return api.createObj(row)\n    },\n    updateRequest (row) {\n      return api.UpdateObj(row)\n    },\n    delRequest (row) {\n      return api.DelObj(row.id)\n    },\n    // 授权\n    createPermission (scope) {\n      this.$router.push({\n        name: 'menuButton',\n        query: { id: scope.row.id, name: scope.row.name }\n      })\n    },\n    // 返回views目录下所有vue文件路径\n    searchFiles () {\n      const files = require.context('@/views', true, /\\.vue$/)\n      const result = []\n      files.keys().forEach((key) => {\n        result.push({\n          label: key.replace(/(\\.\\/|\\.vue)/g, ''),\n          value: key.replace(/(\\.\\/|\\.vue)/g, '')\n        })\n      })\n      return result\n    },\n    /**\n     * 懒加载\n     * @param row\n     * @returns {Promise<unknown>}\n     */\n    loadContentMethod ({ row }) {\n      return new Promise(resolve => {\n        api.GetList({ parent: row.id }).then(res => {\n          resolve(res.data.data)\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.yxtInput {\n  .el-form-item__label {\n    color: #49a1ff;\n  }\n}\n</style>\n"]}]}