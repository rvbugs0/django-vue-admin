{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/d2p-extends/src/full-editor/lib/d2-ueditor/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/d2p-extends/src/full-editor/lib/d2-ueditor/index.vue","mtime":1674694550331},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/babel.config.js","mtime":1674694301461},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js","mtime":1674694549360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0IExvYWRFdmVudCBmcm9tICcuL3V0aWxzL0V2ZW50JzsKaW1wb3J0IHsgZDJDcnVkUGx1cyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2QyLWNydWQtcGx1cyc7CmltcG9ydCBkZWZhdWx0Q29uZmlnIGZyb20gJy4vdXRpbHMvY29uZmlnJzsKLyoqCiAqIHVlZGl0b3Llr4zmlofmnKznvJbovpHlmajljIXoo4XvvIzmlK/mjIF2LW1vZGVs57uR5a6aCiAqLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2QycC11ZWRpdG9yJywKICBtaXhpbnM6IFtkMkNydWRQbHVzLmlucHV0QmFzZV0sCiAgcHJvcHM6IHsKICAgIC8vIOWvjOaWh+acrAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIC8vIOe8lui+keWZqOmFjee9rgogICAgLy8g6K+35Y+C6ICD77yaaHR0cDovL2ZleC5iYWlkdS5jb20vdWVkaXRvci8jc3RhcnQtY29uZmlnCiAgICBjb25maWc6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICAvLyDnvJbovpHlmajlkI3np7AKICAgIG5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRvcjogdW5kZWZpbmVkLAogICAgICBtaXhlZENvbmZpZzoge30KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgZGlzYWJsZWQ6IGZ1bmN0aW9uIGRpc2FibGVkKHZhbHVlKSB7CiAgICAgIGlmICh0aGlzLmVkaXRvcikgewogICAgICAgIHZhbHVlID8gdGhpcy5lZGl0b3Iuc2V0RGlzYWJsZWQoKSA6IHRoaXMuZWRpdG9yLnNldEVuYWJsZWQoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWvueWkluaPkOS+myB2LW1vZGVsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoX3ZhbHVlKSB7CiAgICAgIGlmICh0aGlzLmRpc3BhdGNoKSB7CiAgICAgICAgdGhpcy5kaXNwYXRjaCgnRWxGb3JtSXRlbScsICdlbC5mb3JtLmJsdXInKTsKICAgICAgfQogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBfdmFsdWUpOwogICAgICBpZiAodGhpcy5lZGl0b3IuZ2V0Q29udGVudCgpID09PSBfdmFsdWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5zZXRWYWx1ZShfdmFsdWUpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdFZhbHVlID0gdGhpcy52YWx1ZTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgT2JqZWN0LmFzc2lnbih0aGlzLm1peGVkQ29uZmlnLCBkZWZhdWx0Q29uZmlnKTsKICAgIE9iamVjdC5hc3NpZ24odGhpcy5taXhlZENvbmZpZywgdGhpcy5jb25maWcpOwogICAgdGhpcy5fY2hlY2tEZXBlbmRlbmNpZXMoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuJHJlZnMuc2NyaXB0ID8gX3RoaXMuX2luaXRFZGl0b3IoKSA6IF90aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLl9pbml0RWRpdG9yKCk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbklucHV0OiBmdW5jdGlvbiBvbklucHV0KGV2ZW50KSB7CiAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gZXZlbnQ7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgZXZlbnQpOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBldmVudCk7CiAgICB9LAogICAgLy8g5a6e5L6L5YyW57yW6L6R5ZmoCiAgICBfaW5pdEVkaXRvcjogZnVuY3Rpb24gX2luaXRFZGl0b3IoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzLnNjcmlwdC5pZCA9IHRoaXMuaWQgPSAnZWRpdG9yXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zbGljZSgtNik7IC8vIOi/meS5iOWBmuaYr+S4uuS6huaUr+aMgSBWdWUgU1NS77yM5Zug5Li65aaC5p6c5oqKIGlkIOWxnuaAp+aUvuWcqCBkYXRhIOmHjOS8muWvvOiHtOacjeWKoeerr+WSjOWuouaIt+err+WIhuWIq+iuoeeul+ivpeWxnuaAp+eahOWAvO+8jOiAjOmAoOaIkCBpZCDkuI3ljLnphY3ml6Dms5XliJ3lp4vljJbnmoQgQlVHCiAgICAgIHRoaXMuJGVtaXQoJ2JlZm9yZUluaXQnLCB0aGlzLmlkLCB0aGlzLm1peGVkQ29uZmlnKTsKICAgICAgdGhpcy5lZGl0b3IgPSB3aW5kb3cuVUUuZ2V0RWRpdG9yKHRoaXMuaWQsIHRoaXMubWl4ZWRDb25maWcpOwogICAgICB0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigncmVhZHknLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzMi5zdGF0dXMgPT09IDIpIHsKICAgICAgICAgIC8vIOS9v+eUqCBrZWVwLWFsaXZlIOe7hOS7tuS8muWHuueOsOi/meenjeaDheWGtQogICAgICAgICAgX3RoaXMyLmVkaXRvci5zZXRDb250ZW50KF90aGlzMi52YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5zdGF0dXMgPSAyOwogICAgICAgICAgX3RoaXMyLiRlbWl0KCdyZWFkeScsIHsKICAgICAgICAgICAgdm06IF90aGlzMiwKICAgICAgICAgICAgZWRpdG9yOiBfdGhpczIuZWRpdG9yCiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChfdGhpczIuaW5pdFZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzMi5lZGl0b3Iuc2V0Q29udGVudChfdGhpczIuaW5pdFZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKF90aGlzMi5lZGl0b3IpIHsKICAgICAgICAgIF90aGlzMi5kaXNhYmxlZCA/IF90aGlzMi5lZGl0b3Iuc2V0RGlzYWJsZWQoKSA6IF90aGlzMi5lZGl0b3Iuc2V0RW5hYmxlZCgpOwogICAgICAgIH0KICAgICAgICBfdGhpczIuZWRpdG9yLmFkZExpc3RlbmVyKCdjb250ZW50Q2hhbmdlJywgX3RoaXMyLmNvbnRlbnRDaGFuZ2VIYW5kbGVyKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5qOA5rWL5L6d6LWWLOehruS/nSBVRWRpdG9yIOi1hOa6kOaWh+S7tuW3suWKoOi9veWujOavlQogICAgX2NoZWNrRGVwZW5kZW5jaWVzOiBmdW5jdGlvbiBfY2hlY2tEZXBlbmRlbmNpZXMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIC8vIOWIpOaWrXVlZGl0b3IuY29uZmlnLmpz5ZKMdWVkaXRvci5hbGwuanPmmK/lkKblnYflt7LliqDovb0o5LuF5Yqg6L295a6MdWVkaXRvci5jb25maWcuanPml7ZVReWvueixoeWSjFVFRElUT1JfQ09ORklH5a+56LGh5a2Y5ZyoLOS7heWKoOi9veWujHVlZGl0b3IuYWxsLmpz5pe2VUVESVRPUl9DT05GSUflr7nosaHlrZjlnKgs5L2G5Li656m65a+56LGhKQogICAgICAgIHZhciBzY3JpcHRzTG9hZGVkID0gISF3aW5kb3cuVUUgJiYgISF3aW5kb3cuVUVESVRPUl9DT05GSUcgJiYgT2JqZWN0LmtleXMod2luZG93LlVFRElUT1JfQ09ORklHKS5sZW5ndGggIT09IDAgJiYgISF3aW5kb3cuVUUuZ2V0RWRpdG9yOwogICAgICAgIGlmIChzY3JpcHRzTG9hZGVkKSB7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuJGxvYWRFbnYpIHsKICAgICAgICAgIC8vIOWIqeeUqOiuoumYheWPkeW4g++8jOehruS/neWQjOaXtua4suafk+WkmuS4que7hOS7tuaXtu+8jOS4jeS8mumHjeWkjeWIm+W7unNjcmlwdOagh+etvgogICAgICAgICAgd2luZG93LiRsb2FkRW52Lm9uKCdzY3JpcHRzTG9hZGVkJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2luZG93LiRsb2FkRW52ID0gbmV3IExvYWRFdmVudCgpOwogICAgICAgICAgLy8g5aaC5p6c5Zyo5YW25LuW5Zyw5pa55Y+q5byV55SodWVkaXRvci5hbGwubWluLmpz77yM5Zyo5Yqg6L29dWVkaXRvci5jb25maWcuanPkuYvlkI7ku43pnIDopoHph43mlrDliqDovb11ZWRpdG9yLmFsbC5taW4uanPvvIzmiYDku6Xlv4Xpobvnoa7kv511ZWRpdG9yLmNvbmZpZy5qc+W3suWKoOi9vQogICAgICAgICAgX3RoaXMzLl9sb2FkQ29uZmlnKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczMuX2xvYWRDb3JlKCk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICB3aW5kb3cuJGxvYWRFbnYuZW1pdCgnc2NyaXB0c0xvYWRlZCcpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBfbG9hZENvbmZpZzogZnVuY3Rpb24gX2xvYWRDb25maWcoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmICh3aW5kb3cuVUUgJiYgd2luZG93LlVFRElUT1JfQ09ORklHICYmIE9iamVjdC5rZXlzKHdpbmRvdy5VRURJVE9SX0NPTkZJRykubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZhciBjb25maWdTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgICBjb25maWdTY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOwogICAgICAgIGNvbmZpZ1NjcmlwdC5zcmMgPSBfdGhpczQubWl4ZWRDb25maWcuVUVESVRPUl9IT01FX1VSTCArICd1ZWRpdG9yLmNvbmZpZy5qcyc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChjb25maWdTY3JpcHQpOwogICAgICAgIGNvbmZpZ1NjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAod2luZG93LlVFICYmIHdpbmRvdy5VRURJVE9SX0NPTkZJRyAmJiBPYmplY3Qua2V5cyh3aW5kb3cuVUVESVRPUl9DT05GSUcpLmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb11ZWRpdG9yLmNvbmZpZy5qc+Wksei0pSzor7fmo4Dmn6XmgqjnmoTphY3nva7lnLDlnYBVRURJVE9SX0hPTUVfVVJM5aGr5YaZ5piv5ZCm5q2j56GuIVxuJywgY29uZmlnU2NyaXB0LnNyYyk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgX2xvYWRDb3JlOiBmdW5jdGlvbiBfbG9hZENvcmUoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmICh3aW5kb3cuVUUgJiYgd2luZG93LlVFLmdldEVkaXRvcikgewogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB2YXIgY29yZVNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgICAgIGNvcmVTY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOwogICAgICAgIGNvcmVTY3JpcHQuc3JjID0gX3RoaXM1Lm1peGVkQ29uZmlnLlVFRElUT1JfSE9NRV9VUkwgKyAndWVkaXRvci5hbGwubWluLmpzJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKGNvcmVTY3JpcHQpOwogICAgICAgIGNvcmVTY3JpcHQub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKHdpbmRvdy5VRSAmJiB3aW5kb3cuVUUuZ2V0RWRpdG9yKSB7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9vXVlZGl0b3IuYWxsLm1pbi5qc+Wksei0pSzor7fmo4Dmn6XmgqjnmoTphY3nva7lnLDlnYBVRURJVE9SX0hPTUVfVVJM5aGr5YaZ5piv5ZCm5q2j56GuIVxuJywgY29yZVNjcmlwdC5zcmMpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIGNvbnRlbnRDaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbiBjb250ZW50Q2hhbmdlSGFuZGxlcigpIHsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmVkaXRvci5nZXRDb250ZW50KCkpOwogICAgfSwKICAgIC8vIOiuvue9ruWGheWuuQogICAgX3NldENvbnRlbnQ6IGZ1bmN0aW9uIF9zZXRDb250ZW50KHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5lZGl0b3IuZ2V0Q29udGVudCgpKSB7CiAgICAgICAgdGhpcy5lZGl0b3Iuc2V0Q29udGVudCh2YWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHsKICAgICAgc3dpdGNoICh0aGlzLnN0YXR1cykgewogICAgICAgIGNhc2UgMDoKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0aGlzLmluaXRWYWx1ZSA9IHZhbHVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAyOgogICAgICAgICAgdGhpcy5fc2V0Q29udGVudCh2YWx1ZSk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLmVkaXRvciAmJiB0aGlzLmVkaXRvci5kZXN0cm95KSB7CiAgICAgIHRoaXMuZWRpdG9yLmRlc3Ryb3koKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;EACAC;EACAC;IACA;IACAC;MACAC;MACAC;IACA;IACA;IACA;IACAC;MACAF;MACAC;QACA;MACA;IACA;IACA;IACAL;MACAI;MACAC;IACA;EACA;EACAE;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;QACAR;MACA;IACA;IACA;IACAA;MACA;QACA;MACA;MACA;MACA;QACA;MACA;MACA;IACA;EACA;EACAS;IACA;EACA;EACAC;IAAA;IACAC;IACAA;IACA;MACA;QAAA;MAAA;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;QACA;UAAA;UACA;QACA;UACA;UACA;YAAAC;YAAAX;UAAA;UACA;YACA;UACA;QACA;QACA;UACA;QACA;QAEA;MACA;IACA;IACA;IACAY;MAAA;MACA;QACA;QACA;QACA;UACAC;QACA;UAAA;UACAC;YACAD;UACA;QACA;UACAC;UACA;UACA;YAAA;UAAA;YACAD;YACAC;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACAF;UACA;QACA;QACA;QACAG;QACAA;QACAC;QACAD;UACA;YACAH;UACA;YACAK;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACAN;UACA;QACA;QACA;QACAO;QACAA;QACAH;QACAG;UACA;YACAP;UACA;YACAK;UACA;QACA;MACA;IACA;IACAG;MACA;IACA;IACA;IACAC;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;QACA;UACA;UACA;QACA;UACA;UACA;MAAA;IAEA;EACA;EACAC;IACA;MACA;IACA;EACA;AACA","names":["name","mixins","props","value","type","default","config","data","editor","mixedConfig","watch","disabled","created","mounted","Object","methods","onInput","onChange","_initEditor","vm","_checkDependencies","resolve","window","_loadConfig","configScript","document","console","_loadCore","coreScript","contentChangeHandler","_setContent","setValue","beforeDestroy"],"sourceRoot":"node_modules/d2p-extends/src/full-editor/lib/d2-ueditor","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"d2p-ueditor\">\n    <script ref=\"script\" :name=\"name\" type=\"text/plain\"></script>\n  </div>\n</template>\n\n<script>\nimport LoadEvent from './utils/Event'\nimport { d2CrudPlus } from '../../../utils/d2-crud-plus'\nimport defaultConfig from './utils/config'\n/**\n * ueditor富文本编辑器包装，支持v-model绑定\n */\nexport default {\n  name: 'd2p-ueditor',\n  mixins: [d2CrudPlus.inputBase],\n  props: {\n    // 富文本\n    value: {\n      type: String,\n      default: ''\n    },\n    // 编辑器配置\n    // 请参考：http://fex.baidu.com/ueditor/#start-config\n    config: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    },\n    // 编辑器名称\n    name: {\n      type: String,\n      default: ''\n    }\n  },\n  data () {\n    return {\n      editor: undefined,\n      mixedConfig: {}\n    }\n  },\n  watch: {\n    disabled (value) {\n      if (this.editor) {\n        value ? this.editor.setDisabled() : this.editor.setEnabled()\n      }\n    },\n    // 对外提供 v-model\n    value (value) {\n      if (this.dispatch) {\n        this.dispatch('ElFormItem', 'el.form.blur')\n      }\n      this.$emit('change', value)\n      if (this.editor.getContent() === value) {\n        return\n      }\n      this.setValue(value)\n    }\n  },\n  created () {\n    this.initValue = this.value\n  },\n  mounted () {\n    Object.assign(this.mixedConfig, defaultConfig)\n    Object.assign(this.mixedConfig, this.config)\n    this._checkDependencies().then(() => {\n      this.$refs.script ? this._initEditor() : this.$nextTick(() => this._initEditor())\n    })\n  },\n  methods: {\n    onInput (event) {\n      this.currentValue = event\n      this.$emit('input', event)\n    },\n    onChange (event) {\n      this.$emit('change', event)\n    },\n    // 实例化编辑器\n    _initEditor () {\n      this.$refs.script.id = this.id = 'editor_' + Math.random().toString(16).slice(-6) // 这么做是为了支持 Vue SSR，因为如果把 id 属性放在 data 里会导致服务端和客户端分别计算该属性的值，而造成 id 不匹配无法初始化的 BUG\n      this.$emit('beforeInit', this.id, this.mixedConfig)\n      this.editor = window.UE.getEditor(this.id, this.mixedConfig)\n      this.editor.addListener('ready', () => {\n        if (this.status === 2) { // 使用 keep-alive 组件会出现这种情况\n          this.editor.setContent(this.value)\n        } else {\n          this.status = 2\n          this.$emit('ready', { vm: this, editor: this.editor })\n          if (this.initValue) {\n            this.editor.setContent(this.initValue)\n          }\n        }\n        if (this.editor) {\n          this.disabled ? this.editor.setDisabled() : this.editor.setEnabled()\n        }\n\n        this.editor.addListener('contentChange', this.contentChangeHandler)\n      })\n    },\n    // 检测依赖,确保 UEditor 资源文件已加载完毕\n    _checkDependencies () {\n      return new Promise((resolve, reject) => {\n        // 判断ueditor.config.js和ueditor.all.js是否均已加载(仅加载完ueditor.config.js时UE对象和UEDITOR_CONFIG对象存在,仅加载完ueditor.all.js时UEDITOR_CONFIG对象存在,但为空对象)\n        const scriptsLoaded = !!window.UE && !!window.UEDITOR_CONFIG && Object.keys(window.UEDITOR_CONFIG).length !== 0 && !!window.UE.getEditor\n        if (scriptsLoaded) {\n          resolve()\n        } else if (window.$loadEnv) { // 利用订阅发布，确保同时渲染多个组件时，不会重复创建script标签\n          window.$loadEnv.on('scriptsLoaded', () => {\n            resolve()\n          })\n        } else {\n          window.$loadEnv = new LoadEvent()\n          // 如果在其他地方只引用ueditor.all.min.js，在加载ueditor.config.js之后仍需要重新加载ueditor.all.min.js，所以必须确保ueditor.config.js已加载\n          this._loadConfig().then(() => this._loadCore()).then(() => {\n            resolve()\n            window.$loadEnv.emit('scriptsLoaded')\n          })\n        }\n      })\n    },\n    _loadConfig () {\n      return new Promise((resolve, reject) => {\n        if (window.UE && window.UEDITOR_CONFIG && Object.keys(window.UEDITOR_CONFIG).length !== 0) {\n          resolve()\n          return\n        }\n        const configScript = document.createElement('script')\n        configScript.type = 'text/javascript'\n        configScript.src = this.mixedConfig.UEDITOR_HOME_URL + 'ueditor.config.js'\n        document.getElementsByTagName('head')[0].appendChild(configScript)\n        configScript.onload = function () {\n          if (window.UE && window.UEDITOR_CONFIG && Object.keys(window.UEDITOR_CONFIG).length !== 0) {\n            resolve()\n          } else {\n            console.error('加载ueditor.config.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!\\n', configScript.src)\n          }\n        }\n      })\n    },\n    _loadCore () {\n      return new Promise((resolve, reject) => {\n        if (window.UE && window.UE.getEditor) {\n          resolve()\n          return\n        }\n        const coreScript = document.createElement('script')\n        coreScript.type = 'text/javascript'\n        coreScript.src = this.mixedConfig.UEDITOR_HOME_URL + 'ueditor.all.min.js'\n        document.getElementsByTagName('head')[0].appendChild(coreScript)\n        coreScript.onload = function () {\n          if (window.UE && window.UE.getEditor) {\n            resolve()\n          } else {\n            console.error('加载ueditor.all.min.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!\\n', coreScript.src)\n          }\n        }\n      })\n    },\n    contentChangeHandler () {\n      this.$emit('input', this.editor.getContent())\n    },\n    // 设置内容\n    _setContent (value) {\n      if (value !== this.editor.getContent()) {\n        this.editor.setContent(value)\n      }\n    },\n    setValue (value) {\n      switch (this.status) {\n        case 0:\n        case 1:\n          this.initValue = value\n          break\n        case 2:\n          this._setContent(value)\n          break\n      }\n    }\n  },\n  beforeDestroy () {\n    if (this.editor && this.editor.destroy) {\n      this.editor.destroy()\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n  .d2p-ueditor{\n    .edui-default .edui-toolbar .edui-button, .edui-default .edui-toolbar .edui-splitbutton, .edui-default .edui-toolbar .edui-menubutton, .edui-default .edui-toolbar .edui-combox {\n      line-height: normal;\n    }\n    .edui-editor{line-height: normal;box-sizing: border-box;}\n  }\n</style>\n"]}]}