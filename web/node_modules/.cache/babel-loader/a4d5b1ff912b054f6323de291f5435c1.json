{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raviailani/Downloads/django-vue-admin/web/src/layout/header-aside/components/header-message/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/src/layout/header-aside/components/header-message/index.vue","mtime":1674694301483},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/babel.config.js","mtime":1674694301461},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js","mtime":1674694549360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3JhdmlhaWxhbmkvRG93bmxvYWRzL2RqYW5nby12dWUtYWRtaW4vd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IG1zZ0xpc3QgZnJvbSAnLi9jb21wb25lbnRzL21zZy1saXN0JzsKaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJ0AvYXBpL3NlcnZpY2UnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycygnZDJhZG1pbicsIHsKICAgIHVucmVhZDogJ21lc3NhZ2VjZW50ZXIvdW5yZWFkJwogIH0pKSwKICBjb21wb25lbnRzOiB7CiAgICBtc2dMaXN0OiBtc2dMaXN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbXNnT2JqOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmVxdWVzdCh7CiAgICAgICAgdXJsOiAnL2FwaS9zeXN0ZW0vbWVzc2FnZV9jZW50ZXIvZ2V0X25ld2VzdF9tc2cvJywKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIHBhcmFtczoge30KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICBfdGhpcy5tc2dPYmogPSBkYXRhOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";AAsCA;AACA;AACA;AACA;EACAA,4BACAC;IACAC;EACA,GACA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACAC;QACAC;QACAC;MACA;QACA;QACA;MACA;IACA;EACA;AACA","names":["computed","mapGetters","unread","components","msgList","data","msgObj","methods","getList","request","url","method","params"],"sourceRoot":"src/layout/header-aside/components/header-message","sources":["index.vue"],"sourcesContent":["<template>\n  <div>\n\n    <el-tooltip\n      effect=\"dark\"\n      content=\"通知\"\n      placement=\"bottom\">\n      <el-popover\n        placement=\"bottom\"\n        width=\"400\"\n        trigger=\"click\">\n        <msg-list :msgObj=\"msgObj\"></msg-list>\n      <el-button\n        class=\"d2-ml-0 d2-mr btn-text can-hover\"\n        type=\"text\"\n        slot=\"reference\"  @click=\"getList\">\n        <el-badge\n          v-if=\"unread > 0\"\n          :max=\"99\"\n          :value=\"unread\"\n          :is-dot=\"unread === 0\"\n        >\n          <d2-icon\n            :name=\"unread === 0 ? 'dot-circle-o' : 'bell-o'\"\n            style=\"font-size: 20px\"\n          />\n        </el-badge>\n        <d2-icon\n          v-else\n          name=\"bell-o\"\n          style=\"font-size: 16px\"/>\n      </el-button>\n    </el-popover>\n    </el-tooltip>\n  </div>\n</template>\n\n<script>\nimport msgList from './components/msg-list'\nimport { request } from '@/api/service'\nimport { mapGetters } from 'vuex'\nexport default {\n  computed: {\n    ...mapGetters('d2admin', {\n      unread: 'messagecenter/unread'\n    })\n  },\n  components: {\n    msgList\n  },\n  data () {\n    return {\n      msgObj: null\n    }\n  },\n  methods: {\n    getList () {\n      request({\n        url: '/api/system/message_center/get_newest_msg/',\n        method: 'get',\n        params: {}\n      }).then(res => {\n        const { data } = res\n        this.msgObj = data\n      })\n    }\n  }\n}\n</script>\n"]}]}