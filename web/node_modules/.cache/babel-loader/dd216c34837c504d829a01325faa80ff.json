{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raviailani/Downloads/django-vue-admin/web/src/components/table-selector/table-selector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/src/components/table-selector/table-selector.vue","mtime":1674694301482},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/babel.config.js","mtime":1674694301461},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js","mtime":1674694549360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9yYXZpYWlsYW5pL0Rvd25sb2Fkcy9kamFuZ28tdnVlLWFkbWluL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL3JhdmlhaWxhbmkvRG93bmxvYWRzL2RqYW5nby12dWUtYWRtaW4vd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBsb2Rhc2ggZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHsgZDJDcnVkUGx1cyB9IGZyb20gJ2QyLWNydWQtcGx1cyc7CmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICdAL2FwaS9zZXJ2aWNlJzsKLy8g6KGo5qC86YCJ5oup57uE5Lu2CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndGFibGUtc2VsZWN0b3ItaW5wdXQnLAogIG1peGluczogW2QyQ3J1ZFBsdXMuaW5wdXQsIGQyQ3J1ZFBsdXMuaW5wdXREaWN0XSwKICBwcm9wczogewogICAgLy8g5YC8CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmcsIEJvb2xlYW4sIEFycmF5LCBPYmplY3RdCiAgICB9LAogICAgLy8g6L+H5ruk77yMdmFsdWXkuK3nmoRub2Rlc+i/h+a7pOaWueazlSDlj4LmlbDkuLpub2RlcwogICAgZmlsdGVyOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICByZXF1aXJlOiBmYWxzZQogICAgfSwKICAgIC8vIOi/h+a7pOeahHBsYWNlaG9sZGVyCiAgICBmaWx0ZXJQbGFjZWhvbGRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICfovpPlhaXlhbPplK7lrZfov5vooYzov4fmu6QnCiAgICB9LAogICAgcGxhY2Vob2xkZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAn6K+36YCJ5oupJwogICAgfSwKICAgIGRpYWxvZ1RpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ+mAieaLqScKICAgIH0sCiAgICBjYW5jZWxUZXh0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ+WPlua2iCcKICAgIH0sCiAgICBjb25maXJtVGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICfnoa7lrponCiAgICB9LAogICAgLy8g5qCR5b2i57uE5Lu26IqC54K56L+H5ruk77yM5Y+v5Lul6YWN572uZWxQcm9wcy5maWx0ZXJOb2RlTWV0aG9kIO+8jOimhueblum7mOiupOeahOi/h+a7pOaWueazlQogICAgdHJlZUZpbHRlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlOiBmYWxzZSwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIC8vIOaYr+WQpuWkmumAie+8jOS8oOWFpWZhbHNl5Li65Y2V6YCJCiAgICBtdWx0aXBsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOaYr+WQpuW/veeVpemAieS4reiKgueCueeahOWtkOiKgueCuQogICAgaWdub3JlRnVsbENoZWNrZWRDaGlsZHJlbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgLy8g5piv5ZCm5Y+q6L+U5Zue5Y+25a2Q6IqC54K5CiAgICBsZWFmT25seTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOaYr+WQpuWMheWQq+WNiumAieiKgueCuQogICAgaW5jbHVkZUhhbGZDaGVja2VkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLy8gZWwtdHJlZeeahOWxnuaAp+mFjee9rgogICAgZWxQcm9wczogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCiAgICAvKioKICAgICAqIOaYr+WQpuWPr+S7pea4hemZpAogICAgICovCiAgICBjbGVhcmFibGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIC8vIOaVsOaNruWtl+WFuOmFjee9rgogICAgZGljdDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmU6IGZhbHNlCiAgICB9LAogICAgLy8g5piv5ZCm5byA5ZCv5YiG6aG1CiAgICBwYWdpbmF0aW9uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudFZhbHVlOiB1bmRlZmluZWQsCiAgICAgIGNvbGxhcHNlVGFnczogZmFsc2UsCiAgICAgIHNlbGVjdGVkOiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGZpbHRlclRleHQ6IHVuZGVmaW5lZCwKICAgICAgcmVxdWVzdFVybDogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyBpZiAodGhpcy5kaWN0KSB7CiAgICAvLyAgIHRoaXMuZGljdCA9IGQyQ3J1ZFBsdXMudXRpbC5kaWN0Lm1lcmdlRGVmYXVsdCh0aGlzLmRpY3QsIHRydWUpCiAgICAvLyB9CiAgICAvLyB0aGlzLmluaXREYXRhKCkKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMpCiAgICB0aGlzLnNlYXJjaFRhYmxlRGF0YSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIF9lbFByb3BzOiBmdW5jdGlvbiBfZWxQcm9wcygpIHsKICAgICAgdmFyIGRlZmF1bHRFbFByb3BzID0gewogICAgICAgIC8vIHNob3dDaGVja2JveDogdGhpcy5tdWx0aXBsZSwKICAgICAgICBoaWdobGlnaHRDdXJyZW50OiAhdGhpcy5tdWx0aXBsZSwKICAgICAgICBwcm9wczoge30sCiAgICAgICAgY29sdW1uczogW10sCiAgICAgICAgYm9yZGVyOiB0cnVlLAogICAgICAgIHJlc2l6YWJsZTogdHJ1ZQogICAgICB9OwogICAgICBpZiAodGhpcy5kaWN0ICE9IG51bGwpIHsKICAgICAgICBpZiAodGhpcy5kaWN0LmxhYmVsICE9IG51bGwpIHsKICAgICAgICAgIGRlZmF1bHRFbFByb3BzLnByb3BzLmxhYmVsID0gdGhpcy5kaWN0LmxhYmVsOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5kaWN0LnZhbHVlICE9IG51bGwpIHsKICAgICAgICAgIGRlZmF1bHRFbFByb3BzLnByb3BzLnZhbHVlID0gdGhpcy5kaWN0LnZhbHVlOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5kaWN0LmNoaWxkcmVuICE9IG51bGwpIHsKICAgICAgICAgIGRlZmF1bHRFbFByb3BzLnByb3BzLmNoaWxkcmVuID0gdGhpcy5kaWN0LmNoaWxkcmVuOwogICAgICAgIH0KICAgICAgICAvLyDliqDkuIrmoJHlvaLnmoTphY3nva4KICAgICAgICBpZiAodGhpcy5kaWN0LmlzVHJlZSkgewogICAgICAgICAgZGVmYXVsdEVsUHJvcHMudHJlZUNvbmZpZyA9IHRoaXMuZWxQcm9wcy50cmVlQ29uZmlnOwogICAgICAgIH0KICAgICAgfQogICAgICBkZWZhdWx0RWxQcm9wcy5ub2RlS2V5ID0gZGVmYXVsdEVsUHJvcHMucHJvcHMudmFsdWU7CiAgICAgIGxvZGFzaC5tZXJnZShkZWZhdWx0RWxQcm9wcywgdGhpcy5lbFByb3BzKTsKICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHsKICAgICAgICBkZWZhdWx0RWxQcm9wcy5jaGVja2JveENvbmZpZyA9IHRoaXMuZWxQcm9wcy5jaGVja2JveENvbmZpZyA/IHRoaXMuZWxQcm9wcy5jaGVja2JveENvbmZpZyA6IHt9OwogICAgICAgIGRlZmF1bHRFbFByb3BzLmNvbHVtbnMgPSBbewogICAgICAgICAgdHlwZTogJ2NoZWNrYm94JywKICAgICAgICAgIHdpZHRoOiA2MAogICAgICAgIH1dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZGVmYXVsdEVsUHJvcHMuY29sdW1ucykpOwogICAgICB9IGVsc2UgewogICAgICAgIGRlZmF1bHRFbFByb3BzLnJhZGlvQ29uZmlnID0gdGhpcy5lbFByb3BzID8gdGhpcy5lbFByb3BzLnJhZGlvQ29uZmlnIDoge307CiAgICAgICAgZGVmYXVsdEVsUHJvcHMuY29sdW1ucyA9IFt7CiAgICAgICAgICB0eXBlOiAncmFkaW8nLAogICAgICAgICAgd2lkdGg6IDYwCiAgICAgICAgfV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShkZWZhdWx0RWxQcm9wcy5jb2x1bW5zKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGRlZmF1bHRFbFByb3BzOwogICAgfSwKICAgIGNvbGxhcHNlVGFnU2l6ZTogZnVuY3Rpb24gY29sbGFwc2VUYWdTaXplKCkgewogICAgICByZXR1cm4gWydzbWFsbCcsICdtaW5pJ10uaW5kZXhPZih0aGlzLnNlbGVjdFNpemUpID4gLTEgPyAnbWluaScgOiAnc21hbGwnOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGZpbHRlclRleHQ6IGZ1bmN0aW9uIGZpbHRlclRleHQodmFsKSB7CiAgICAgIC8vIHRoaXMuJHJlZnMuZWxUcmVlLmZpbHRlcih2YWwpOwogICAgICB0aGlzLnNlYXJjaFRhYmxlRGF0YSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8gaW5pdERhdGEgKCkgewogICAgLy8gICBkMkNydWRQbHVzLnV0aWwuZGljdC5nZXQodGhpcy5kaWN0KS50aGVuKHJldCA9PiB7CiAgICAvLyAgICAgdGhpcy4kc2V0KHRoaXMsICdkYXRhJywgcmV0KQogICAgLy8gICAgIHRoaXMuc2V0VmFsdWUodGhpcy52YWx1ZSkKICAgIC8vICAgfSkKICAgIC8vIH0sCiAgICBvbkRpY3RMb2FkZWQ6IGZ1bmN0aW9uIG9uRGljdExvYWRlZCgpIHsKICAgICAgLy8gbG9nLmRhbmdlcigib25EaWN0TG9hZGVkIiwgdGhpcy5kaWN0LCB0aGlzLnZhbHVlKTsKICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLnZhbHVlKTsKICAgIH0sCiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgLy8gbG9nLmRhbmdlcigic2V0VmFsdWU6IiwgdGhpcy5jdXJyZW50VmFsdWUsIHRoaXMudmFsdWUsIHRoaXMuX29wdGlvbnMpOwogICAgICBpZiAodGhpcy5jdXJyZW50VmFsdWUgPT09IHRoaXMudmFsdWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGFyclZhbHVlID0gdmFsdWU7CiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IFtdOwogICAgICB9CiAgICAgIGlmICghKGFyclZhbHVlIGluc3RhbmNlb2YgQXJyYXkpKSB7CiAgICAgICAgYXJyVmFsdWUgPSBbYXJyVmFsdWVdOwogICAgICB9CiAgICAgIGlmICh0aGlzLmRpY3QgJiYgdGhpcy5kaWN0LmdldE5vZGVzKSB7CiAgICAgICAgLy8gbG9nLmRhbmdlcigiZ2V0Tm9kZXM6IiwgYXJyVmFsdWUpOwogICAgICAgIHRoaXMuZGljdC5nZXROb2RlcyhhcnJWYWx1ZSkudGhlbihmdW5jdGlvbiAobm9kZXMpIHsKICAgICAgICAgIF90aGlzLnNlbGVjdGVkTm9kZXMobm9kZXMsIHZhbHVlKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgbm9kZXMgPSBbXTsKICAgICAgICBpZiAodGhpcy5fb3B0aW9ucyA9PSBudWxsIHx8IHRoaXMuX29wdGlvbnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhcnJWYWx1ZSksCiAgICAgICAgICBfc3RlcDsKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9vcHRpb25zOwogICAgICAgICAgICB2YXIgbm9kZSA9IGQyQ3J1ZFBsdXMudXRpbC5kaWN0LmdldEJ5VmFsdWUoaXRlbSwgZGF0YSwgdGhpcy5kaWN0KTsKICAgICAgICAgICAgaWYgKG5vZGUgIT0gbnVsbCkgewogICAgICAgICAgICAgIG5vZGVzLnB1c2gobm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2VsZWN0ZWROb2Rlcyhub2RlcywgdmFsdWUpOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0ZWROb2RlczogZnVuY3Rpb24gc2VsZWN0ZWROb2Rlcyhub2RlcywgdmFsdWUpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gW107CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZXMpLAogICAgICAgIF9zdGVwMjsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIG5vZGUgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICBub2RlLmlkID0gbm9kZVt0aGlzLmRpY3QudmFsdWVdOwogICAgICAgICAgc2VsZWN0ZWQucHVzaChub2RlKTsKICAgICAgICB9CiAgICAgICAgLy8gbG9nLmRhbmdlcigic2VsZWN0ZWQ6Iiwgc2VsZWN0ZWQpOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQogICAgICB0aGlzLiRzZXQodGhpcywgJ3NlbGVjdGVkJywgc2VsZWN0ZWQpOwogICAgICB0aGlzLnJlc2V0SW5wdXRIZWlnaHQoKTsKICAgIH0sCiAgICBoYW5kbGVDaGVja0NoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hlY2tDaGFuZ2UoZXZlbnQpIHsKICAgICAgdGhpcy4kZW1pdCgnY2hlY2stY2hhbmdlJywgZXZlbnQpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UoZXZlbnQpIHsKICAgICAgdGhpcy4kZW1pdCgnY3VycmVudC1jaGFuZ2UnLCBldmVudCk7CiAgICB9LAogICAgb3BlbkRpYWxvZzogZnVuY3Rpb24gb3BlbkRpYWxvZygpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICBpZiAodGhhdC5kaXNhYmxlZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGF0LmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICBpZiAodGhhdC52YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgdGhhdC4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHJlZnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGF0LiRyZWZzKTsKICAgICAgICAgIHZhciBlbFRyZWUgPSByZWZzLmVsVHJlZTsKICAgICAgICAgIGlmICh0aGF0Lm11bHRpcGxlKSB7CiAgICAgICAgICAgIGVsVHJlZS5zZXRDaGVja2JveFJvdyh0aGF0LnNlbGVjdGVkLCB0cnVlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVsVHJlZS5zZXRSYWRpb1Jvdyh0aGF0LnNlbGVjdGVkWzBdKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRvRXhwYW5kUGFyZW50OiBmdW5jdGlvbiBkb0V4cGFuZFBhcmVudChub2RlKSB7CiAgICAgIGlmIChub2RlLnBhcmVudCAhPSBudWxsKSB7CiAgICAgICAgdGhpcy5kb0V4cGFuZFBhcmVudChub2RlLnBhcmVudCk7CiAgICAgIH0KICAgICAgbm9kZS5leHBhbmRlZCA9IHRydWU7CiAgICB9LAogICAgLy8g5aSE55CGdmFsdWUs5piv5ZCm5Li65Y6f55SfdmFsdWXov5jmmK/oh6rlrprkuYl2YWx1ZQogICAgZ2V0VmFsdWVLZXk6IGZ1bmN0aW9uIGdldFZhbHVlS2V5KGl0ZW0pIHsKICAgICAgaWYgKHRoaXMuX2VsUHJvcHMucHJvcHMudmFsdWUgIT0gbnVsbCkgewogICAgICAgIHJldHVybiBpdGVtW3RoaXMuX2VsUHJvcHMucHJvcHMudmFsdWVdOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBpdGVtLnZhbHVlOwogICAgICB9CiAgICB9LAogICAgLy8g5aSE55CGbGFiZWws5piv5ZCm5Li65Y6f55SfbGFiZWzov5jmmK/oh6rlrprkuYlsYWJlbAogICAgZ2V0VmFsdWVMYWJlbDogZnVuY3Rpb24gZ2V0VmFsdWVMYWJlbChpdGVtKSB7CiAgICAgIGlmICh0aGlzLl9lbFByb3BzLnByb3BzLmxhYmVsICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gaXRlbVt0aGlzLl9lbFByb3BzLnByb3BzLmxhYmVsXTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSwKICAgIC8vIOWkhOeQhmNoaWxkcmVuLOaYr+WQpuS4uuWOn+eUn2NoaWxkcmVu6L+Y5piv6Ieq5a6a5LmJY2hpbGRyZW4KICAgIGdldFZhbHVlQ2hpbGRyZW46IGZ1bmN0aW9uIGdldFZhbHVlQ2hpbGRyZW4oaXRlbSkgewogICAgICB2YXIgY2hpbGRyZW4gPSAnY2hpbGRyZW4nOwogICAgICBpZiAodGhpcy5fZWxQcm9wcy5wcm9wcy5jaGlsZHJlbiAhPSBudWxsKSB7CiAgICAgICAgY2hpbGRyZW4gPSB0aGlzLl9lbFByb3BzLnByb3BzLmNoaWxkcmVuOwogICAgICB9CiAgICAgIHJldHVybiBpdGVtW2NoaWxkcmVuXTsKICAgIH0sCiAgICAvLyDnoa7lrprmjInpkq7kuovku7YKICAgIHNlbGVjdFN1Ym1pdDogZnVuY3Rpb24gc2VsZWN0U3VibWl0KCkgewogICAgICB2YXIgbm9kZXMgPSB0aGlzLnJlZnJlc2hTZWxlY3RlZCgpOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5kb1ZhbHVlSW5wdXRDaGFuZ2VkKG5vZGVzKTsKICAgIH0sCiAgICAvLyDlsIblgLzkvKDlh7rljrsKICAgIGRvVmFsdWVJbnB1dENoYW5nZWQ6IGZ1bmN0aW9uIGRvVmFsdWVJbnB1dENoYW5nZWQobm9kZXMpIHsKICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuZm9ybWF0VmFsdWUobm9kZXMpOwogICAgICB0aGlzLnJlc2V0SW5wdXRIZWlnaHQoKTsKICAgICAgaWYgKCF0aGlzLm11bHRpcGxlKSB7CiAgICAgICAgdmFsdWVzID0gdmFsdWVzICYmIHZhbHVlcy5sZW5ndGggPiAwID8gdmFsdWVzWzBdIDogdW5kZWZpbmVkOwogICAgICB9CiAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdmFsdWVzOwogICAgICBpZiAodGhpcy5kaXNwYXRjaCkgewogICAgICAgIHRoaXMuZGlzcGF0Y2goJ0VsRm9ybUl0ZW0nLCAnZWwuZm9ybS5ibHVyJyk7CiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZXMpOwogICAgfSwKICAgIGl0ZW1DbG9zZWQ6IGZ1bmN0aW9uIGl0ZW1DbG9zZWQoaXRlbSkgewogICAgICB2YXIgbmV3Tm9kZXMgPSBsb2Rhc2gud2l0aG91dCh0aGlzLnNlbGVjdGVkLCBpdGVtKTsKICAgICAgLy8gY29uc29sZS5sb2coIm5ldyB2YWx1ZSIsIGl0ZW0sIG5ld05vZGVzKTsKICAgICAgdGhpcy4kc2V0KHRoaXMsICdzZWxlY3RlZCcsIG5ld05vZGVzKTsKICAgICAgdGhpcy5kb1ZhbHVlSW5wdXRDaGFuZ2VkKG5ld05vZGVzKTsKICAgIH0sCiAgICAvLyDojrflj5bpgInkuK3nmoTooYzmlbDmja4KICAgIHJlZnJlc2hTZWxlY3RlZDogZnVuY3Rpb24gcmVmcmVzaFNlbGVjdGVkKCkgewogICAgICB2YXIgbm9kZXMgPSBudWxsOwogICAgICBpZiAodGhpcy5tdWx0aXBsZSkgewogICAgICAgIG5vZGVzID0gdGhpcy4kcmVmcy5lbFRyZWUuZ2V0Q2hlY2tib3hSZWNvcmRzKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLiRyZWZzLmVsVHJlZS5nZXRSYWRpb1JlY29yZCgpOwogICAgICAgIGlmIChub2RlID09IG51bGwpIHsKICAgICAgICAgIG5vZGVzID0gW107CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5vZGVzID0gW25vZGVdOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodGhpcy5pZ25vcmVGdWxsQ2hlY2tlZENoaWxkcmVuKSB7CiAgICAgICAgbm9kZXMgPSB0aGlzLmZpbHRlckZ1bGxDaGVja2VkQ2hpbGRyZW4obm9kZXMpOwogICAgICB9CiAgICAgIGlmICh0aGlzLmZpbHRlciAhPSBudWxsKSB7CiAgICAgICAgbm9kZXMgPSB0aGlzLmZpbHRlcihub2Rlcyk7CiAgICAgIH0KICAgICAgLy8gbG9nLmRhbmdlcigic2VsZWN0ZWQiLCB0aGlzLnNlbGVjdGVkKTsKICAgICAgdGhpcy4kc2V0KHRoaXMsICdzZWxlY3RlZCcsIG5vZGVzKTsKICAgICAgcmV0dXJuIG5vZGVzOwogICAgfSwKICAgIHJlc2V0SW5wdXRIZWlnaHQ6IGZ1bmN0aW9uIHJlc2V0SW5wdXRIZWlnaHQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAodGhpcy5jb2xsYXBzZVRhZ3MgJiYgIXRoaXMuZmlsdGVyYWJsZSkgcmV0dXJuOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCFfdGhpczIuJHJlZnMucmVmZXJlbmNlKSByZXR1cm47CiAgICAgICAgdmFyIGlucHV0Q2hpbGROb2RlcyA9IF90aGlzMi4kcmVmcy5yZWZlcmVuY2UuJGVsLmNoaWxkTm9kZXM7CiAgICAgICAgdmFyIGlucHV0ID0gW10uZmlsdGVyLmNhbGwoaW5wdXRDaGlsZE5vZGVzLCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0udGFnTmFtZSA9PT0gJ0lOUFVUJzsKICAgICAgICB9KVswXTsKICAgICAgICB2YXIgdGFncyA9IF90aGlzMi4kcmVmcy50YWdzOwogICAgICAgIHZhciBzaXplSW5NYXAgPSBfdGhpczIuaW5pdGlhbElucHV0SGVpZ2h0IHx8IDQwOwogICAgICAgIHZhciBoZWlnaHQgPSBfdGhpczIuc2VsZWN0ZWQubGVuZ3RoID09PSAwID8gc2l6ZUluTWFwICsgJ3B4JyA6IE1hdGgubWF4KHRhZ3MgPyB0YWdzLmNsaWVudEhlaWdodCArICh0YWdzLmNsaWVudEhlaWdodCA+IHNpemVJbk1hcCA/IDYgOiAwKSA6IDAsIHNpemVJbk1hcCkgKyAncHgnOwogICAgICAgIGlucHV0LnN0eWxlLmhlaWdodCA9IGhlaWdodDsKICAgICAgICBpZiAoX3RoaXMyLnZpc2libGUgJiYgX3RoaXMyLmVtcHR5VGV4dCAhPT0gZmFsc2UpIHsKICAgICAgICAgIF90aGlzMi5icm9hZGNhc3QoJ0VsU2VsZWN0RHJvcGRvd24nLCAndXBkYXRlUG9wcGVyJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDov4fmu6Tlj7blrZDoioLngrkKICAgIGZpbHRlckZ1bGxDaGVja2VkQ2hpbGRyZW46IGZ1bmN0aW9uIGZpbHRlckZ1bGxDaGVja2VkQ2hpbGRyZW4obm9kZXMpIHsKICAgICAgdmFyIGlnbm9yZWQgPSBuZXcgU2V0KCk7CiAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZXMpLAogICAgICAgIF9zdGVwMzsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmdldFZhbHVlQ2hpbGRyZW4oaXRlbSk7CiAgICAgICAgICBpZiAoY2hpbGRyZW4gIT0gbnVsbCkgewogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNoaWxkcmVuKSwKICAgICAgICAgICAgICBfc3RlcDU7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IF9zdGVwNS52YWx1ZTsKICAgICAgICAgICAgICAgIGlnbm9yZWQuYWRkKHRoaXMuZ2V0VmFsdWVLZXkoY2hpbGQpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgfQogICAgICB2YXIgdmFsdWVzID0gW107CiAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZXMpLAogICAgICAgIF9zdGVwNDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9pdGVtID0gX3N0ZXA0LnZhbHVlOwogICAgICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0VmFsdWVLZXkoX2l0ZW0pOwogICAgICAgICAgaWYgKCFpZ25vcmVkLmhhcyhrZXkpKSB7CiAgICAgICAgICAgIHZhbHVlcy5wdXNoKF9pdGVtKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICB9CiAgICAgIHJldHVybiB2YWx1ZXM7CiAgICB9LAogICAgZm9ybWF0VmFsdWU6IGZ1bmN0aW9uIGZvcm1hdFZhbHVlKG5vZGVzKSB7CiAgICAgIHZhciB2YWx1ZXMgPSBbXTsKICAgICAgdmFyIF9pdGVyYXRvcjYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihub2RlcyksCiAgICAgICAgX3N0ZXA2OwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwNi52YWx1ZTsKICAgICAgICAgIHZhbHVlcy5wdXNoKHRoaXMuZ2V0VmFsdWVLZXkoaXRlbSkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbHVlczsKICAgIH0sCiAgICBmaWx0ZXJOb2RlOiBmdW5jdGlvbiBmaWx0ZXJOb2RlKHZhbHVlLCBkYXRhKSB7CiAgICAgIGlmICghdmFsdWUpIHJldHVybiB0cnVlOwogICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZUxhYmVsKGRhdGEpLmluZGV4T2YodmFsdWUpICE9PSAtMTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UodmFsdWUpIHsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWUpOwogICAgICBpZiAodGhpcy5kaXNwYXRjaCkgewogICAgICAgIHRoaXMuZGlzcGF0Y2goJ0VsRm9ybUl0ZW0nLCAnZWwuZm9ybS5ibHVyJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDliIbpobXkuovku7YKICAgIGhhbmRsZVBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVBhZ2VDaGFuZ2UoX3JlZikgewogICAgICB2YXIgY3VycmVudFBhZ2UgPSBfcmVmLmN1cnJlbnRQYWdlLAogICAgICAgIHBhZ2VTaXplID0gX3JlZi5wYWdlU2l6ZTsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGF0Ll9lbFByb3BzLnBhZ2UgPSBjdXJyZW50UGFnZTsKICAgICAgdGhhdC5fZWxQcm9wcy5saW1pdCA9IHBhZ2VTaXplOwogICAgICB0aGF0LnNlYXJjaFRhYmxlRGF0YSgpOwogICAgfSwKICAgIC8vIOiOt+WPluaVsOaNruS6i+S7tgogICAgc2VhcmNoVGFibGVEYXRhOiBmdW5jdGlvbiBzZWFyY2hUYWJsZURhdGEoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHBhcmFtczsKICAgICAgaWYgKHRoYXQucGFnaW5hdGlvbikgewogICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgIHBhZ2U6IHRoYXQuX2VsUHJvcHMucGFnZSwKICAgICAgICAgIGxpbWl0OiB0aGF0Ll9lbFByb3BzLmxpbWl0LAogICAgICAgICAgc2VhcmNoOiB0aGF0LmZpbHRlclRleHQKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgIHNlYXJjaDogdGhhdC5maWx0ZXJUZXh0CiAgICAgICAgfTsKICAgICAgfQogICAgICB2YXIgdXJsOwogICAgICBpZiAodHlwZW9mIHRoYXQuZGljdC51cmwgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB2YXIgZm9ybSA9IHRoYXQuZDJDcnVkQ29udGV4dC5nZXRGb3JtKCk7CiAgICAgICAgdXJsID0gdGhhdC5kaWN0LnVybCh0aGF0LmRpY3QsIHsKICAgICAgICAgIGZvcm06IGZvcm0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB1cmwgPSB0aGF0LmRpY3QudXJsOwogICAgICB9CiAgICAgIHJlcXVlc3QoewogICAgICAgIHVybDogdXJsLAogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJldCkgewogICAgICAgIHRoYXQuX2VsUHJvcHMucGFnZSA9IHJldC5kYXRhLnBhZ2U7CiAgICAgICAgdGhhdC5fZWxQcm9wcy5saW1pdCA9IHJldC5kYXRhLmxpbWl0OwogICAgICAgIHRoYXQuX2VsUHJvcHMudG90YWwgPSByZXQuZGF0YS50b3RhbDsKICAgICAgICB0aGF0LiRzZXQodGhhdCwgJ2RpY3RPcHRpb25zJywgcmV0LmRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICog6KGo5qC85Y2V6YCJ5LqL5Lu2CiAgICAgKi8KICAgIHJhZGlvQ2hhbmdlOiBmdW5jdGlvbiByYWRpb0NoYW5nZShfcmVmMikgewogICAgICB2YXIgY2hlY2tlZCA9IF9yZWYyLmNoZWNrZWQsCiAgICAgICAgcm93ID0gX3JlZjIucm93LAogICAgICAgIHJvd0luZGV4ID0gX3JlZjIucm93SW5kZXgsCiAgICAgICAgJHJvd0luZGV4ID0gX3JlZjIuJHJvd0luZGV4LAogICAgICAgIGNvbHVtbiA9IF9yZWYyLmNvbHVtbiwKICAgICAgICBjb2x1bW5JbmRleCA9IF9yZWYyLmNvbHVtbkluZGV4LAogICAgICAgICRjb2x1bW5JbmRleCA9IF9yZWYyLiRjb2x1bW5JbmRleCwKICAgICAgICAkZXZlbnQgPSBfcmVmMi4kZXZlbnQ7CiAgICAgIHRoaXMuJGVtaXQoJ3JhZGlvQ2hhbmdlJywgewogICAgICAgIHJvdzogcm93LAogICAgICAgIHJvd0luZGV4OiByb3dJbmRleAogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOihqOagvOWkmumAieS6i+S7tgogICAgICovCiAgICBjaGVja2JveENoYW5nZTogZnVuY3Rpb24gY2hlY2tib3hDaGFuZ2UoX3JlZjMpIHsKICAgICAgdmFyIGNoZWNrZWQgPSBfcmVmMy5jaGVja2VkLAogICAgICAgIHJvdyA9IF9yZWYzLnJvdywKICAgICAgICByb3dJbmRleCA9IF9yZWYzLnJvd0luZGV4LAogICAgICAgICRyb3dJbmRleCA9IF9yZWYzLiRyb3dJbmRleCwKICAgICAgICBjb2x1bW4gPSBfcmVmMy5jb2x1bW4sCiAgICAgICAgY29sdW1uSW5kZXggPSBfcmVmMy5jb2x1bW5JbmRleCwKICAgICAgICAkY29sdW1uSW5kZXggPSBfcmVmMy4kY29sdW1uSW5kZXgsCiAgICAgICAgJGV2ZW50ID0gX3JlZjMuJGV2ZW50OwogICAgICB0aGlzLiRlbWl0KCdjaGVja2JveENoYW5nZScsIHsKICAgICAgICBjaGVja2VkOiBjaGVja2VkLAogICAgICAgIHJvdzogcm93LAogICAgICAgIHJvd0luZGV4OiByb3dJbmRleCwKICAgICAgICAkcm93SW5kZXg6ICRyb3dJbmRleCwKICAgICAgICBjb2x1bW46IGNvbHVtbiwKICAgICAgICBjb2x1bW5JbmRleDogY29sdW1uSW5kZXgsCiAgICAgICAgJGNvbHVtbkluZGV4OiAkY29sdW1uSW5kZXgsCiAgICAgICAgJGV2ZW50OiAkZXZlbnQKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;EACAA;EACAC;EACAC;IACA;IACAC;MACAC;IACA;IACA;IACAC;MACAD;MACAE;IACA;IACA;IACAC;MACAH;MACAI;IACA;IACAC;MACAL;MACAI;IACA;IACAE;MACAN;MACAI;IACA;IACAG;MACAP;MACAI;IACA;IACAI;MACAR;MACAI;IACA;IACA;IACAK;MACAT;MACAE;MACAE;IACA;IACA;IACAM;MACAV;MACAI;IACA;IACA;IACAO;MACAX;MACAI;IACA;IACA;IACAQ;MACAZ;MACAI;IACA;IACA;IACAS;MACAb;MACAI;IACA;IACA;IACAU;MACAd;IACA;IACA;AACA;AACA;IACAe;MACAf;MACAI;IACA;IACA;IACAY;MACAhB;MACAE;IACA;IACA;IACAe;MACAjB;MACAI;IACA;EACA;EACAc;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACAC;MACA;QACA;QACAC;QACA9B;QACA+B;QACAC;QACAC;MACA;MACA;QACA;UACAC;QACA;QACA;UACAA;QACA;QACA;UACAA;QACA;QACA;QACA;UACAA;QACA;MACA;MACAA;MACAC;MAEA;QACAD,8DACA,8BACA;QACAA,0BACA;UACAhC;UACAkC;QACA,6BACAF,wBACA;MACA;QACAA,4CACA,2BACA;QACAA,0BACA;UACAhC;UACAkC;QACA,6BACAF,wBACA;MACA;MAEA;IACA;IACAG;MACA;IACA;EACA;EACAC;IACAb;MACA;MACA;IACA;EACA;EACAc;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACA;MACA;MACA;MACA;QACA;MACA;MAEA;QACAC;MACA;MACA;QACA;QACA;UACA;QACA;MACA;QACA;QACA;UACA;QACA;QAAA,2CACAA;UAAA;QAAA;UAAA;YAAA;YACA;YACA;YACA;cACAC;YACA;UACA;QAAA;UAAA;QAAA;UAAA;QAAA;QACA;MACA;IACA;IACAC;MACA;MAAA,4CACAD;QAAA;MAAA;QAAA;UAAA;UACAE;UACAtB;QACA;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;MACA;IACA;IACAuB;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;MACA;MACAC;MACA;QACAA;UACA;UACA;UACA;YACAC;UACA;YACAA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACAN;IACA;IACA;IACAO;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACAC;MACA;MACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACAjB;MACA;QACA;QACA;UACAA;QACA;UACAA;QACA;MACA;MAEA;QACAA;MACA;MACA;QACAA;MACA;MACA;MACA;MACA;IACA;IACAkB;MAAA;MACA;MACA;QACA;QACA;QACA,2BACAC,iBACA;UAAA;QAAA,EACA;QACA;QACA;QACA,aACA,+BACAC,mBACAC,SACAC,OACAA,8DACA,GACAF,UACA;QACAG;QACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MAAA,4CACAxB;QAAA;MAAA;QAAA;UAAA;UACA;UACA;YAAA,4CACAY;cAAA;YAAA;cAAA;gBAAA;gBACAa;cACA;YAAA;cAAA;YAAA;cAAA;YAAA;UACA;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;MAAA,4CACAzB;QAAA;MAAA;QAAA;UAAA;UACA;UACA;YACAe;UACA;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;IACA;IACAW;MACA;MAAA,4CACA1B;QAAA;MAAA;QAAA;UAAA;UACAe;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;IACA;IACAY;MACA;MACA;IACA;IACAC;MACA;MAEA;QACA;MACA;IACA;IACA;IACAC,kDAGA;MAAA,IAFAC;QACAC;MAEA;MACAzB;MACAA;MACAA;IACA;IACA;IACA0B;MACA;MACA;MAEA;QACAC;UACAC;UACAC;UACAC;QACA;MACA;QACAH;UACAG;QACA;MACA;MACA;MACA;QACA;QACAC;UAAAC;QAAA;MACA;QACAD;MACA;MACAE;QACAF;QACAJ;MACA;QACA3B;QACAA;QACAA;QACAA;MACA;IACA;IACA;AACA;AACA;IACAkC;MAAA;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;MACA;QACAN;QACAC;MACA;IACA;IACA;AACA;AACA;IACAM;MAAA;QAAAP;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;MACA;QACAE;QAAAR;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;MACA;IACA;EACA;AACA","names":["name","mixins","props","value","type","filter","require","filterPlaceholder","default","placeholder","dialogTitle","cancelText","confirmText","treeFilter","multiple","ignoreFullCheckedChildren","leafOnly","includeHalfChecked","elProps","clearable","dict","pagination","data","currentValue","collapseTags","selected","dialogVisible","filterText","requestUrl","created","computed","_elProps","highlightCurrent","columns","border","resizable","defaultElProps","lodash","width","collapseTagSize","watch","methods","onDictLoaded","setValue","arrValue","nodes","selectedNodes","node","handleCheckChange","handleCurrentChange","openDialog","that","elTree","doExpandParent","getValueKey","getValueLabel","getValueChildren","children","selectSubmit","doValueInputChanged","values","itemClosed","refreshSelected","resetInputHeight","inputChildNodes","sizeInMap","Math","tags","input","filterFullCheckedChildren","ignored","formatValue","filterNode","onChange","handlePageChange","currentPage","pageSize","searchTableData","params","page","limit","search","url","form","request","radioChange","row","rowIndex","$rowIndex","column","columnIndex","$columnIndex","$event","checkboxChange","checked"],"sourceRoot":"src/components/table-selector","sources":["table-selector.vue"],"sourcesContent":["<template>\n  <div class=\"d2p-tree-selector\">\n    <div\n      class=\"el-cascader el-cascader--default\"\n      :class=\"{ 'is-disabled': disabled }\"\n      @click=\"openDialog\"\n    >\n      <div\n        class=\"el-input el-input--default el-input--suffix\"\n        :class=\"{ 'is-disabled': disabled }\"\n      >\n        <el-input\n          ref=\"reference\"\n          :disabled=\"disabled\"\n          :placeholder=\"selected.length === 0 ? placeholder : ''\"\n        />\n        <span class=\"el-input__suffix\">\n          <span class=\"el-input__suffix-inner\">\n            <i class=\"el-input__icon el-icon-arrow-down\" @click=\"openDialog\"/>\n          </span>\n        </span>\n      </div>\n      <div class=\"el-cascader__tags\" ref=\"tags\">\n        <transition-group @after-leave=\"resetInputHeight\">\n          <el-tag\n            v-for=\"item in selected\"\n            :key=\"getValueKey(item)\"\n            :closable=\"clearable\"\n            :size=\"collapseTagSize\"\n            :hit=\"false\"\n            type=\"info\"\n            @close=\"itemClosed(item)\"\n            disable-transitions\n          >\n            <span class=\"el-select__tags-text\">{{ getValueLabel(item) }}</span>\n          </el-tag>\n        </transition-group>\n      </div>\n    </div>\n    <el-dialog\n      custom-class=\"d2p-tree-selector-dialog\"\n      :title=\"dialogTitle\"\n      :visible.sync=\"dialogVisible\"\n      width=\"50%\"\n      append-to-body\n    >\n      <div class=\"tree-wrapper\">\n        <div v-if=\"treeFilter\" class=\"filter-bar\" style=\"padding-bottom: 20px\">\n          <el-input\n            prefix-icon=\"el-icon-search\"\n            :placeholder=\"filterPlaceholder\"\n            v-model=\"filterText\"\n            size=\"small\"\n          >\n          </el-input>\n        </div>\n\n        <div class=\"tree-body\">\n          <vxe-grid\n            v-bind=\"_elProps\"\n            :data=\"_options\"\n            ref=\"elTree\"\n            :auto-resize=\"true\"\n            @radio-change=\"radioChange\"\n            @checkbox-change=\"checkboxChange\"\n          >\n            <template #pager>\n              <vxe-pager\n                v-if=\"pagination\"\n                style=\"margin-top: 10px\"\n                :layouts=\"[\n                  'Sizes',\n                  'PrevJump',\n                  'PrevPage',\n                  'Number',\n                  'NextPage',\n                  'NextJump',\n                  'FullJump',\n                  'Total',\n                ]\"\n                :current-page.sync=\"_elProps.page\"\n                :page-size.sync=\"_elProps.limit\"\n                :total=\"_elProps.total\"\n                @page-change=\"handlePageChange\"\n              >\n              </vxe-pager>\n            </template>\n          </vxe-grid>\n        </div>\n      </div>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">{{ cancelText }}</el-button>\n        <el-button type=\"primary\" @click=\"selectSubmit\">{{\n            confirmText\n          }}</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport lodash from 'lodash'\nimport { d2CrudPlus } from 'd2-crud-plus'\nimport { request } from '@/api/service'\n// 表格选择组件\nexport default {\n  name: 'table-selector-input',\n  mixins: [d2CrudPlus.input, d2CrudPlus.inputDict],\n  props: {\n    // 值\n    value: {\n      type: [Number, String, Boolean, Array, Object]\n    },\n    // 过滤，value中的nodes过滤方法 参数为nodes\n    filter: {\n      type: Function,\n      require: false\n    },\n    // 过滤的placeholder\n    filterPlaceholder: {\n      type: String,\n      default: '输入关键字进行过滤'\n    },\n    placeholder: {\n      type: String,\n      default: '请选择'\n    },\n    dialogTitle: {\n      type: String,\n      default: '选择'\n    },\n    cancelText: {\n      type: String,\n      default: '取消'\n    },\n    confirmText: {\n      type: String,\n      default: '确定'\n    },\n    // 树形组件节点过滤，可以配置elProps.filterNodeMethod ，覆盖默认的过滤方法\n    treeFilter: {\n      type: Boolean,\n      require: false,\n      default: true\n    },\n    // 是否多选，传入false为单选\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    // 是否忽略选中节点的子节点\n    ignoreFullCheckedChildren: {\n      type: Boolean,\n      default: true\n    },\n    // 是否只返回叶子节点\n    leafOnly: {\n      type: Boolean,\n      default: false\n    },\n    // 是否包含半选节点\n    includeHalfChecked: {\n      type: Boolean,\n      default: false\n    },\n    // el-tree的属性配置\n    elProps: {\n      type: Object\n    },\n    /**\n     * 是否可以清除\n     */\n    clearable: {\n      type: Boolean,\n      default: true\n    },\n    // 数据字典配置\n    dict: {\n      type: Object,\n      require: false\n    },\n    // 是否开启分页\n    pagination: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      currentValue: undefined,\n      collapseTags: false,\n      selected: [],\n      dialogVisible: false,\n      filterText: undefined,\n      requestUrl: null\n    }\n  },\n  created () {\n    // if (this.dict) {\n    //   this.dict = d2CrudPlus.util.dict.mergeDefault(this.dict, true)\n    // }\n    // this.initData()\n    // console.log(this)\n    this.searchTableData()\n  },\n  computed: {\n    _elProps () {\n      const defaultElProps = {\n        // showCheckbox: this.multiple,\n        highlightCurrent: !this.multiple,\n        props: {},\n        columns: [],\n        border: true,\n        resizable: true\n      }\n      if (this.dict != null) {\n        if (this.dict.label != null) {\n          defaultElProps.props.label = this.dict.label\n        }\n        if (this.dict.value != null) {\n          defaultElProps.props.value = this.dict.value\n        }\n        if (this.dict.children != null) {\n          defaultElProps.props.children = this.dict.children\n        }\n        // 加上树形的配置\n        if (this.dict.isTree) {\n          defaultElProps.treeConfig = this.elProps.treeConfig\n        }\n      }\n      defaultElProps.nodeKey = defaultElProps.props.value\n      lodash.merge(defaultElProps, this.elProps)\n\n      if (this.multiple) {\n        defaultElProps.checkboxConfig = this.elProps.checkboxConfig\n          ? this.elProps.checkboxConfig\n          : {}\n        defaultElProps.columns = [\n          {\n            type: 'checkbox',\n            width: 60\n          },\n          ...defaultElProps.columns\n        ]\n      } else {\n        defaultElProps.radioConfig = this.elProps\n          ? this.elProps.radioConfig\n          : {}\n        defaultElProps.columns = [\n          {\n            type: 'radio',\n            width: 60\n          },\n          ...defaultElProps.columns\n        ]\n      }\n\n      return defaultElProps\n    },\n    collapseTagSize () {\n      return ['small', 'mini'].indexOf(this.selectSize) > -1 ? 'mini' : 'small'\n    }\n  },\n  watch: {\n    filterText (val) {\n      // this.$refs.elTree.filter(val);\n      this.searchTableData()\n    }\n  },\n  methods: {\n    // initData () {\n    //   d2CrudPlus.util.dict.get(this.dict).then(ret => {\n    //     this.$set(this, 'data', ret)\n    //     this.setValue(this.value)\n    //   })\n    // },\n    onDictLoaded () {\n      // log.danger(\"onDictLoaded\", this.dict, this.value);\n      this.setValue(this.value)\n    },\n    setValue (value) {\n      // log.danger(\"setValue:\", this.currentValue, this.value, this._options);\n      if (this.currentValue === this.value) {\n        return\n      }\n      let arrValue = value\n      if (value == null) {\n        this.selected = []\n      }\n\n      if (!(arrValue instanceof Array)) {\n        arrValue = [arrValue]\n      }\n      if (this.dict && this.dict.getNodes) {\n        // log.danger(\"getNodes:\", arrValue);\n        this.dict.getNodes(arrValue).then((nodes) => {\n          this.selectedNodes(nodes, value)\n        })\n      } else {\n        const nodes = []\n        if (this._options == null || this._options.length === 0) {\n          return\n        }\n        for (const item of arrValue) {\n          const data = this._options\n          const node = d2CrudPlus.util.dict.getByValue(item, data, this.dict)\n          if (node != null) {\n            nodes.push(node)\n          }\n        }\n        this.selectedNodes(nodes, value)\n      }\n    },\n    selectedNodes (nodes, value) {\n      const selected = []\n      for (const node of nodes) {\n        node.id = node[this.dict.value]\n        selected.push(node)\n      }\n      // log.danger(\"selected:\", selected);\n      this.$set(this, 'selected', selected)\n      this.resetInputHeight()\n    },\n    handleCheckChange (event) {\n      this.$emit('check-change', event)\n    },\n    handleCurrentChange (event) {\n      this.$emit('current-change', event)\n    },\n    openDialog () {\n      const that = this\n      if (that.disabled) {\n        return\n      }\n      that.dialogVisible = true\n      if (that.value != null) {\n        that.$nextTick(() => {\n          const refs = Object.assign({}, that.$refs)\n          const { elTree } = refs\n          if (that.multiple) {\n            elTree.setCheckboxRow(that.selected, true)\n          } else {\n            elTree.setRadioRow(that.selected[0])\n          }\n        })\n      }\n    },\n    doExpandParent (node) {\n      if (node.parent != null) {\n        this.doExpandParent(node.parent)\n      }\n      node.expanded = true\n    },\n    // 处理value,是否为原生value还是自定义value\n    getValueKey (item) {\n      if (this._elProps.props.value != null) {\n        return item[this._elProps.props.value]\n      } else {\n        return item.value\n      }\n    },\n    // 处理label,是否为原生label还是自定义label\n    getValueLabel (item) {\n      if (this._elProps.props.label != null) {\n        return item[this._elProps.props.label]\n      } else {\n        return item.label\n      }\n    },\n    // 处理children,是否为原生children还是自定义children\n    getValueChildren (item) {\n      let children = 'children'\n      if (this._elProps.props.children != null) {\n        children = this._elProps.props.children\n      }\n      return item[children]\n    },\n    // 确定按钮事件\n    selectSubmit () {\n      const nodes = this.refreshSelected()\n      this.dialogVisible = false\n      this.doValueInputChanged(nodes)\n    },\n    // 将值传出去\n    doValueInputChanged (nodes) {\n      let values = this.formatValue(nodes)\n      this.resetInputHeight()\n      if (!this.multiple) {\n        values = values && values.length > 0 ? values[0] : undefined\n      }\n      this.currentValue = values\n      if (this.dispatch) {\n        this.dispatch('ElFormItem', 'el.form.blur')\n      }\n      this.$emit('input', values)\n    },\n    itemClosed (item) {\n      const newNodes = lodash.without(this.selected, item)\n      // console.log(\"new value\", item, newNodes);\n      this.$set(this, 'selected', newNodes)\n      this.doValueInputChanged(newNodes)\n    },\n    // 获取选中的行数据\n    refreshSelected () {\n      let nodes = null\n      if (this.multiple) {\n        nodes = this.$refs.elTree.getCheckboxRecords()\n      } else {\n        const node = this.$refs.elTree.getRadioRecord()\n        if (node == null) {\n          nodes = []\n        } else {\n          nodes = [node]\n        }\n      }\n\n      if (this.ignoreFullCheckedChildren) {\n        nodes = this.filterFullCheckedChildren(nodes)\n      }\n      if (this.filter != null) {\n        nodes = this.filter(nodes)\n      }\n      // log.danger(\"selected\", this.selected);\n      this.$set(this, 'selected', nodes)\n      return nodes\n    },\n    resetInputHeight () {\n      if (this.collapseTags && !this.filterable) return\n      this.$nextTick(() => {\n        if (!this.$refs.reference) return\n        const inputChildNodes = this.$refs.reference.$el.childNodes\n        const input = [].filter.call(\n          inputChildNodes,\n          (item) => item.tagName === 'INPUT'\n        )[0]\n        const tags = this.$refs.tags\n        const sizeInMap = this.initialInputHeight || 40\n        const height =\n          this.selected.length === 0\n            ? sizeInMap + 'px'\n            : Math.max(\n              tags\n                ? tags.clientHeight + (tags.clientHeight > sizeInMap ? 6 : 0)\n                : 0,\n              sizeInMap\n            ) + 'px'\n        input.style.height = height\n        if (this.visible && this.emptyText !== false) {\n          this.broadcast('ElSelectDropdown', 'updatePopper')\n        }\n      })\n    },\n    // 过滤叶子节点\n    filterFullCheckedChildren (nodes) {\n      const ignored = new Set()\n      for (const item of nodes) {\n        const children = this.getValueChildren(item)\n        if (children != null) {\n          for (const child of children) {\n            ignored.add(this.getValueKey(child))\n          }\n        }\n      }\n      const values = []\n      for (const item of nodes) {\n        const key = this.getValueKey(item)\n        if (!ignored.has(key)) {\n          values.push(item)\n        }\n      }\n      return values\n    },\n    formatValue (nodes) {\n      const values = []\n      for (const item of nodes) {\n        values.push(this.getValueKey(item))\n      }\n      return values\n    },\n    filterNode (value, data) {\n      if (!value) return true\n      return this.getValueLabel(data).indexOf(value) !== -1\n    },\n    onChange (value) {\n      this.$emit('change', value)\n\n      if (this.dispatch) {\n        this.dispatch('ElFormItem', 'el.form.blur')\n      }\n    },\n    // 分页事件\n    handlePageChange ({\n      currentPage,\n      pageSize\n    }) {\n      const that = this\n      that._elProps.page = currentPage\n      that._elProps.limit = pageSize\n      that.searchTableData()\n    },\n    // 获取数据事件\n    searchTableData () {\n      const that = this\n      let params\n\n      if (that.pagination) {\n        params = {\n          page: that._elProps.page,\n          limit: that._elProps.limit,\n          search: that.filterText\n        }\n      } else {\n        params = {\n          search: that.filterText\n        }\n      }\n      let url\n      if (typeof that.dict.url === 'function') {\n        const form = that.d2CrudContext.getForm()\n        url = that.dict.url(that.dict, { form })\n      } else {\n        url = that.dict.url\n      }\n      request({\n        url: url,\n        params: params\n      }).then((ret) => {\n        that._elProps.page = ret.data.page\n        that._elProps.limit = ret.data.limit\n        that._elProps.total = ret.data.total\n        that.$set(that, 'dictOptions', ret.data.data)\n      })\n    },\n    /**\n     * 表格单选事件\n     */\n    radioChange ({ checked, row, rowIndex, $rowIndex, column, columnIndex, $columnIndex, $event }) {\n      this.$emit('radioChange', {\n        row,\n        rowIndex\n      })\n    },\n    /**\n     * 表格多选事件\n     */\n    checkboxChange ({ checked, row, rowIndex, $rowIndex, column, columnIndex, $columnIndex, $event }) {\n      this.$emit('checkboxChange', {\n        checked, row, rowIndex, $rowIndex, column, columnIndex, $columnIndex, $event\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n\n.d2p-tree-selector {\n  width: 100%;\n\n  .el-cascader {\n    width: 100%;\n  }\n\n  .is-disabled .el-tag__close.el-icon-close {\n    display: none;\n  }\n}\n\n.d2p-tree-selector-dialog {\n  &.el-dialog {\n    max-height: 80vh;\n    display: flex;\n    flex-direction: column;\n\n    .el-dialog__body {\n      flex: 1;\n      overflow-y: auto;\n    }\n\n    .el-dialog__header {\n      padding: 20px 20px 20px;\n      border-bottom: 1px solid #eee;\n    }\n\n    .el-dialog__footer {\n      padding: 10px 20px 10px;\n      border-top: 1px solid #eee;\n    }\n  }\n}\n\n</style>\n"]}]}