{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raviailani/Downloads/django-vue-admin/web/src/views/system/rolePermission/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/src/views/system/rolePermission/index.vue","mtime":1674694301503},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/babel.config.js","mtime":1674694301461},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js","mtime":1674694549360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9yYXZpYWlsYW5pL0Rvd25sb2Fkcy9kamFuZ28tdnVlLWFkbWluL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zaGlmdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgKiBhcyBhcGkgZnJvbSAnLi9hcGknOwppbXBvcnQgWEVVdGlscyBmcm9tICd4ZS11dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncm9sZVBlcm1pc3Npb24nLAogIHByb3BzOiB7CiAgICByb2xlT2JqOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG5hbWU6IG51bGwsCiAgICAgICAgICBkYXRhX3JhbmdlOiBudWxsCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbHRlclRleHQ6ICcnLAogICAgICBkYXRhOiBbXSwKICAgICAgbWVudU9wdGlvbnM6IFtdLAogICAgICBwZXJtaXNzaW9uRGF0YTogW10sCiAgICAgIG1lbnVDaGVja2VkS2V5czogW10sCiAgICAgIC8vIOiPnOWNlem7mOiupOmAieS4reeahOiKgueCuQogICAgICBtZW51Q2hlY2tTdHJpY3RseTogZmFsc2UsCiAgICAgIGRlcHRPcHRpb25zOiBbXSwKICAgICAgZGVwdENoZWNrZWRLZXlzOiBbXSwKICAgICAgZGF0YVNjb3BlT3B0aW9uczogW3sKICAgICAgICB2YWx1ZTogMCwKICAgICAgICBsYWJlbDogJ+S7heacrOS6uuaVsOaNruadg+mZkCcKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAxLAogICAgICAgIGxhYmVsOiAn5pys6YOo6Zeo5Y+K5Lul5LiL5pWw5o2u5p2D6ZmQJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDIsCiAgICAgICAgbGFiZWw6ICfmnKzpg6jpl6jmlbDmja7mnYPpmZAnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMywKICAgICAgICBsYWJlbDogJ+WFqOmDqOaVsOaNruadg+mZkCcKICAgICAgfSwgewogICAgICAgIHZhbHVlOiA0LAogICAgICAgIGxhYmVsOiAn6Ieq5a6a5LmJ5pWw5o2u5p2D6ZmQJwogICAgICB9XSwKICAgICAgZGF0YUF1dGhvcml6YXRpb25UaXBzOiAn5o6I5p2D55So5oi35Y+v5pON5L2c55qE5pWw5o2u6IyD5Zu0JywKICAgICAgbWVudUF1dGhvcml6YXRpb25UaXBzOiAn5o6I5p2D55So5oi35Zyo6I+c5Y2V5Lit5Y+v5pON5L2c55qE6IyD5Zu0JwogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBmaWx0ZXJUZXh0OiBmdW5jdGlvbiBmaWx0ZXJUZXh0KHZhbCkgewogICAgICB0aGlzLiRyZWZzLnRyZWUuZmlsdGVyKHZhbCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmaWx0ZXJOb2RlOiBmdW5jdGlvbiBmaWx0ZXJOb2RlKHZhbHVlLCBkYXRhKSB7CiAgICAgIGlmICghdmFsdWUpIHJldHVybiB0cnVlOwogICAgICByZXR1cm4gZGF0YS5sYWJlbC5pbmRleE9mKHZhbHVlKSAhPT0gLTE7CiAgICB9LAogICAgZ2V0Q3J1ZE9wdGlvbnM6IGZ1bmN0aW9uIGdldENydWRPcHRpb25zKCkgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgICAgcmV0dXJuIGNydWRPcHRpb25zKHRoaXMpOwogICAgfSwKICAgIHBhZ2VSZXF1ZXN0OiBmdW5jdGlvbiBwYWdlUmVxdWVzdChxdWVyeSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gYXBpLkdldExpc3QocXVlcnkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJlcy5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgICAgdmFsdWUubm9kZV9pZCA9IGluZGV4OwogICAgICAgIH0pOwogICAgICAgIF90aGlzLmRhdGEgPSByZXM7CiAgICAgICAgX3RoaXMuJG5leHRUaWNrKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5pbml0Tm9kZSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBpbml0Tm9kZTogZnVuY3Rpb24gaW5pdE5vZGUoKSB7CiAgICAgIHRoaXMuZ2V0RGVwdERhdGEoKTsKICAgICAgdGhpcy5nZXRNZW51RGF0YSh0aGlzLnJvbGVPYmopOwogICAgICB0aGlzLm1lbnVDaGVja2VkS2V5cyA9IHRoaXMucm9sZU9iai5tZW51OyAvLyDliqDovb3lt7Lli77pgInnmoToj5zljZUKICAgICAgdGhpcy5tZW51Q2hlY2tTdHJpY3RseSA9IHRydWU7IC8vIOeItuWtkOS4jeebuOS6kuWFs+iBlAogICAgICB0aGlzLmRlcHRDaGVja2VkS2V5cyA9IHRoaXMucm9sZU9iai5kZXB0OwogICAgICB0aGlzLkdldERhdGFTY29wZSgpOwogICAgfSwKICAgIGFkZFJlcXVlc3Q6IGZ1bmN0aW9uIGFkZFJlcXVlc3Qocm93KSB7CiAgICAgIHJldHVybiBhcGkuY3JlYXRlT2JqKHJvdyk7CiAgICB9LAogICAgdXBkYXRlUmVxdWVzdDogZnVuY3Rpb24gdXBkYXRlUmVxdWVzdChyb3cpIHsKICAgICAgcmV0dXJuIGFwaS5VcGRhdGVPYmoocm93KTsKICAgIH0sCiAgICBkZWxSZXF1ZXN0OiBmdW5jdGlvbiBkZWxSZXF1ZXN0KHJvdykgewogICAgICByZXR1cm4gYXBpLkRlbE9iaihyb3cuaWQpOwogICAgfSwKICAgIC8vIOiOt+WPlumDqOmXqOaVsOaNrgogICAgZ2V0RGVwdERhdGE6IGZ1bmN0aW9uIGdldERlcHREYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgYXBpLkdldERhdGFTY29wZURlcHQoKS50aGVuKGZ1bmN0aW9uIChyZXQpIHsKICAgICAgICBfdGhpczIuZGVwdE9wdGlvbnMgPSBYRVV0aWxzLnRvQXJyYXlUcmVlKHJldC5kYXRhLCB7CiAgICAgICAgICBwYXJlbnRLZXk6ICdwYXJlbnQnLAogICAgICAgICAgc3RyaWN0OiBmYWxzZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5boj5zljZXmlbDmja4KICAgIGdldE1lbnVEYXRhOiBmdW5jdGlvbiBnZXRNZW51RGF0YShkYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICBhcGkuR2V0TWVudURhdGEoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmVzLmZvckVhY2goZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIC8vIOagueaNruW9k+WJjeinkuiJsueahHBlcm1pc3Npb24s5a+5bWVudVBlcm1pc3Nvbui/m+ihjOWLvumAieWkhOeQhgogICAgICAgICAgeC5tZW51UGVybWlzc2lvbi5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICAgIGlmIChkYXRhLnBlcm1pc3Npb24uaW5kZXhPZihhLmlkKSA+IC0xKSB7CiAgICAgICAgICAgICAgX3RoaXMzLiRzZXQoYSwgJ2NoZWNrZWQnLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczMuJHNldChhLCAnY2hlY2tlZCcsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgLy8g5bCG6I+c5Y2V5YiX6KGo6L2s5o2i5Li65qCR5b2i5YiX6KGoCiAgICAgICAgX3RoaXMzLm1lbnVPcHRpb25zID0gWEVVdGlscy50b0FycmF5VHJlZShyZXMsIHsKICAgICAgICAgIHBhcmVudEtleTogJ3BhcmVudCcsCiAgICAgICAgICBzdHJpY3Q6IHRydWUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5p2D6ZmQ6IyD5Zu0CiAgICBHZXREYXRhU2NvcGU6IGZ1bmN0aW9uIEdldERhdGFTY29wZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIGFwaS5HZXREYXRhU2NvcGUoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuZGF0YVNjb3BlT3B0aW9ucyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmiYDmnInli77pgInoj5zljZXoioLngrnmlbDmja4KICAgIGdldE1lbnVBbGxDaGVja2VkS2V5czogZnVuY3Rpb24gZ2V0TWVudUFsbENoZWNrZWRLZXlzKCkgewogICAgICAvLyDnm67liY3ooqvpgInkuK3nmoToj5zljZXoioLngrkKICAgICAgdmFyIGNoZWNrZWRLZXlzID0gdGhpcy4kcmVmcy5tZW51VHJlZS5nZXRDaGVja2VkS2V5cygpOwogICAgICAvLyDljYrpgInkuK3nmoToj5zljZXoioLngrkKICAgICAgdmFyIGhhbGZDaGVja2VkS2V5cyA9IHRoaXMuJHJlZnMubWVudVRyZWUuZ2V0SGFsZkNoZWNrZWRLZXlzKCk7CiAgICAgIGNoZWNrZWRLZXlzLnVuc2hpZnQuYXBwbHkoY2hlY2tlZEtleXMsIGhhbGZDaGVja2VkS2V5cyk7CiAgICAgIHJldHVybiBjaGVja2VkS2V5czsKICAgIH0sCiAgICAvLyDmiYDmnInoh6rlrprkuYnmnYPpmZDml7Ys5Yu+6YCJ55qE6YOo6Zeo6IqC54K55pWw5o2uCiAgICBnZXREZXB0QWxsQ2hlY2tlZEtleXM6IGZ1bmN0aW9uIGdldERlcHRBbGxDaGVja2VkS2V5cygpIHsKICAgICAgLy8g55uu5YmN6KKr6YCJ5Lit55qE6YOo6Zeo6IqC54K5CiAgICAgIHZhciBjaGVja2VkS2V5cyA9IHRoaXMuJHJlZnMuZGVwdC5nZXRDaGVja2VkS2V5cygpOwogICAgICAvLyDljYrpgInkuK3nmoTpg6jpl6joioLngrkKICAgICAgdmFyIGhhbGZDaGVja2VkS2V5cyA9IHRoaXMuJHJlZnMuZGVwdC5nZXRIYWxmQ2hlY2tlZEtleXMoKTsKICAgICAgY2hlY2tlZEtleXMudW5zaGlmdC5hcHBseShjaGVja2VkS2V5cywgaGFsZkNoZWNrZWRLZXlzKTsKICAgICAgcmV0dXJuIGNoZWNrZWRLZXlzOwogICAgfSwKICAgIC8vIOaPkOS6pOS/ruaUuQogICAgc3VibWl0UGVybWlzc29uOiBmdW5jdGlvbiBzdWJtaXRQZXJtaXNzb24oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB0aGlzLnJvbGVPYmoubWVudSA9IHRoaXMuZ2V0TWVudUFsbENoZWNrZWRLZXlzKCk7IC8vIOiOt+WPlumAieS4reeahOiPnOWNlQogICAgICB0aGlzLnJvbGVPYmouZGVwdCA9IHRoaXMuZ2V0RGVwdEFsbENoZWNrZWRLZXlzKCk7IC8vIOiOt+WPlumAieS4reeahOmDqOmXqAogICAgICB2YXIgbWVudURhdGEgPSBYRVV0aWxzLnRvVHJlZUFycmF5KHRoaXMubWVudU9wdGlvbnMpOwogICAgICB2YXIgcGVybWlzc2lvbkRhdGEgPSBbXTsKICAgICAgbWVudURhdGEuZm9yRWFjaChmdW5jdGlvbiAoeCkgewogICAgICAgIHZhciBjaGVja2VkUGVybWlzc2lvbiA9IHgubWVudVBlcm1pc3Npb24uZmlsdGVyKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICByZXR1cm4gZi5jaGVja2VkOwogICAgICAgIH0pOwogICAgICAgIGlmIChjaGVja2VkUGVybWlzc2lvbi5sZW5ndGggPiAwKSB7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY2hlY2tlZFBlcm1pc3Npb24pLAogICAgICAgICAgICBfc3RlcDsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgICBwZXJtaXNzaW9uRGF0YS5wdXNoKGl0ZW0uaWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5yb2xlT2JqLnBlcm1pc3Npb24gPSBwZXJtaXNzaW9uRGF0YTsKICAgICAgcmV0dXJuIHRoaXMudXBkYXRlUmVxdWVzdCh0aGlzLnJvbGVPYmopLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKCfmm7TmlrDmiJDlip8nKTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOmAieaLqeinkuiJsuadg+mZkOiMg+WbtOinpuWPkSAqL2RhdGFTY29wZVNlbGVjdENoYW5nZTogZnVuY3Rpb24gZGF0YVNjb3BlU2VsZWN0Q2hhbmdlKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPT0gNCkgewogICAgICAgIC8vIHRoaXMuJHJlZnMuZGVwdC5zZXRDaGVja2VkS2V5cyhbXSk7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOiPnOWNleagkeeCueWHuyzlhajpgInmnYPpmZDpg6jliIbmlbDmja4KICAgICAqIEBwYXJhbSBkYXRhCiAgICAgKi8KICAgIGhhbmRsZUNoZWNrQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrQ2xpY2soZGF0YSwgY2hlY2tlZCkgewogICAgICB2YXIgbWVudVBlcm1pc3Npb24gPSBkYXRhLm1lbnVQZXJtaXNzaW9uLAogICAgICAgIGNoaWxkcmVuID0gZGF0YS5jaGlsZHJlbiwKICAgICAgICBwYXJlbnQgPSBkYXRhLnBhcmVudDsKICAgICAgdGhpcy5tZW51Q2hlY2tTdHJpY3RseSA9IGZhbHNlOwogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG1lbnVQZXJtaXNzaW9uKSwKICAgICAgICBfc3RlcDI7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfaXRlbSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgIHRoaXMuJHNldChfaXRlbSwgJ2NoZWNrZWQnLCBjaGVja2VkKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICAgIGlmIChjaGlsZHJlbiAmJiBwYXJlbnQpIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNoaWxkcmVuKSwKICAgICAgICAgIF9zdGVwMzsKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICAgIHRoaXMuJHJlZnMubWVudVRyZWUuc2V0Q2hlY2tlZChpdGVtLmlkLCBjaGVja2VkKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnBhZ2VSZXF1ZXN0KCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;AAwHA;AACA;AAEA;EACAA;EACAC;IACAC;MACAC;MACAC;QACA;UACAJ;UACAK;QACA;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAD;MACAE;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC,mBACA;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,EACA;MACAC;MACAC;IACA;EACA;EACAC;IACAZ;MACA;IACA;EACA;EACAa;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;QACAC;UACAT;QACA;QACA;QACA;UACA;QACA;MACA;IACA;IACAU;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACAC;QACA;UAAAC;UAAAC;QAAA;MACA;IACA;IACA;IACAC;MAAA;MACAH;QACAN;UACA;UACAU;YACA;cACA;YACA;cACA;YACA;UACA;QACA;QACA;QACA;UACAH;UACAC;QACA;MACA;IACA;IACA;IACAG;MAAA;MACAL;QACA;MACA;IACA;IACA;IACAM;MACA;MACA;MACA;MACA;MACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACAD;MACA;IACA;IACA;IACAE;MAAA;MACA;MACA;MACA;MACA;MACAC;QACA;UACA;QACA;QAEA;UAAA,2CACAC;YAAA;UAAA;YAAA;cAAA;cACAhC;YACA;UAAA;YAAA;UAAA;YAAA;UAAA;QACA;MACA;MACA;MACA;QACA;MACA;IACA;IACA,iBACAiC;MACA;QACA;MAAA;IAEA;IACA;AACA;AACA;AACA;IACAC;MACA,IACAC,iBAGAtC,KAHAsC;QACAC,WAEAvC,KAFAuC;QACAC,SACAxC,KADAwC;MAEA;MAAA,4CACAF;QAAA;MAAA;QAAA;UAAA;UACA;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;QAAA,4CACAC;UAAA;QAAA;UAAA;YAAA;YACA;UACA;QAAA;UAAA;QAAA;UAAA;QAAA;MACA;IACA;EACA;EACAE;IACA;EACA;AACA","names":["name","props","roleObj","type","default","data_range","data","filterText","menuOptions","permissionData","menuCheckedKeys","menuCheckStrictly","deptOptions","deptCheckedKeys","dataScopeOptions","value","label","dataAuthorizationTips","menuAuthorizationTips","watch","methods","filterNode","getCrudOptions","pageRequest","res","initNode","addRequest","updateRequest","delRequest","getDeptData","api","parentKey","strict","getMenuData","x","GetDataScope","getMenuAllCheckedKeys","checkedKeys","getDeptAllCheckedKeys","submitPermisson","menuData","checkedPermission","dataScopeSelectChange","handleCheckClick","menuPermission","children","parent","created"],"sourceRoot":"src/views/system/rolePermission","sources":["index.vue"],"sourcesContent":["<!--\n * @创建文件时间: 2021-06-01 22:41:21\n * @Auther: 猿小天\n * @最后修改人: 猿小天\n * @最后修改时间: 2021-09-26 21:18:29\n * 联系Qq:1638245306\n * @文件介绍:授权管理\n-->\n<template>\n  <div>\n    <div style=\"margin: 10px\">\n      <el-button\n        type=\"primary\"\n        size=\"mini\"\n        @click=\"submitPermisson\"\n        v-permission=\"'Save'\"\n      >保存\n      </el-button>\n    </div>\n    <el-container style=\"height: 80vh; border: 1px solid #eee\">\n      <el-aside width=\"300px\" style=\"border:1px solid #eee;padding: 20px;\">\n        <div style=\"margin: 10px;\">\n          <div style=\"margin-bottom: 20px\">\n            <div class=\"yxt-flex-align-center\">\n              <div class=\"yxt-divider\"></div>\n              <span>数据授权</span>\n              <el-tooltip\n                class=\"item\"\n                effect=\"dark\"\n                :content=\"dataAuthorizationTips\"\n                placement=\"right\"\n              >\n                <el-icon class=\"el-icon-question\"></el-icon>\n              </el-tooltip>\n            </div>\n          </div>\n\n          <div>\n            <el-select\n              v-show=\"roleObj.name\"\n              v-model=\"roleObj.data_range\"\n              @change=\"dataScopeSelectChange\"\n            >\n              <el-option\n                v-for=\"item in dataScopeOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </div>\n\n          <div v-show=\"roleObj.data_range === 4\" class=\"dept-tree\">\n            <el-tree\n              :data=\"deptOptions\"\n              show-checkbox\n              default-expand-all\n              :default-checked-keys=\"deptCheckedKeys\"\n              ref=\"dept\"\n              node-key=\"id\"\n              :check-strictly=\"true\"\n              :props=\"{ label: 'name' }\"\n            ></el-tree>\n          </div>\n\n        </div>\n      </el-aside>\n      <el-main>\n        <div style=\"margin: 10px;\">\n          <div>\n            <div style=\"margin-bottom: 20px\">\n              <div class=\"yxt-flex-align-center\">\n                <div class=\"yxt-divider\"></div>\n                <span>菜单授权</span>\n                <el-tooltip\n                  class=\"item\"\n                  effect=\"dark\"\n                  :content=\"menuAuthorizationTips\"\n                  placement=\"right\"\n                >\n                  <el-icon class=\"el-icon-question\"></el-icon>\n                </el-tooltip>\n              </div>\n            </div>\n            <el-tree\n              class=\"flow-tree\"\n              ref=\"menuTree\"\n              :data=\"menuOptions\"\n              node-key=\"id\"\n              default-expand-all\n              show-checkbox\n              :expand-on-click-node=\"false\"\n              :default-checked-keys=\"menuCheckedKeys\"\n              :check-on-click-node=\"false\"\n              empty-text=\"请先选择角色\"\n              :check-strictly=\"menuCheckStrictly\"\n              @check-change=\"handleCheckClick\"\n            >\n              <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\n                <div class=\"yxt-flex-between\">\n                  <div :style=\"{width:((4-node.level)*18+100)+'px'}\">{{ data.name }}</div>\n                  <div>\n                    <el-checkbox\n                      v-for=\"(item, index) in data.menuPermission\"\n                      :key=\"index\"\n                      v-model=\"item.checked\"\n                    >{{ item.name }}</el-checkbox>\n                  </div>\n                </div>\n              </span>\n            </el-tree>\n          </div>\n        </div>\n        <el-backtop target=\".el-main\"></el-backtop>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport * as api from './api'\nimport XEUtils from 'xe-utils'\n\nexport default {\n  name: 'rolePermission',\n  props: {\n    roleObj: {\n      type: Object,\n      default () {\n        return {\n          name: null,\n          data_range: null\n        }\n      }\n    }\n  },\n  data () {\n    return {\n      filterText: '',\n      data: [],\n      menuOptions: [],\n      permissionData: [],\n      menuCheckedKeys: [], // 菜单默认选中的节点\n      menuCheckStrictly: false,\n      deptOptions: [],\n      deptCheckedKeys: [],\n      dataScopeOptions: [\n        {\n          value: 0,\n          label: '仅本人数据权限'\n        },\n        {\n          value: 1,\n          label: '本部门及以下数据权限'\n        },\n        {\n          value: 2,\n          label: '本部门数据权限'\n        },\n        {\n          value: 3,\n          label: '全部数据权限'\n        },\n        {\n          value: 4,\n          label: '自定义数据权限'\n        }\n      ],\n      dataAuthorizationTips: '授权用户可操作的数据范围',\n      menuAuthorizationTips: '授权用户在菜单中可操作的范围'\n    }\n  },\n  watch: {\n    filterText (val) {\n      this.$refs.tree.filter(val)\n    }\n  },\n  methods: {\n    filterNode (value, data) {\n      if (!value) return true\n      return data.label.indexOf(value) !== -1\n    },\n    getCrudOptions () {\n      // eslint-disable-next-line no-undef\n      return crudOptions(this)\n    },\n    pageRequest (query) {\n      return api.GetList(query).then(res => {\n        res.map((value, index) => {\n          value.node_id = index\n        })\n        this.data = res\n        this.$nextTick().then(() => {\n          this.initNode()\n        })\n      })\n    },\n    initNode () {\n      this.getDeptData()\n      this.getMenuData(this.roleObj)\n      this.menuCheckedKeys = this.roleObj.menu // 加载已勾选的菜单\n      this.menuCheckStrictly = true // 父子不相互关联\n      this.deptCheckedKeys = this.roleObj.dept\n      this.GetDataScope()\n    },\n    addRequest (row) {\n      return api.createObj(row)\n    },\n    updateRequest (row) {\n      return api.UpdateObj(row)\n    },\n    delRequest (row) {\n      return api.DelObj(row.id)\n    },\n    // 获取部门数据\n    getDeptData () {\n      api.GetDataScopeDept().then(ret => {\n        this.deptOptions = XEUtils.toArrayTree(ret.data, { parentKey: 'parent', strict: false })\n      })\n    },\n    // 获取菜单数据\n    getMenuData (data) {\n      api.GetMenuData(data).then(res => {\n        res.forEach(x => {\n          // 根据当前角色的permission,对menuPermisson进行勾选处理\n          x.menuPermission.forEach(a => {\n            if (data.permission.indexOf(a.id) > -1) {\n              this.$set(a, 'checked', true)\n            } else {\n              this.$set(a, 'checked', false)\n            }\n          })\n        })\n        // 将菜单列表转换为树形列表\n        this.menuOptions = XEUtils.toArrayTree(res, {\n          parentKey: 'parent',\n          strict: true\n        })\n      })\n    },\n    // 获取权限范围\n    GetDataScope () {\n      api.GetDataScope().then(res => {\n        this.dataScopeOptions = res.data\n      })\n    },\n    // 所有勾选菜单节点数据\n    getMenuAllCheckedKeys () {\n      // 目前被选中的菜单节点\n      const checkedKeys = this.$refs.menuTree.getCheckedKeys()\n      // 半选中的菜单节点\n      const halfCheckedKeys = this.$refs.menuTree.getHalfCheckedKeys()\n      checkedKeys.unshift.apply(checkedKeys, halfCheckedKeys)\n      return checkedKeys\n    },\n    // 所有自定义权限时,勾选的部门节点数据\n    getDeptAllCheckedKeys () {\n      // 目前被选中的部门节点\n      const checkedKeys = this.$refs.dept.getCheckedKeys()\n      // 半选中的部门节点\n      const halfCheckedKeys = this.$refs.dept.getHalfCheckedKeys()\n      checkedKeys.unshift.apply(checkedKeys, halfCheckedKeys)\n      return checkedKeys\n    },\n    // 提交修改\n    submitPermisson () {\n      this.roleObj.menu = this.getMenuAllCheckedKeys() // 获取选中的菜单\n      this.roleObj.dept = this.getDeptAllCheckedKeys() // 获取选中的部门\n      const menuData = XEUtils.toTreeArray(this.menuOptions)\n      const permissionData = []\n      menuData.forEach(x => {\n        const checkedPermission = x.menuPermission.filter(f => {\n          return f.checked\n        })\n\n        if (checkedPermission.length > 0) {\n          for (const item of checkedPermission) {\n            permissionData.push(item.id)\n          }\n        }\n      })\n      this.roleObj.permission = permissionData\n      return this.updateRequest(this.roleObj).then(res => {\n        this.$message.success('更新成功')\n      })\n    },\n    /** 选择角色权限范围触发 */\n    dataScopeSelectChange (value) {\n      if (value !== 4) {\n        // this.$refs.dept.setCheckedKeys([]);\n      }\n    },\n    /**\n     * 菜单树点击,全选权限部分数据\n     * @param data\n     */\n    handleCheckClick (data, checked) {\n      const {\n        menuPermission,\n        children,\n        parent\n      } = data\n      this.menuCheckStrictly = false\n      for (const item of menuPermission) {\n        this.$set(item, 'checked', checked)\n      }\n      if (children && parent) {\n        for (const item of children) {\n          this.$refs.menuTree.setChecked(item.id, checked)\n        }\n      }\n    }\n  },\n  created () {\n    this.pageRequest()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.yxtInput {\n  .el-form-item__label {\n    color: #49a1ff;\n  }\n}\n\n.dept-tree::-webkit-scrollbar {\n  display: none; /* Chrome Safari */\n}\n\n.dept-tree {\n  height: 160px;\n  overflow-y: scroll;\n  scrollbar-width: none; /* firefox */\n  -ms-overflow-style: none; /* IE 10+ */\n}\n\n.flow-tree {\n  overflow: auto;\n  flex: 1;\n\n  margin: 10px;\n\n  .el-tree-node {\n    .el-tree-node__children {\n      overflow: visible !important\n    }\n  }\n}\n\n</style>\n"]}]}