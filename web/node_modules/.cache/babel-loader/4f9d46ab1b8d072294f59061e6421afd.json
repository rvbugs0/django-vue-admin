{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/eslint-loader/index.js??ref--14-0!/Users/raviailani/Downloads/django-vue-admin/web/src/libs/util.db.js","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/src/libs/util.db.js","mtime":1674694301485},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/babel.config.js","mtime":1674694301461},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/eslint-loader/index.js","mtime":1674694549000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGxvdyBmcm9tICdsb3dkYic7CmltcG9ydCBMb2NhbFN0b3JhZ2UgZnJvbSAnbG93ZGIvYWRhcHRlcnMvTG9jYWxTdG9yYWdlJzsKaW1wb3J0IHV0aWwgZnJvbSAnQC9saWJzL3V0aWwnOwppbXBvcnQgeyBjbG9uZURlZXAgfSBmcm9tICdsb2Rhc2gnOwp2YXIgYWRhcHRlciA9IG5ldyBMb2NhbFN0b3JhZ2UoImQyYWRtaW4tIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9WRVJTSU9OKSk7CnZhciBkYiA9IGxvdyhhZGFwdGVyKTsKZGIuZGVmYXVsdHMoewogIHN5czoge30sCiAgZGF0YWJhc2U6IHt9Cn0pLndyaXRlKCk7CmV4cG9ydCBkZWZhdWx0IGRiOwoKLyoqCiAqIEBkZXNjcmlwdGlvbiDmo4Dmn6Xot6/lvoTmmK/lkKblrZjlnKgg5LiN5a2Y5Zyo55qE6K+d5Yid5aeL5YyWCiAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIGRiTmFtZSB7U3RyaW5nfSDmlbDmja7lupPlkI3np7AKICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgcGF0aCB7U3RyaW5nfSDot6/lvoQKICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgdXNlciB7Qm9vbGVhbn0g5Yy65YiG55So5oi3CiAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIHZhbGlkYXRvciB7RnVuY3Rpb259IOaVsOaNruagoemqjOmSqeWtkCDov5Tlm54gdHJ1ZSDooajnpLrpqozor4HpgJrov4cKICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgZGVmYXVsdFZhbHVlIHsqfSDliJ3lp4vljJbpu5jorqTlgLwKICogQHJldHVybnMge1N0cmluZ30g5Y+v5Lul55u05o6l5L2/55So55qE6Lev5b6ECiAqLwpleHBvcnQgZnVuY3Rpb24gcGF0aEluaXQoX3JlZikgewogIHZhciBfcmVmJGRiTmFtZSA9IF9yZWYuZGJOYW1lLAogICAgZGJOYW1lID0gX3JlZiRkYk5hbWUgPT09IHZvaWQgMCA/ICdkYXRhYmFzZScgOiBfcmVmJGRiTmFtZSwKICAgIF9yZWYkcGF0aCA9IF9yZWYucGF0aCwKICAgIHBhdGggPSBfcmVmJHBhdGggPT09IHZvaWQgMCA/ICcnIDogX3JlZiRwYXRoLAogICAgX3JlZiR1c2VyID0gX3JlZi51c2VyLAogICAgdXNlciA9IF9yZWYkdXNlciA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkdXNlciwKICAgIF9yZWYkdmFsaWRhdG9yID0gX3JlZi52YWxpZGF0b3IsCiAgICB2YWxpZGF0b3IgPSBfcmVmJHZhbGlkYXRvciA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gOiBfcmVmJHZhbGlkYXRvciwKICAgIF9yZWYkZGVmYXVsdFZhbHVlID0gX3JlZi5kZWZhdWx0VmFsdWUsCiAgICBkZWZhdWx0VmFsdWUgPSBfcmVmJGRlZmF1bHRWYWx1ZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGRlZmF1bHRWYWx1ZTsKICB2YXIgdXVpZCA9IHV0aWwuY29va2llcy5nZXQoJ3V1aWQnKSB8fCAnZ2hvc3QtdXVpZCc7CiAgdmFyIGN1cnJlbnRQYXRoID0gIiIuY29uY2F0KGRiTmFtZSwgIi4iKS5jb25jYXQodXNlciA/ICJ1c2VyLiIuY29uY2F0KHV1aWQpIDogJ3B1YmxpYycpLmNvbmNhdChwYXRoID8gIi4iLmNvbmNhdChwYXRoKSA6ICcnKTsKICB2YXIgdmFsdWUgPSBkYi5nZXQoY3VycmVudFBhdGgpLnZhbHVlKCk7CiAgaWYgKCEodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWxpZGF0b3IodmFsdWUpKSkgewogICAgZGIuc2V0KGN1cnJlbnRQYXRoLCBkZWZhdWx0VmFsdWUpLndyaXRlKCk7CiAgfQogIHJldHVybiBjdXJyZW50UGF0aDsKfQoKLyoqCiAqIEBkZXNjcmlwdGlvbiDlsIbmlbDmja7lrZjlgqjliLDmjIflrprkvY3nva4gfCDot6/lvoTkuI3lrZjlnKjkvJroh6rliqjliJ3lp4vljJYKICogQGRlc2NyaXB0aW9uIOaViOaenOexu+S8vOS6juWPluWAvCBkYk5hbWUucGF0aCA9IHZhbHVlCiAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIGRiTmFtZSB7U3RyaW5nfSDmlbDmja7lupPlkI3np7AKICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgcGF0aCB7U3RyaW5nfSDlrZjlgqjot6/lvoQKICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgdmFsdWUgeyp9IOmcgOimgeWtmOWCqOeahOWAvAogKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCB1c2VyIHtCb29sZWFufSDmmK/lkKbljLrliIbnlKjmiLcKICovCmV4cG9ydCBmdW5jdGlvbiBkYlNldChfcmVmMikgewogIHZhciBfcmVmMiRkYk5hbWUgPSBfcmVmMi5kYk5hbWUsCiAgICBkYk5hbWUgPSBfcmVmMiRkYk5hbWUgPT09IHZvaWQgMCA/ICdkYXRhYmFzZScgOiBfcmVmMiRkYk5hbWUsCiAgICBfcmVmMiRwYXRoID0gX3JlZjIucGF0aCwKICAgIHBhdGggPSBfcmVmMiRwYXRoID09PSB2b2lkIDAgPyAnJyA6IF9yZWYyJHBhdGgsCiAgICBfcmVmMiR2YWx1ZSA9IF9yZWYyLnZhbHVlLAogICAgdmFsdWUgPSBfcmVmMiR2YWx1ZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmMiR2YWx1ZSwKICAgIF9yZWYyJHVzZXIgPSBfcmVmMi51c2VyLAogICAgdXNlciA9IF9yZWYyJHVzZXIgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIkdXNlcjsKICBkYi5zZXQocGF0aEluaXQoewogICAgZGJOYW1lOiBkYk5hbWUsCiAgICBwYXRoOiBwYXRoLAogICAgdXNlcjogdXNlcgogIH0pLCB2YWx1ZSkud3JpdGUoKTsKfQoKLyoqCiAqIEBkZXNjcmlwdGlvbiDojrflj5bmlbDmja4KICogQGRlc2NyaXB0aW9uIOaViOaenOexu+S8vOS6juWPluWAvCBkYk5hbWUucGF0aCB8fCBkZWZhdWx0VmFsdWUKICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgZGJOYW1lIHtTdHJpbmd9IOaVsOaNruW6k+WQjeensAogKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCBwYXRoIHtTdHJpbmd9IOWtmOWCqOi3r+W+hAogKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCBkZWZhdWx0VmFsdWUgeyp9IOWPluWAvOWksei0peeahOm7mOiupOWAvAogKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCB1c2VyIHtCb29sZWFufSDmmK/lkKbljLrliIbnlKjmiLcKICovCmV4cG9ydCBmdW5jdGlvbiBkYkdldChfcmVmMykgewogIHZhciBfcmVmMyRkYk5hbWUgPSBfcmVmMy5kYk5hbWUsCiAgICBkYk5hbWUgPSBfcmVmMyRkYk5hbWUgPT09IHZvaWQgMCA/ICdkYXRhYmFzZScgOiBfcmVmMyRkYk5hbWUsCiAgICBfcmVmMyRwYXRoID0gX3JlZjMucGF0aCwKICAgIHBhdGggPSBfcmVmMyRwYXRoID09PSB2b2lkIDAgPyAnJyA6IF9yZWYzJHBhdGgsCiAgICBfcmVmMyRkZWZhdWx0VmFsdWUgPSBfcmVmMy5kZWZhdWx0VmFsdWUsCiAgICBkZWZhdWx0VmFsdWUgPSBfcmVmMyRkZWZhdWx0VmFsdWUgPT09IHZvaWQgMCA/ICcnIDogX3JlZjMkZGVmYXVsdFZhbHVlLAogICAgX3JlZjMkdXNlciA9IF9yZWYzLnVzZXIsCiAgICB1c2VyID0gX3JlZjMkdXNlciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMyR1c2VyOwogIHJldHVybiBjbG9uZURlZXAoZGIuZ2V0KHBhdGhJbml0KHsKICAgIGRiTmFtZTogZGJOYW1lLAogICAgcGF0aDogcGF0aCwKICAgIHVzZXI6IHVzZXIsCiAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZQogIH0pKS52YWx1ZSgpKTsKfQoKLyoqCiAqIEBkZXNjcmlwdGlvbiDojrflj5blrZjlgqjmlbDmja7lupPlr7nosaEKICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgdXNlciB7Qm9vbGVhbn0g5piv5ZCm5Yy65YiG55So5oi3CiAqLwpleHBvcnQgZnVuY3Rpb24gZGF0YWJhc2UoKSB7CiAgdmFyIF9yZWY0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSwKICAgIF9yZWY0JGRiTmFtZSA9IF9yZWY0LmRiTmFtZSwKICAgIGRiTmFtZSA9IF9yZWY0JGRiTmFtZSA9PT0gdm9pZCAwID8gJ2RhdGFiYXNlJyA6IF9yZWY0JGRiTmFtZSwKICAgIF9yZWY0JHBhdGggPSBfcmVmNC5wYXRoLAogICAgcGF0aCA9IF9yZWY0JHBhdGggPT09IHZvaWQgMCA/ICcnIDogX3JlZjQkcGF0aCwKICAgIF9yZWY0JHVzZXIgPSBfcmVmNC51c2VyLAogICAgdXNlciA9IF9yZWY0JHVzZXIgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjQkdXNlciwKICAgIF9yZWY0JHZhbGlkYXRvciA9IF9yZWY0LnZhbGlkYXRvciwKICAgIHZhbGlkYXRvciA9IF9yZWY0JHZhbGlkYXRvciA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gOiBfcmVmNCR2YWxpZGF0b3IsCiAgICBfcmVmNCRkZWZhdWx0VmFsdWUgPSBfcmVmNC5kZWZhdWx0VmFsdWUsCiAgICBkZWZhdWx0VmFsdWUgPSBfcmVmNCRkZWZhdWx0VmFsdWUgPT09IHZvaWQgMCA/ICcnIDogX3JlZjQkZGVmYXVsdFZhbHVlOwogIHJldHVybiBkYi5nZXQocGF0aEluaXQoewogICAgZGJOYW1lOiBkYk5hbWUsCiAgICBwYXRoOiBwYXRoLAogICAgdXNlcjogdXNlciwKICAgIHZhbGlkYXRvcjogdmFsaWRhdG9yLAogICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUKICB9KSk7Cn0="},{"version":3,"names":["low","LocalStorage","util","cloneDeep","adapter","process","env","VUE_APP_VERSION","db","defaults","sys","database","write","pathInit","dbName","path","user","validator","defaultValue","uuid","cookies","get","currentPath","value","undefined","set","dbSet","dbGet"],"sources":["/Users/raviailani/Downloads/django-vue-admin/web/src/libs/util.db.js"],"sourcesContent":["import low from 'lowdb'\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\nimport util from '@/libs/util'\nimport { cloneDeep } from 'lodash'\n\nconst adapter = new LocalStorage(`d2admin-${process.env.VUE_APP_VERSION}`)\nconst db = low(adapter)\n\ndb\n  .defaults({\n    sys: {},\n    database: {}\n  })\n  .write()\n\nexport default db\n\n/**\n * @description 检查路径是否存在 不存在的话初始化\n * @param {Object} payload dbName {String} 数据库名称\n * @param {Object} payload path {String} 路径\n * @param {Object} payload user {Boolean} 区分用户\n * @param {Object} payload validator {Function} 数据校验钩子 返回 true 表示验证通过\n * @param {Object} payload defaultValue {*} 初始化默认值\n * @returns {String} 可以直接使用的路径\n */\nexport function pathInit ({\n  dbName = 'database',\n  path = '',\n  user = true,\n  validator = () => true,\n  defaultValue = ''\n}) {\n  const uuid = util.cookies.get('uuid') || 'ghost-uuid'\n  const currentPath = `${dbName}.${user ? `user.${uuid}` : 'public'}${path ? `.${path}` : ''}`\n  const value = db.get(currentPath).value()\n  if (!(value !== undefined && validator(value))) {\n    db\n      .set(currentPath, defaultValue)\n      .write()\n  }\n  return currentPath\n}\n\n/**\n * @description 将数据存储到指定位置 | 路径不存在会自动初始化\n * @description 效果类似于取值 dbName.path = value\n * @param {Object} payload dbName {String} 数据库名称\n * @param {Object} payload path {String} 存储路径\n * @param {Object} payload value {*} 需要存储的值\n * @param {Object} payload user {Boolean} 是否区分用户\n */\nexport function dbSet ({\n  dbName = 'database',\n  path = '',\n  value = '',\n  user = false\n}) {\n  db.set(pathInit({\n    dbName,\n    path,\n    user\n  }), value).write()\n}\n\n/**\n * @description 获取数据\n * @description 效果类似于取值 dbName.path || defaultValue\n * @param {Object} payload dbName {String} 数据库名称\n * @param {Object} payload path {String} 存储路径\n * @param {Object} payload defaultValue {*} 取值失败的默认值\n * @param {Object} payload user {Boolean} 是否区分用户\n */\nexport function dbGet ({\n  dbName = 'database',\n  path = '',\n  defaultValue = '',\n  user = false\n}) {\n  return cloneDeep(db.get(pathInit({\n    dbName,\n    path,\n    user,\n    defaultValue\n  })).value())\n}\n\n/**\n * @description 获取存储数据库对象\n * @param {Object} payload user {Boolean} 是否区分用户\n */\nexport function database ({\n  dbName = 'database',\n  path = '',\n  user = false,\n  validator = () => true,\n  defaultValue = ''\n} = {}) {\n  return db.get(pathInit({\n    dbName, path, user, validator, defaultValue\n  }))\n}\n"],"mappings":"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"}]}