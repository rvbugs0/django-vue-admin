{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/eslint-loader/index.js??ref--14-0!/Users/raviailani/Downloads/django-vue-admin/web/src/store/modules/d2admin/modules/color.js","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/src/store/modules/d2admin/modules/color.js","mtime":1674694301487},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/babel.config.js","mtime":1674694301461},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/eslint-loader/index.js","mtime":1674694549000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL3JhdmlhaWxhbmkvRG93bmxvYWRzL2RqYW5nby12dWUtYWRtaW4vd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3JhdmlhaWxhbmkvRG93bmxvYWRzL2RqYW5nby12dWUtYWRtaW4vd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IGNsaWVudCBmcm9tICd3ZWJwYWNrLXRoZW1lLWNvbG9yLXJlcGxhY2VyL2NsaWVudCc7CmltcG9ydCBmb3JFbGVtZW50VUkgZnJvbSAnd2VicGFjay10aGVtZS1jb2xvci1yZXBsYWNlci9mb3JFbGVtZW50VUknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgLy8g6aKc6ImyCiAgICB2YWx1ZTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9FTEVNRU5UX0NPTE9SCiAgfSwKICBhY3Rpb25zOiB7CiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDorr7nva7popzoibIKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3Ig5bC65a+4CiAgICAgKi8KICAgIHNldDogZnVuY3Rpb24gc2V0KF9yZWYsIGNvbG9yKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBkaXNwYXRjaCwgY29tbWl0LCBvbGQ7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlLCBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIC8vIOiusOW9leS4iuS4quWAvAogICAgICAgICAgICAgIG9sZCA9IHN0YXRlLnZhbHVlOyAvLyBzdG9yZSDotYvlgLwKICAgICAgICAgICAgICBzdGF0ZS52YWx1ZSA9IGNvbG9yIHx8IHByb2Nlc3MuZW52LlZVRV9BUFBfRUxFTUVOVF9DT0xPUjsKICAgICAgICAgICAgICAvLyDmjIHkuYXljJYKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2QyYWRtaW4vZGIvc2V0JywgewogICAgICAgICAgICAgICAgZGJOYW1lOiAnc3lzJywKICAgICAgICAgICAgICAgIHBhdGg6ICdjb2xvci52YWx1ZScsCiAgICAgICAgICAgICAgICB2YWx1ZTogc3RhdGUudmFsdWUsCiAgICAgICAgICAgICAgICB1c2VyOiB0cnVlCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgLy8g5bqU55SoCiAgICAgICAgICAgICAgY29tbWl0KCdhcHBseScsIHsKICAgICAgICAgICAgICAgIG9sZENvbG9yOiBvbGQsCiAgICAgICAgICAgICAgICBuZXdDb2xvcjogc3RhdGUudmFsdWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8qKgogICAgICogQGRlc2NyaXB0aW9uIOS7juaMgeS5heWMluaVsOaNruivu+WPluminOiJsuiuvue9rgogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQKICAgICAqLwogICAgbG9hZDogZnVuY3Rpb24gbG9hZChfcmVmMikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgc3RhdGUsIGRpc3BhdGNoLCBjb21taXQsIG9sZDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZSwgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIC8vIOiusOW9leS4iuS4quWAvAogICAgICAgICAgICAgIG9sZCA9IHN0YXRlLnZhbHVlOyAvLyBzdG9yZSDotYvlgLwKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL2RiL2dldCcsIHsKICAgICAgICAgICAgICAgIGRiTmFtZTogJ3N5cycsCiAgICAgICAgICAgICAgICBwYXRoOiAnY29sb3IudmFsdWUnLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBwcm9jZXNzLmVudi5WVUVfQVBQX0VMRU1FTlRfQ09MT1IsCiAgICAgICAgICAgICAgICB1c2VyOiB0cnVlCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgc3RhdGUudmFsdWUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAvLyDlupTnlKgKICAgICAgICAgICAgICBjb21taXQoJ2FwcGx5JywgewogICAgICAgICAgICAgICAgb2xkQ29sb3I6IG9sZCwKICAgICAgICAgICAgICAgIG5ld0NvbG9yOiBzdGF0ZS52YWx1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g5bCGIHZ1ZXgg5Lit55qE5Li76aKY6aKc6Imy6K6+572u5bqU55So5Yiw57O757uf5LitCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgb2xkQ29sb3Ige1N0cmluZ30g5pen55qE6aKc6ImyCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCBuZXdDb2xvciB7U3RyaW5nfSDmlrDpopzoibIKICAgICAqLwogICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KHN0YXRlLCBfcmVmMykgewogICAgICB2YXIgb2xkQ29sb3IgPSBfcmVmMy5vbGRDb2xvciwKICAgICAgICBuZXdDb2xvciA9IF9yZWYzLm5ld0NvbG9yOwogICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICBvbGRDb2xvcnM6IGNsb25lRGVlcChmb3JFbGVtZW50VUkuZ2V0RWxlbWVudFVJU2VyaWVzKG9sZENvbG9yKSksCiAgICAgICAgbmV3Q29sb3JzOiBjbG9uZURlZXAoZm9yRWxlbWVudFVJLmdldEVsZW1lbnRVSVNlcmllcyhuZXdDb2xvcikpCiAgICAgIH07CiAgICAgIGNsaWVudC5jaGFuZ2VyLmNoYW5nZUNvbG9yKG9wdGlvbnMpOwogICAgfQogIH0KfTs="},{"version":3,"names":["cloneDeep","client","forElementUI","namespaced","state","value","process","env","VUE_APP_ELEMENT_COLOR","actions","set","color","dispatch","commit","old","dbName","path","user","root","oldColor","newColor","load","defaultValue","mutations","apply","options","oldColors","getElementUISeries","newColors","changer","changeColor"],"sources":["/Users/raviailani/Downloads/django-vue-admin/web/src/store/modules/d2admin/modules/color.js"],"sourcesContent":["import { cloneDeep } from 'lodash'\nimport client from 'webpack-theme-color-replacer/client'\nimport forElementUI from 'webpack-theme-color-replacer/forElementUI'\n\nexport default {\n  namespaced: true,\n  state: {\n    // 颜色\n    value: process.env.VUE_APP_ELEMENT_COLOR\n  },\n  actions: {\n    /**\n     * @description 设置颜色\n     * @param {Object} context\n     * @param {String} color 尺寸\n     */\n    async set ({ state, dispatch, commit }, color) {\n      // 记录上个值\n      const old = state.value\n      // store 赋值\n      state.value = color || process.env.VUE_APP_ELEMENT_COLOR\n      // 持久化\n      await dispatch('d2admin/db/set', {\n        dbName: 'sys',\n        path: 'color.value',\n        value: state.value,\n        user: true\n      }, { root: true })\n      // 应用\n      commit('apply', {\n        oldColor: old,\n        newColor: state.value\n      })\n    },\n    /**\n     * @description 从持久化数据读取颜色设置\n     * @param {Object} context\n     */\n    async load ({ state, dispatch, commit }) {\n      // 记录上个值\n      const old = state.value\n      // store 赋值\n      state.value = await dispatch('d2admin/db/get', {\n        dbName: 'sys',\n        path: 'color.value',\n        defaultValue: process.env.VUE_APP_ELEMENT_COLOR,\n        user: true\n      }, { root: true })\n      // 应用\n      commit('apply', {\n        oldColor: old,\n        newColor: state.value\n      })\n    }\n  },\n  mutations: {\n    /**\n     * @description 将 vuex 中的主题颜色设置应用到系统中\n     * @param {Object} context\n     * @param {Object} payload oldColor {String} 旧的颜色\n     * @param {Object} payload newColor {String} 新颜色\n     */\n    apply (state, { oldColor, newColor }) {\n      var options = {\n        oldColors: cloneDeep(forElementUI.getElementUISeries(oldColor)),\n        newColors: cloneDeep(forElementUI.getElementUISeries(newColor))\n      }\n      client.changer.changeColor(options)\n    }\n  }\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,QAAQ;AAClC,OAAOC,MAAM,MAAM,qCAAqC;AACxD,OAAOC,YAAY,MAAM,2CAA2C;AAEpE,eAAe;EACbC,UAAU,EAAE,IAAI;EAChBC,KAAK,EAAE;IACL;IACAC,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC;EACrB,CAAC;EACDC,OAAO,EAAE;IACP;AACJ;AACA;AACA;AACA;IACUC,GAAG,qBAA+BC,KAAK,EAAE;MAAA;QAAA;QAAA;UAAA;YAAA;cAAlCP,KAAK,QAALA,KAAK,EAAEQ,QAAQ,QAARA,QAAQ,EAAEC,MAAM,QAANA,MAAM;cAClC;cACMC,GAAG,GAAGV,KAAK,CAACC,KAAK,EACvB;cACAD,KAAK,CAACC,KAAK,GAAGM,KAAK,IAAIL,OAAO,CAACC,GAAG,CAACC,qBAAqB;cACxD;cAAA;cAAA,OACMI,QAAQ,CAAC,gBAAgB,EAAE;gBAC/BG,MAAM,EAAE,KAAK;gBACbC,IAAI,EAAE,aAAa;gBACnBX,KAAK,EAAED,KAAK,CAACC,KAAK;gBAClBY,IAAI,EAAE;cACR,CAAC,EAAE;gBAAEC,IAAI,EAAE;cAAK,CAAC,CAAC;YAAA;cAClB;cACAL,MAAM,CAAC,OAAO,EAAE;gBACdM,QAAQ,EAAEL,GAAG;gBACbM,QAAQ,EAAEhB,KAAK,CAACC;cAClB,CAAC,CAAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACJ,CAAC;IACD;AACJ;AACA;AACA;IACUgB,IAAI,uBAA+B;MAAA;QAAA;QAAA;UAAA;YAAA;cAA3BjB,KAAK,SAALA,KAAK,EAAEQ,QAAQ,SAARA,QAAQ,EAAEC,MAAM,SAANA,MAAM;cACnC;cACMC,GAAG,GAAGV,KAAK,CAACC,KAAK,EACvB;cAAA;cAAA,OACoBO,QAAQ,CAAC,gBAAgB,EAAE;gBAC7CG,MAAM,EAAE,KAAK;gBACbC,IAAI,EAAE,aAAa;gBACnBM,YAAY,EAAEhB,OAAO,CAACC,GAAG,CAACC,qBAAqB;gBAC/CS,IAAI,EAAE;cACR,CAAC,EAAE;gBAAEC,IAAI,EAAE;cAAK,CAAC,CAAC;YAAA;cALlBd,KAAK,CAACC,KAAK;cAMX;cACAQ,MAAM,CAAC,OAAO,EAAE;gBACdM,QAAQ,EAAEL,GAAG;gBACbM,QAAQ,EAAEhB,KAAK,CAACC;cAClB,CAAC,CAAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACJ;EACF,CAAC;EACDkB,SAAS,EAAE;IACT;AACJ;AACA;AACA;AACA;AACA;IACIC,KAAK,iBAAEpB,KAAK,SAA0B;MAAA,IAAtBe,QAAQ,SAARA,QAAQ;QAAEC,QAAQ,SAARA,QAAQ;MAChC,IAAIK,OAAO,GAAG;QACZC,SAAS,EAAE1B,SAAS,CAACE,YAAY,CAACyB,kBAAkB,CAACR,QAAQ,CAAC,CAAC;QAC/DS,SAAS,EAAE5B,SAAS,CAACE,YAAY,CAACyB,kBAAkB,CAACP,QAAQ,CAAC;MAChE,CAAC;MACDnB,MAAM,CAAC4B,OAAO,CAACC,WAAW,CAACL,OAAO,CAAC;IACrC;EACF;AACF,CAAC"}]}