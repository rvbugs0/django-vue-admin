{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/eslint-loader/index.js??ref--14-0!/Users/raviailani/Downloads/django-vue-admin/web/src/store/modules/d2admin/modules/page.js","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/src/store/modules/d2admin/modules/page.js","mtime":1674694301488},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/babel.config.js","mtime":1674694301461},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/eslint-loader/index.js","mtime":1674694549000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL3JhdmlhaWxhbmkvRG93bmxvYWRzL2RqYW5nby12dWUtYWRtaW4vd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3JhdmlhaWxhbmkvRG93bmxvYWRzL2RqYW5nby12dWUtYWRtaW4vd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IHsgY2xvbmVEZWVwLCB1bmlxLCBnZXQgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHNldHRpbmcgZnJvbSAnQC9zZXR0aW5nLmpzJzsKCi8vIOWIpOWumuaYr+WQpumcgOimgee8k+WtmAp2YXIgaXNLZWVwQWxpdmUgPSBmdW5jdGlvbiBpc0tlZXBBbGl2ZShkYXRhKSB7CiAgcmV0dXJuIGdldChkYXRhLCAnbWV0YS5jYWNoZScsIGZhbHNlKTsKfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIC8vIOWPr+S7peWcqOWkmumhtSB0YWIg5qih5byP5LiL5pi+56S655qE6aG16Z2iCiAgICBwb29sOiBbXSwKICAgIC8vIOW9k+WJjeaYvuekuueahOWkmumhtemdouWIl+ihqAogICAgb3BlbmVkOiBnZXQoc2V0dGluZywgJ3BhZ2Uub3BlbmVkJywgW10pLAogICAgLy8g5bey57uP5Yqg6L295aSa5qCH562+6aG15pWw5o2uIGh0dHBzOi8vZ2l0aHViLmNvbS9kMi1wcm9qZWN0cy9kMi1hZG1pbi9pc3N1ZXMvMjAxCiAgICBvcGVuZWRMb2FkZWQ6IGZhbHNlLAogICAgLy8g5b2T5YmN6aG16Z2iCiAgICBjdXJyZW50OiAnJywKICAgIC8vIOmcgOimgee8k+WtmOeahOmhtemdoiBuYW1lCiAgICBrZWVwQWxpdmU6IFtdCiAgfSwKICBhY3Rpb25zOiB7CiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDnoa7orqTlt7Lnu4/liqDovb3lpJrmoIfnrb7pobXmlbDmja4gaHR0cHM6Ly9naXRodWIuY29tL2QyLXByb2plY3RzL2QyLWFkbWluL2lzc3Vlcy8yMDEKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKi8KICAgIGlzTG9hZGVkOiBmdW5jdGlvbiBpc0xvYWRlZChfcmVmKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7CiAgICAgIGlmIChzdGF0ZS5vcGVuZWRMb2FkZWQpIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKHN0YXRlLm9wZW5lZExvYWRlZCkgcmVzb2x2ZShjbGVhckludGVydmFsKHRpbWVyKSk7CiAgICAgICAgfSwgMTApOwogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIEBjbGFzcyBvcGVuZWQKICAgICAqIEBkZXNjcmlwdGlvbiDku47mjIHkuYXljJbmlbDmja7ovb3lhaXmoIfnrb7pobXliJfooagKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKi8KICAgIG9wZW5lZExvYWQ6IGZ1bmN0aW9uIG9wZW5lZExvYWQoX3JlZjIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2gsIHZhbHVlLCB2YWxpZDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYyLnN0YXRlLCBjb21taXQgPSBfcmVmMi5jb21taXQsIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL2RiL2dldCcsIHsKICAgICAgICAgICAgICAgIGRiTmFtZTogJ3N5cycsCiAgICAgICAgICAgICAgICBwYXRoOiAncGFnZS5vcGVuZWQnLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBzZXR0aW5nLnBhZ2Uub3BlbmVkLAogICAgICAgICAgICAgICAgdXNlcjogdHJ1ZQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAvLyDlnKjlpITnkIblh73mlbDkuK3ov5vooYzmlbDmja7kvJjljJYg6L+H5ruk5o6J546w5Zyo5bey57uP5aSx5pWI55qE6aG1562+5oiW6ICF5bey57uP5pS55Y+Y5LqG5L+h5oGv55qE6aG1562+CiAgICAgICAgICAgICAgLy8g5LulIGZ1bGxQYXRoIOWtl+auteS4uuWHhgogICAgICAgICAgICAgIC8vIOWmguaenOmhtemdoui/h+WkmueahOivneWPr+iDvemcgOimgeS8mOWMlueul+azlQogICAgICAgICAgICAgIC8vIHZhbGlkIOacieaViOWIl+ihqCAxLCAxLCAwLCAxID0+IOacieaViCwg5pyJ5pWILCDlpLHmlYgsIOacieaViAogICAgICAgICAgICAgIHZhbGlkID0gW107IC8vIOWkhOeQhuaVsOaNrgogICAgICAgICAgICAgIHN0YXRlLm9wZW5lZCA9IHZhbHVlLm1hcChmdW5jdGlvbiAob3BlbmVkKSB7CiAgICAgICAgICAgICAgICAvLyDlv73nlaXmjqfliLblj7AKICAgICAgICAgICAgICAgIGlmIChvcGVuZWQuZnVsbFBhdGggPT09ICcvaW5kZXgnKSB7CiAgICAgICAgICAgICAgICAgIHZhbGlkLnB1c2goMSk7CiAgICAgICAgICAgICAgICAgIHJldHVybiBvcGVuZWQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyDlsJ3or5XlnKjmiYDmnInnmoTmlK/mjIHlpJrmoIfnrb7pobXnmoTpobXpnaLph4zmib7liLAgbmFtZSDljLnphY3nmoTpobXpnaIKICAgICAgICAgICAgICAgIHZhciBmaW5kID0gc3RhdGUucG9vbC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IG9wZW5lZC5uYW1lOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyDorrDlvZXmnInmlYjmiJbml6DmlYjkv6Hmga8KICAgICAgICAgICAgICAgIHZhbGlkLnB1c2goZmluZCA/IDEgOiAwKTsKICAgICAgICAgICAgICAgIC8vIOi/lOWbnuWQiOW5tuWQjueahOaVsOaNriDmlrDnmoTopobnm5bml6fnmoQKICAgICAgICAgICAgICAgIC8vIOaWsOeahOaVsOaNruS4reS4gOiIrOS4jeS8muaQuuW4piBwYXJhbXMg5ZKMIHF1ZXJ5LCDmiYDku6Xml6fnmoTlj4LmlbDkvJrnlZnlrZgKICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBvcGVuZWQsIGZpbmQpOwogICAgICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAob3BlbmVkLCBpbmRleCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkW2luZGV4XSA9PT0gMTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAvLyDmoIforrDlt7Lnu4/liqDovb3lpJrmoIfnrb7pobXmlbDmja4gaHR0cHM6Ly9naXRodWIuY29tL2QyLXByb2plY3RzL2QyLWFkbWluL2lzc3Vlcy8yMDEKICAgICAgICAgICAgICBzdGF0ZS5vcGVuZWRMb2FkZWQgPSB0cnVlOwogICAgICAgICAgICAgIC8vIOagueaNriBvcGVuZWQg5pWw5o2u55Sf5oiQ57yT5a2Y6K6+572uCiAgICAgICAgICAgICAgY29tbWl0KCdrZWVwQWxpdmVSZWZyZXNoJyk7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvKioKICAgICAqIOWwhiBvcGVuZWQg5bGe5oCn6LWL5YC85bm25oyB5LmF5YyWIOWcqOi/meS5i+WJjeivt+WFiOehruS/neW3sue7j+abtOaWsOS6hiBzdGF0ZS5vcGVuZWQKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKi8KICAgIG9wZW5lZDJkYjogZnVuY3Rpb24gb3BlbmVkMmRiKF9yZWYzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBzdGF0ZSwgZGlzcGF0Y2g7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHN0YXRlID0gX3JlZjMuc3RhdGUsIGRpc3BhdGNoID0gX3JlZjMuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgLy8g6K6+572u5pWw5o2uCiAgICAgICAgICAgICAgZGlzcGF0Y2goJ2QyYWRtaW4vZGIvc2V0JywgewogICAgICAgICAgICAgICAgZGJOYW1lOiAnc3lzJywKICAgICAgICAgICAgICAgIHBhdGg6ICdwYWdlLm9wZW5lZCcsCiAgICAgICAgICAgICAgICB2YWx1ZTogc3RhdGUub3BlbmVkLAogICAgICAgICAgICAgICAgdXNlcjogdHJ1ZQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLyoqCiAgICAgKiBAY2xhc3Mgb3BlbmVkCiAgICAgKiBAZGVzY3JpcHRpb24g5pu05paw6aG16Z2i5YiX6KGo5LiK55qE5p+Q5LiA6aG5CiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgeyBpbmRleCwgcGFyYW1zLCBxdWVyeSwgZnVsbFBhdGggfSDot6/nlLHkv6Hmga8KICAgICAqLwogICAgb3BlbmVkVXBkYXRlOiBmdW5jdGlvbiBvcGVuZWRVcGRhdGUoX3JlZjQsIF9yZWY1KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgaW5kZXgsIHBhcmFtcywgcXVlcnksIGZ1bGxQYXRoLCBwYWdlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY0LnN0YXRlLCBjb21taXQgPSBfcmVmNC5jb21taXQsIGRpc3BhdGNoID0gX3JlZjQuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgaW5kZXggPSBfcmVmNS5pbmRleCwgcGFyYW1zID0gX3JlZjUucGFyYW1zLCBxdWVyeSA9IF9yZWY1LnF1ZXJ5LCBmdWxsUGF0aCA9IF9yZWY1LmZ1bGxQYXRoOwogICAgICAgICAgICAgIC8vIOabtOaWsOmhtemdouWIl+ihqOafkOS4gOmhuQogICAgICAgICAgICAgIHBhZ2UgPSBzdGF0ZS5vcGVuZWRbaW5kZXhdOwogICAgICAgICAgICAgIHBhZ2UucGFyYW1zID0gcGFyYW1zIHx8IHBhZ2UucGFyYW1zOwogICAgICAgICAgICAgIHBhZ2UucXVlcnkgPSBxdWVyeSB8fCBwYWdlLnF1ZXJ5OwogICAgICAgICAgICAgIHBhZ2UuZnVsbFBhdGggPSBmdWxsUGF0aCB8fCBwYWdlLmZ1bGxQYXRoOwogICAgICAgICAgICAgIHN0YXRlLm9wZW5lZC5zcGxpY2UoaW5kZXgsIDEsIHBhZ2UpOwogICAgICAgICAgICAgIC8vIOaMgeS5heWMlgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ29wZW5lZDJkYicpOwogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvKioKICAgICAqIEBjbGFzcyBvcGVuZWQKICAgICAqIEBkZXNjcmlwdGlvbiDph43mjpLpobXpnaLliJfooajkuIrnmoTmn5DkuIDpobkKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCB7IG9sZEluZGV4LCBuZXdJbmRleCB9IOS9jee9ruS/oeaBrwogICAgICovCiAgICBvcGVuZWRTb3J0OiBmdW5jdGlvbiBvcGVuZWRTb3J0KF9yZWY2LCBfcmVmNykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2gsIG9sZEluZGV4LCBuZXdJbmRleCwgcGFnZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNi5zdGF0ZSwgY29tbWl0ID0gX3JlZjYuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWY2LmRpc3BhdGNoOwogICAgICAgICAgICAgIG9sZEluZGV4ID0gX3JlZjcub2xkSW5kZXgsIG5ld0luZGV4ID0gX3JlZjcubmV3SW5kZXg7CiAgICAgICAgICAgICAgLy8g6YeN5o6S6aG16Z2i5YiX6KGo5p+Q5LiA6aG5CiAgICAgICAgICAgICAgcGFnZSA9IHN0YXRlLm9wZW5lZFtvbGRJbmRleF07CiAgICAgICAgICAgICAgc3RhdGUub3BlbmVkLnNwbGljZShvbGRJbmRleCwgMSk7CiAgICAgICAgICAgICAgc3RhdGUub3BlbmVkLnNwbGljZShuZXdJbmRleCwgMCwgcGFnZSk7CiAgICAgICAgICAgICAgLy8g5oyB5LmF5YyWCiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnb3BlbmVkMmRiJyk7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8qKgogICAgICogQGNsYXNzIG9wZW5lZAogICAgICogQGRlc2NyaXB0aW9uIOaWsOWinuS4gOS4qiB0YWcgKOaJk+W8gOS4gOS4qumhtemdoikKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCBuZXcgdGFnIGluZm8KICAgICAqLwogICAgYWRkOiBmdW5jdGlvbiBhZGQoX3JlZjgsIF9yZWY5KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgdGFnLCBwYXJhbXMsIHF1ZXJ5LCBmdWxsUGF0aCwgbmV3VGFnOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY4LnN0YXRlLCBjb21taXQgPSBfcmVmOC5jb21taXQsIGRpc3BhdGNoID0gX3JlZjguZGlzcGF0Y2g7CiAgICAgICAgICAgICAgdGFnID0gX3JlZjkudGFnLCBwYXJhbXMgPSBfcmVmOS5wYXJhbXMsIHF1ZXJ5ID0gX3JlZjkucXVlcnksIGZ1bGxQYXRoID0gX3JlZjkuZnVsbFBhdGg7CiAgICAgICAgICAgICAgLy8g6K6+572u5paw55qEIHRhZyDlnKjmlrDmiZPlvIDkuIDkuKrku6XliY3msqHmiZPlvIDov4fnmoTpobXpnaLml7bkvb/nlKgKICAgICAgICAgICAgICBuZXdUYWcgPSB0YWc7CiAgICAgICAgICAgICAgbmV3VGFnLnBhcmFtcyA9IHBhcmFtcyB8fCBuZXdUYWcucGFyYW1zOwogICAgICAgICAgICAgIG5ld1RhZy5xdWVyeSA9IHF1ZXJ5IHx8IG5ld1RhZy5xdWVyeTsKICAgICAgICAgICAgICBuZXdUYWcuZnVsbFBhdGggPSBmdWxsUGF0aCB8fCBuZXdUYWcuZnVsbFBhdGg7CiAgICAgICAgICAgICAgLy8g5re75Yqg6L+b5b2T5YmN5pi+56S655qE6aG16Z2i5pWw57uECiAgICAgICAgICAgICAgc3RhdGUub3BlbmVkLnB1c2gobmV3VGFnKTsKICAgICAgICAgICAgICAvLyDlpoLmnpzov5nkuKrpobXpnaLpnIDopoHnvJPlrZgg5bCG5YW25re75Yqg5Yiw57yT5a2Y6K6+572uCiAgICAgICAgICAgICAgaWYgKGlzS2VlcEFsaXZlKG5ld1RhZykpIGNvbW1pdCgna2VlcEFsaXZlUHVzaCcsIHRhZy5uYW1lKTsKICAgICAgICAgICAgICAvLyDmjIHkuYXljJYKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnb3BlbmVkMmRiJyk7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvKioKICAgICAqIEBjbGFzcyBjdXJyZW50CiAgICAgKiBAZGVzY3JpcHRpb24g5omT5byA5LiA5Liq5paw55qE6aG16Z2iCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQg5LuO6Lev55Sx6ZKp5a2Q55qEIHRvIOWvueixoeS4iuiOt+WPliB7IG5hbWUsIHBhcmFtcywgcXVlcnksIGZ1bGxQYXRoLCBtZXRhIH0g6Lev55Sx5L+h5oGvCiAgICAgKi8KICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oX3JlZjEwLCBfcmVmMTEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBjb21taXQsIGRpc3BhdGNoLCBuYW1lLCBwYXJhbXMsIHF1ZXJ5LCBmdWxsUGF0aCwgbWV0YSwgb3BlbmVkLCBwYWdlT3BlbmRJbmRleCwgcGFnZU9wZW5kLCBwYWdlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYxMC5zdGF0ZSwgY29tbWl0ID0gX3JlZjEwLmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMTAuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgbmFtZSA9IF9yZWYxMS5uYW1lLCBwYXJhbXMgPSBfcmVmMTEucGFyYW1zLCBxdWVyeSA9IF9yZWYxMS5xdWVyeSwgZnVsbFBhdGggPSBfcmVmMTEuZnVsbFBhdGgsIG1ldGEgPSBfcmVmMTEubWV0YTsKICAgICAgICAgICAgICAvLyDlt7Lnu4/miZPlvIDnmoTpobXpnaIKICAgICAgICAgICAgICBvcGVuZWQgPSBzdGF0ZS5vcGVuZWQ7IC8vIOWIpOaWreatpOmhtemdouaYr+WQpuW3sue7j+aJk+W8gCDlubbkuJTorrDlvZXkvY3nva4KICAgICAgICAgICAgICBwYWdlT3BlbmRJbmRleCA9IDA7CiAgICAgICAgICAgICAgcGFnZU9wZW5kID0gb3BlbmVkLmZpbmQoZnVuY3Rpb24gKHBhZ2UsIGluZGV4KSB7CiAgICAgICAgICAgICAgICB2YXIgc2FtZSA9IHBhZ2UuZnVsbFBhdGggPT09IGZ1bGxQYXRoOwogICAgICAgICAgICAgICAgcGFnZU9wZW5kSW5kZXggPSBzYW1lID8gaW5kZXggOiBwYWdlT3BlbmRJbmRleDsKICAgICAgICAgICAgICAgIHJldHVybiBzYW1lOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGlmICghcGFnZU9wZW5kKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ29wZW5lZFVwZGF0ZScsIHsKICAgICAgICAgICAgICAgIGluZGV4OiBwYWdlT3BlbmRJbmRleCwKICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLAogICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LAogICAgICAgICAgICAgICAgZnVsbFBhdGg6IGZ1bGxQYXRoCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIC8vIOmhtemdouS7peWJjeayoeacieaJk+W8gOi/hwogICAgICAgICAgICAgIHBhZ2UgPSBzdGF0ZS5wb29sLmZpbmQoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0Lm5hbWUgPT09IG5hbWU7CiAgICAgICAgICAgICAgfSk7IC8vIOWmguaenOi/memHjOayoeacieaJvuWIsCBwYWdlIOS7o+ihqOi/meS4qui3r+eUseiZveeEtuWcqOahhuaetuWGhSDkvYbmmK/kuI3lj4LkuI7moIfnrb7pobXmmL7npLoKICAgICAgICAgICAgICBpZiAoIXBhZ2UpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNDsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2FkZCcsIHsKICAgICAgICAgICAgICAgIHRhZzogT2JqZWN0LmFzc2lnbih7fSwgcGFnZSksCiAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcywKICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSwKICAgICAgICAgICAgICAgIGZ1bGxQYXRoOiBmdWxsUGF0aAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIC8vIOWmguaenOi/meS4qumhtemdoumcgOimgee8k+WtmCDlsIblhbbmt7vliqDliLDnvJPlrZjorr7nva4KICAgICAgICAgICAgICBpZiAoaXNLZWVwQWxpdmUoewogICAgICAgICAgICAgICAgbWV0YTogbWV0YQogICAgICAgICAgICAgIH0pKSBjb21taXQoJ2tlZXBBbGl2ZVB1c2gnLCBuYW1lKTsKICAgICAgICAgICAgICAvLyDorr7nva7lvZPliY3nmoTpobXpnaIKICAgICAgICAgICAgICBjb21taXQoJ2N1cnJlbnRTZXQnLCBmdWxsUGF0aCk7CiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvKioKICAgICAqIEBjbGFzcyBvcGVuZWQKICAgICAqIEBkZXNjcmlwdGlvbiDlhbPpl63kuIDkuKogdGFnICjlhbPpl63kuIDkuKrpobXpnaIpCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgeyB0YWdOYW1lOiDopoHlhbPpl63nmoTmoIfnrb7lkI3lrZcgfQogICAgICovCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoX3JlZjEyLCBfcmVmMTMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBjb21taXQsIGRpc3BhdGNoLCB0YWdOYW1lLCBuZXdQYWdlLCBpc0N1cnJlbnQsIGxlbiwgaSwgaW5kZXgsIF9uZXdQYWdlLCBfbmV3UGFnZSRuYW1lLCBuYW1lLCBfbmV3UGFnZSRwYXJhbXMsIHBhcmFtcywgX25ld1BhZ2UkcXVlcnksIHF1ZXJ5LCByb3V0ZXJPYmo7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHN0YXRlID0gX3JlZjEyLnN0YXRlLCBjb21taXQgPSBfcmVmMTIuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYxMi5kaXNwYXRjaDsKICAgICAgICAgICAgICB0YWdOYW1lID0gX3JlZjEzLnRhZ05hbWU7CiAgICAgICAgICAgICAgLy8g6aKE5a6a5LiL5Liq5paw6aG16Z2iCiAgICAgICAgICAgICAgbmV3UGFnZSA9IHt9OwogICAgICAgICAgICAgIGlzQ3VycmVudCA9IHN0YXRlLmN1cnJlbnQgPT09IHRhZ05hbWU7IC8vIOWmguaenOWFs+mXreeahOmhtemdouWwseaYr+W9k+WJjeaYvuekuueahOmhtemdogogICAgICAgICAgICAgIGlmICghaXNDdXJyZW50KSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIOWOu+aJvuS4gOS4quaWsOeahOmhtemdogogICAgICAgICAgICAgIGxlbiA9IHN0YXRlLm9wZW5lZC5sZW5ndGg7CiAgICAgICAgICAgICAgaSA9IDA7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBpZiAoIShpIDwgbGVuKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoIShzdGF0ZS5vcGVuZWRbaV0uZnVsbFBhdGggPT09IHRhZ05hbWUpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIG5ld1BhZ2UgPSBpIDwgbGVuIC0gMSA/IHN0YXRlLm9wZW5lZFtpICsgMV0gOiBzdGF0ZS5vcGVuZWRbaSAtIDFdOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJicmVhayIsIDE0KTsKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIC8vIOaJvuWIsOi/meS4qumhtemdouWcqOW3sue7j+aJk+W8gOeahOaVsOaNrumHjOaYr+esrOWHoOS4qgogICAgICAgICAgICAgIGluZGV4ID0gc3RhdGUub3BlbmVkLmZpbmRJbmRleChmdW5jdGlvbiAocGFnZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2UuZnVsbFBhdGggPT09IHRhZ05hbWU7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHsKICAgICAgICAgICAgICAgIC8vIOWmguaenOi/meS4qumhtemdouaYr+e8k+WtmOeahOmhtemdoiDlsIblhbblnKjnvJPlrZjorr7nva7kuK3liKDpmaQKICAgICAgICAgICAgICAgIGNvbW1pdCgna2VlcEFsaXZlUmVtb3ZlJywgc3RhdGUub3BlbmVkW2luZGV4XS5uYW1lKTsKICAgICAgICAgICAgICAgIC8vIOabtOaWsOaVsOaNriDliKDpmaTlhbPpl63nmoTpobXpnaIKICAgICAgICAgICAgICAgIHN0YXRlLm9wZW5lZC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyDmjIHkuYXljJYKICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE4OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnb3BlbmVkMmRiJyk7CiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgaWYgKCFpc0N1cnJlbnQpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX25ld1BhZ2UgPSBuZXdQYWdlLCBfbmV3UGFnZSRuYW1lID0gX25ld1BhZ2UubmFtZSwgbmFtZSA9IF9uZXdQYWdlJG5hbWUgPT09IHZvaWQgMCA/ICdpbmRleCcgOiBfbmV3UGFnZSRuYW1lLCBfbmV3UGFnZSRwYXJhbXMgPSBfbmV3UGFnZS5wYXJhbXMsIHBhcmFtcyA9IF9uZXdQYWdlJHBhcmFtcyA9PT0gdm9pZCAwID8ge30gOiBfbmV3UGFnZSRwYXJhbXMsIF9uZXdQYWdlJHF1ZXJ5ID0gX25ld1BhZ2UucXVlcnksIHF1ZXJ5ID0gX25ld1BhZ2UkcXVlcnkgPT09IHZvaWQgMCA/IHt9IDogX25ld1BhZ2UkcXVlcnk7CiAgICAgICAgICAgICAgcm91dGVyT2JqID0gewogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLAogICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDIzOwogICAgICAgICAgICAgIHJldHVybiByb3V0ZXIucHVzaChyb3V0ZXJPYmopOwogICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLyoqCiAgICAgKiBAY2xhc3Mgb3BlbmVkCiAgICAgKiBAZGVzY3JpcHRpb24g5YWz6Zet5b2T5YmN5qCH562+5bem6L6555qE5qCH562+CiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgeyBwYWdlU2VsZWN0OiDlvZPliY3pgInkuK3nmoR0YWdOYW1lIH0KICAgICAqLwogICAgY2xvc2VMZWZ0OiBmdW5jdGlvbiBjbG9zZUxlZnQoX3JlZjE0KSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2gsIF9yZWYxNSwgcGFnZVNlbGVjdCwgcGFnZUFpbSwgY3VycmVudEluZGV4LCBpOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYxNC5zdGF0ZSwgY29tbWl0ID0gX3JlZjE0LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMTQuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgX3JlZjE1ID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiB7fSwgcGFnZVNlbGVjdCA9IF9yZWYxNS5wYWdlU2VsZWN0OwogICAgICAgICAgICAgIHBhZ2VBaW0gPSBwYWdlU2VsZWN0IHx8IHN0YXRlLmN1cnJlbnQ7CiAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gMDsKICAgICAgICAgICAgICBzdGF0ZS5vcGVuZWQuZm9yRWFjaChmdW5jdGlvbiAocGFnZSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgIGlmIChwYWdlLmZ1bGxQYXRoID09PSBwYWdlQWltKSBjdXJyZW50SW5kZXggPSBpbmRleDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpZiAoIShjdXJyZW50SW5kZXggPiAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpID0gc3RhdGUub3BlbmVkLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBpZiAoIShpID49IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICghKHN0YXRlLm9wZW5lZFtpXS5uYW1lID09PSAnaW5kZXgnIHx8IGkgPj0gY3VycmVudEluZGV4KSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgiY29udGludWUiLCAxMik7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY29tbWl0KCdrZWVwQWxpdmVSZW1vdmUnLCBzdGF0ZS5vcGVuZWRbaV0ubmFtZSk7CiAgICAgICAgICAgICAgc3RhdGUub3BlbmVkLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBpLS07CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdvcGVuZWQyZGInKTsKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAvLyDorr7nva7lvZPliY3nmoTpobXpnaIKICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50ID0gcGFnZUFpbTsKICAgICAgICAgICAgICBpZiAoIShyb3V0ZXIuYXBwLiRyb3V0ZS5mdWxsUGF0aCAhPT0gcGFnZUFpbSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMTsKICAgICAgICAgICAgICByZXR1cm4gcm91dGVyLnB1c2gocGFnZUFpbSk7CiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvKioKICAgICAqIEBjbGFzcyBvcGVuZWQKICAgICAqIEBkZXNjcmlwdGlvbiDlhbPpl63lvZPliY3moIfnrb7lj7PovrnnmoTmoIfnrb4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCB7IHBhZ2VTZWxlY3Q6IOW9k+WJjemAieS4reeahHRhZ05hbWUgfQogICAgICovCiAgICBjbG9zZVJpZ2h0OiBmdW5jdGlvbiBjbG9zZVJpZ2h0KF9yZWYxNikgewogICAgICB2YXIgX2FyZ3VtZW50czIgPSBhcmd1bWVudHM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgX3JlZjE3LCBwYWdlU2VsZWN0LCBwYWdlQWltLCBjdXJyZW50SW5kZXgsIGk7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHN0YXRlID0gX3JlZjE2LnN0YXRlLCBjb21taXQgPSBfcmVmMTYuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYxNi5kaXNwYXRjaDsKICAgICAgICAgICAgICBfcmVmMTcgPSBfYXJndW1lbnRzMi5sZW5ndGggPiAxICYmIF9hcmd1bWVudHMyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlsxXSA6IHt9LCBwYWdlU2VsZWN0ID0gX3JlZjE3LnBhZ2VTZWxlY3Q7CiAgICAgICAgICAgICAgcGFnZUFpbSA9IHBhZ2VTZWxlY3QgfHwgc3RhdGUuY3VycmVudDsKICAgICAgICAgICAgICBjdXJyZW50SW5kZXggPSAwOwogICAgICAgICAgICAgIHN0YXRlLm9wZW5lZC5mb3JFYWNoKGZ1bmN0aW9uIChwYWdlLCBpbmRleCkgewogICAgICAgICAgICAgICAgaWYgKHBhZ2UuZnVsbFBhdGggPT09IHBhZ2VBaW0pIGN1cnJlbnRJbmRleCA9IGluZGV4OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIC8vIOWIoOmZpOaJk+W8gOeahOmhtemdoiDlubblnKjnvJPlrZjorr7nva7kuK3liKDpmaQKICAgICAgICAgICAgICBpID0gc3RhdGUub3BlbmVkLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBpZiAoIShpID49IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICghKHN0YXRlLm9wZW5lZFtpXS5uYW1lID09PSAnaW5kZXgnIHx8IGN1cnJlbnRJbmRleCA+PSBpKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJjb250aW51ZSIsIDExKTsKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNvbW1pdCgna2VlcEFsaXZlUmVtb3ZlJywgc3RhdGUub3BlbmVkW2ldLm5hbWUpOwogICAgICAgICAgICAgIHN0YXRlLm9wZW5lZC5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgaS0tOwogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE2OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnb3BlbmVkMmRiJyk7CiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgLy8g6K6+572u5b2T5YmN55qE6aG16Z2iCiAgICAgICAgICAgICAgc3RhdGUuY3VycmVudCA9IHBhZ2VBaW07CiAgICAgICAgICAgICAgaWYgKCEocm91dGVyLmFwcC4kcm91dGUuZnVsbFBhdGggIT09IHBhZ2VBaW0pKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgcmV0dXJuIHJvdXRlci5wdXNoKHBhZ2VBaW0pOwogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLyoqCiAgICAgKiBAY2xhc3Mgb3BlbmVkCiAgICAgKiBAZGVzY3JpcHRpb24g5YWz6Zet5b2T5YmN5r+A5rS75LmL5aSW55qEIHRhZwogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIHsgcGFnZVNlbGVjdDog5b2T5YmN6YCJ5Lit55qEdGFnTmFtZSB9CiAgICAgKi8KICAgIGNsb3NlT3RoZXI6IGZ1bmN0aW9uIGNsb3NlT3RoZXIoX3JlZjE4KSB7CiAgICAgIHZhciBfYXJndW1lbnRzMyA9IGFyZ3VtZW50czsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgX3JlZjE5LCBwYWdlU2VsZWN0LCBwYWdlQWltLCBjdXJyZW50SW5kZXgsIGk7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYxOC5zdGF0ZSwgY29tbWl0ID0gX3JlZjE4LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMTguZGlzcGF0Y2g7CiAgICAgICAgICAgICAgX3JlZjE5ID0gX2FyZ3VtZW50czMubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzM1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50czNbMV0gOiB7fSwgcGFnZVNlbGVjdCA9IF9yZWYxOS5wYWdlU2VsZWN0OwogICAgICAgICAgICAgIHBhZ2VBaW0gPSBwYWdlU2VsZWN0IHx8IHN0YXRlLmN1cnJlbnQ7CiAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gMDsKICAgICAgICAgICAgICBzdGF0ZS5vcGVuZWQuZm9yRWFjaChmdW5jdGlvbiAocGFnZSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgIGlmIChwYWdlLmZ1bGxQYXRoID09PSBwYWdlQWltKSBjdXJyZW50SW5kZXggPSBpbmRleDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAvLyDliKDpmaTmiZPlvIDnmoTpobXpnaLmlbDmja4g5bm25pu05paw57yT5a2Y6K6+572uCiAgICAgICAgICAgICAgaSA9IHN0YXRlLm9wZW5lZC5sZW5ndGggLSAxOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgaWYgKCEoaSA+PSAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKCEoc3RhdGUub3BlbmVkW2ldLm5hbWUgPT09ICdpbmRleCcgfHwgY3VycmVudEluZGV4ID09PSBpKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoImNvbnRpbnVlIiwgMTEpOwogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY29tbWl0KCdrZWVwQWxpdmVSZW1vdmUnLCBzdGF0ZS5vcGVuZWRbaV0ubmFtZSk7CiAgICAgICAgICAgICAgc3RhdGUub3BlbmVkLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBpLS07CiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxNjsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ29wZW5lZDJkYicpOwogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIC8vIOiuvue9ruaWsOeahOmhtemdogogICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnQgPSBwYWdlQWltOwogICAgICAgICAgICAgIGlmICghKHJvdXRlci5hcHAuJHJvdXRlLmZ1bGxQYXRoICE9PSBwYWdlQWltKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgcmV0dXJuIHJvdXRlci5wdXNoKHBhZ2VBaW0pOwogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvKioKICAgICAqIEBjbGFzcyBvcGVuZWQKICAgICAqIEBkZXNjcmlwdGlvbiDlhbPpl63miYDmnIkgdGFnCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICovCiAgICBjbG9zZUFsbDogZnVuY3Rpb24gY2xvc2VBbGwoX3JlZjIwKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2gsIGk7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYyMC5zdGF0ZSwgY29tbWl0ID0gX3JlZjIwLmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMjAuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgaSA9IHN0YXRlLm9wZW5lZC5sZW5ndGggLSAxOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgaWYgKCEoaSA+PSAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKCEoc3RhdGUub3BlbmVkW2ldLm5hbWUgPT09ICdpbmRleCcpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdCgiY29udGludWUiLCA3KTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNvbW1pdCgna2VlcEFsaXZlUmVtb3ZlJywgc3RhdGUub3BlbmVkW2ldLm5hbWUpOwogICAgICAgICAgICAgIHN0YXRlLm9wZW5lZC5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBpLS07CiAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ29wZW5lZDJkYicpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGlmICghKHJvdXRlci5hcHAuJHJvdXRlLm5hbWUgIT09ICdpbmRleCcpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxNTsKICAgICAgICAgICAgICByZXR1cm4gcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogJ2luZGV4JwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgLyoqCiAgICAgKiBAY2xhc3Mga2VlcEFsaXZlCiAgICAgKiBAZGVzY3JpcHRpb24g5LuO5bey57uP5omT5byA55qE6aG16Z2i6K6w5b2V5Lit5pu05paw6ZyA6KaB57yT5a2Y55qE6aG16Z2i6K6w5b2VCiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgc3RhdGUKICAgICAqLwogICAga2VlcEFsaXZlUmVmcmVzaDogZnVuY3Rpb24ga2VlcEFsaXZlUmVmcmVzaChzdGF0ZSkgewogICAgICBzdGF0ZS5rZWVwQWxpdmUgPSBzdGF0ZS5vcGVuZWQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGlzS2VlcEFsaXZlKGl0ZW0pOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5uYW1lOwogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDliKDpmaTkuIDkuKrpobXpnaLnmoTnvJPlrZjorr7nva4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBzdGF0ZQogICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZQogICAgICovCiAgICBrZWVwQWxpdmVSZW1vdmU6IGZ1bmN0aW9uIGtlZXBBbGl2ZVJlbW92ZShzdGF0ZSwgbmFtZSkgewogICAgICB2YXIgbGlzdCA9IGNsb25lRGVlcChzdGF0ZS5rZWVwQWxpdmUpOwogICAgICB2YXIgaW5kZXggPSBsaXN0LmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtID09PSBuYW1lOwogICAgICB9KTsKICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICBzdGF0ZS5rZWVwQWxpdmUgPSBsaXN0OwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g5aKe5Yqg5LiA5Liq6aG16Z2i55qE57yT5a2Y6K6+572uCiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgc3RhdGUKICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5hbWUKICAgICAqLwogICAga2VlcEFsaXZlUHVzaDogZnVuY3Rpb24ga2VlcEFsaXZlUHVzaChzdGF0ZSwgbmFtZSkgewogICAgICB2YXIga2VlcCA9IGNsb25lRGVlcChzdGF0ZS5rZWVwQWxpdmUpOwogICAgICBrZWVwLnB1c2gobmFtZSk7CiAgICAgIHN0YXRlLmtlZXBBbGl2ZSA9IHVuaXEoa2VlcCk7CiAgICB9LAogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g5riF56m66aG16Z2i57yT5a2Y6K6+572uCiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgc3RhdGUKICAgICAqLwogICAga2VlcEFsaXZlQ2xlYW46IGZ1bmN0aW9uIGtlZXBBbGl2ZUNsZWFuKHN0YXRlKSB7CiAgICAgIHN0YXRlLmtlZXBBbGl2ZSA9IFtdOwogICAgfSwKICAgIC8qKgogICAgICogQGNsYXNzIGN1cnJlbnQKICAgICAqIEBkZXNjcmlwdGlvbiDorr7nva7lvZPliY3mv4DmtLvnmoTpobXpnaIgZnVsbFBhdGgKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBzdGF0ZQogICAgICogQHBhcmFtIHtTdHJpbmd9IGZ1bGxQYXRoIG5ldyBmdWxsUGF0aAogICAgICovCiAgICBjdXJyZW50U2V0OiBmdW5jdGlvbiBjdXJyZW50U2V0KHN0YXRlLCBmdWxsUGF0aCkgewogICAgICBzdGF0ZS5jdXJyZW50ID0gZnVsbFBhdGg7CiAgICB9LAogICAgLyoqCiAgICAgKiBAY2xhc3MgcG9vbAogICAgICogQGRlc2NyaXB0aW9uIOS/neWtmCBwb29sICjlgJnpgInmsaApCiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgc3RhdGUKICAgICAqIEBwYXJhbSB7QXJyYXl9IHJvdXRlcyByb3V0ZXMKICAgICAqLwogICAgaW5pdDogZnVuY3Rpb24gaW5pdChzdGF0ZSwgcm91dGVzKSB7CiAgICAgIHZhciBwb29sID0gW107CiAgICAgIHZhciBwdXNoID0gZnVuY3Rpb24gcHVzaChyb3V0ZXMpIHsKICAgICAgICByb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICAgIGlmIChyb3V0ZS5jaGlsZHJlbiAmJiByb3V0ZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHB1c2gocm91dGUuY2hpbGRyZW4pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKCFyb3V0ZS5oaWRkZW4pIHsKICAgICAgICAgICAgICB2YXIgbWV0YSA9IHJvdXRlLm1ldGEsCiAgICAgICAgICAgICAgICBuYW1lID0gcm91dGUubmFtZSwKICAgICAgICAgICAgICAgIHBhdGggPSByb3V0ZS5wYXRoOwogICAgICAgICAgICAgIHBvb2wucHVzaCh7CiAgICAgICAgICAgICAgICBtZXRhOiBtZXRhLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9OwogICAgICBwdXNoKHJvdXRlcyk7CiAgICAgIHN0YXRlLnBvb2wgPSBwb29sOwogICAgfQogIH0KfTs="},{"version":3,"names":["cloneDeep","uniq","get","router","setting","isKeepAlive","data","namespaced","state","pool","opened","openedLoaded","current","keepAlive","actions","isLoaded","Promise","resolve","timer","setInterval","clearInterval","openedLoad","commit","dispatch","dbName","path","defaultValue","page","user","root","value","valid","map","fullPath","push","find","item","name","Object","assign","filter","index","opened2db","openedUpdate","params","query","splice","openedSort","oldIndex","newIndex","add","tag","newTag","open","meta","pageOpendIndex","pageOpend","same","t","close","tagName","newPage","isCurrent","len","length","i","findIndex","routerObj","closeLeft","pageSelect","pageAim","currentIndex","forEach","app","$route","closeRight","closeOther","closeAll","mutations","keepAliveRefresh","e","keepAliveRemove","list","keepAlivePush","keep","keepAliveClean","currentSet","init","routes","route","children","hidden"],"sources":["/Users/raviailani/Downloads/django-vue-admin/web/src/store/modules/d2admin/modules/page.js"],"sourcesContent":["import { cloneDeep, uniq, get } from 'lodash'\nimport router from '@/router'\nimport setting from '@/setting.js'\n\n// 判定是否需要缓存\nconst isKeepAlive = data => get(data, 'meta.cache', false)\n\nexport default {\n  namespaced: true,\n  state: {\n    // 可以在多页 tab 模式下显示的页面\n    pool: [],\n    // 当前显示的多页面列表\n    opened: get(setting, 'page.opened', []),\n    // 已经加载多标签页数据 https://github.com/d2-projects/d2-admin/issues/201\n    openedLoaded: false,\n    // 当前页面\n    current: '',\n    // 需要缓存的页面 name\n    keepAlive: []\n  },\n  actions: {\n    /**\n     * @description 确认已经加载多标签页数据 https://github.com/d2-projects/d2-admin/issues/201\n     * @param {Object} context\n     */\n    isLoaded ({ state }) {\n      if (state.openedLoaded) return Promise.resolve()\n      return new Promise(resolve => {\n        const timer = setInterval(() => {\n          if (state.openedLoaded) resolve(clearInterval(timer))\n        }, 10)\n      })\n    },\n    /**\n     * @class opened\n     * @description 从持久化数据载入标签页列表\n     * @param {Object} context\n     */\n    async openedLoad ({ state, commit, dispatch }) {\n      // store 赋值\n      const value = await dispatch('d2admin/db/get', {\n        dbName: 'sys',\n        path: 'page.opened',\n        defaultValue: setting.page.opened,\n        user: true\n      }, { root: true })\n      // 在处理函数中进行数据优化 过滤掉现在已经失效的页签或者已经改变了信息的页签\n      // 以 fullPath 字段为准\n      // 如果页面过多的话可能需要优化算法\n      // valid 有效列表 1, 1, 0, 1 => 有效, 有效, 失效, 有效\n      const valid = []\n      // 处理数据\n      state.opened = value\n        .map(opened => {\n          // 忽略控制台\n          if (opened.fullPath === '/index') {\n            valid.push(1)\n            return opened\n          }\n          // 尝试在所有的支持多标签页的页面里找到 name 匹配的页面\n          const find = state.pool.find(item => item.name === opened.name)\n          // 记录有效或无效信息\n          valid.push(find ? 1 : 0)\n          // 返回合并后的数据 新的覆盖旧的\n          // 新的数据中一般不会携带 params 和 query, 所以旧的参数会留存\n          return Object.assign({}, opened, find)\n        })\n        .filter((opened, index) => valid[index] === 1)\n      // 标记已经加载多标签页数据 https://github.com/d2-projects/d2-admin/issues/201\n      state.openedLoaded = true\n      // 根据 opened 数据生成缓存设置\n      commit('keepAliveRefresh')\n    },\n    /**\n     * 将 opened 属性赋值并持久化 在这之前请先确保已经更新了 state.opened\n     * @param {Object} context\n     */\n    async opened2db ({ state, dispatch }) {\n      // 设置数据\n      dispatch('d2admin/db/set', {\n        dbName: 'sys',\n        path: 'page.opened',\n        value: state.opened,\n        user: true\n      }, { root: true })\n    },\n    /**\n     * @class opened\n     * @description 更新页面列表上的某一项\n     * @param {Object} context\n     * @param {Object} payload { index, params, query, fullPath } 路由信息\n     */\n    async openedUpdate ({ state, commit, dispatch }, { index, params, query, fullPath }) {\n      // 更新页面列表某一项\n      const page = state.opened[index]\n      page.params = params || page.params\n      page.query = query || page.query\n      page.fullPath = fullPath || page.fullPath\n      state.opened.splice(index, 1, page)\n      // 持久化\n      await dispatch('opened2db')\n    },\n    /**\n     * @class opened\n     * @description 重排页面列表上的某一项\n     * @param {Object} context\n     * @param {Object} payload { oldIndex, newIndex } 位置信息\n     */\n    async openedSort ({ state, commit, dispatch }, { oldIndex, newIndex }) {\n      // 重排页面列表某一项\n      const page = state.opened[oldIndex]\n      state.opened.splice(oldIndex, 1)\n      state.opened.splice(newIndex, 0, page)\n      // 持久化\n      await dispatch('opened2db')\n    },\n    /**\n     * @class opened\n     * @description 新增一个 tag (打开一个页面)\n     * @param {Object} context\n     * @param {Object} payload new tag info\n     */\n    async add ({ state, commit, dispatch }, { tag, params, query, fullPath }) {\n      // 设置新的 tag 在新打开一个以前没打开过的页面时使用\n      const newTag = tag\n      newTag.params = params || newTag.params\n      newTag.query = query || newTag.query\n      newTag.fullPath = fullPath || newTag.fullPath\n      // 添加进当前显示的页面数组\n      state.opened.push(newTag)\n      // 如果这个页面需要缓存 将其添加到缓存设置\n      if (isKeepAlive(newTag)) commit('keepAlivePush', tag.name)\n      // 持久化\n      await dispatch('opened2db')\n    },\n    /**\n     * @class current\n     * @description 打开一个新的页面\n     * @param {Object} context\n     * @param {Object} payload 从路由钩子的 to 对象上获取 { name, params, query, fullPath, meta } 路由信息\n     */\n    async open ({ state, commit, dispatch }, { name, params, query, fullPath, meta }) {\n      // 已经打开的页面\n      const opened = state.opened\n      // 判断此页面是否已经打开 并且记录位置\n      let pageOpendIndex = 0\n      const pageOpend = opened.find((page, index) => {\n        const same = page.fullPath === fullPath\n        pageOpendIndex = same ? index : pageOpendIndex\n        return same\n      })\n      if (pageOpend) {\n        // 页面以前打开过\n        await dispatch('openedUpdate', {\n          index: pageOpendIndex,\n          params,\n          query,\n          fullPath\n        })\n      } else {\n        // 页面以前没有打开过\n        const page = state.pool.find(t => t.name === name)\n        // 如果这里没有找到 page 代表这个路由虽然在框架内 但是不参与标签页显示\n        if (page) {\n          await dispatch('add', {\n            tag: Object.assign({}, page),\n            params,\n            query,\n            fullPath\n          })\n        }\n      }\n      // 如果这个页面需要缓存 将其添加到缓存设置\n      if (isKeepAlive({ meta })) commit('keepAlivePush', name)\n      // 设置当前的页面\n      commit('currentSet', fullPath)\n    },\n    /**\n     * @class opened\n     * @description 关闭一个 tag (关闭一个页面)\n     * @param {Object} context\n     * @param {Object} payload { tagName: 要关闭的标签名字 }\n     */\n    async close ({ state, commit, dispatch }, { tagName }) {\n      // 预定下个新页面\n      let newPage = {}\n      const isCurrent = state.current === tagName\n      // 如果关闭的页面就是当前显示的页面\n      if (isCurrent) {\n        // 去找一个新的页面\n        const len = state.opened.length\n        for (let i = 0; i < len; i++) {\n          if (state.opened[i].fullPath === tagName) {\n            newPage = i < len - 1 ? state.opened[i + 1] : state.opened[i - 1]\n            break\n          }\n        }\n      }\n      // 找到这个页面在已经打开的数据里是第几个\n      const index = state.opened.findIndex(page => page.fullPath === tagName)\n      if (index >= 0) {\n        // 如果这个页面是缓存的页面 将其在缓存设置中删除\n        commit('keepAliveRemove', state.opened[index].name)\n        // 更新数据 删除关闭的页面\n        state.opened.splice(index, 1)\n      }\n      // 持久化\n      await dispatch('opened2db')\n      // 决定最后停留的页面\n      if (isCurrent) {\n        const { name = 'index', params = {}, query = {} } = newPage\n        const routerObj = { name, params, query }\n        await router.push(routerObj)\n      }\n    },\n    /**\n     * @class opened\n     * @description 关闭当前标签左边的标签\n     * @param {Object} context\n     * @param {Object} payload { pageSelect: 当前选中的tagName }\n     */\n    async closeLeft ({ state, commit, dispatch }, { pageSelect } = {}) {\n      const pageAim = pageSelect || state.current\n      let currentIndex = 0\n      state.opened.forEach((page, index) => {\n        if (page.fullPath === pageAim) currentIndex = index\n      })\n      if (currentIndex > 0) {\n        // 删除打开的页面 并在缓存设置中删除\n        for (let i = state.opened.length - 1; i >= 0; i--) {\n          if (state.opened[i].name === 'index' || i >= currentIndex) {\n            continue\n          }\n\n          commit('keepAliveRemove', state.opened[i].name)\n          state.opened.splice(i, 1)\n        }\n      }\n      // 持久化\n      await dispatch('opened2db')\n      // 设置当前的页面\n      state.current = pageAim\n      if (router.app.$route.fullPath !== pageAim) await router.push(pageAim)\n    },\n    /**\n     * @class opened\n     * @description 关闭当前标签右边的标签\n     * @param {Object} context\n     * @param {Object} payload { pageSelect: 当前选中的tagName }\n     */\n    async closeRight ({ state, commit, dispatch }, { pageSelect } = {}) {\n      const pageAim = pageSelect || state.current\n      let currentIndex = 0\n      state.opened.forEach((page, index) => {\n        if (page.fullPath === pageAim) currentIndex = index\n      })\n      // 删除打开的页面 并在缓存设置中删除\n      for (let i = state.opened.length - 1; i >= 0; i--) {\n        if (state.opened[i].name === 'index' || currentIndex >= i) {\n          continue\n        }\n\n        commit('keepAliveRemove', state.opened[i].name)\n        state.opened.splice(i, 1)\n      }\n      // 持久化\n      await dispatch('opened2db')\n      // 设置当前的页面\n      state.current = pageAim\n      if (router.app.$route.fullPath !== pageAim) await router.push(pageAim)\n    },\n    /**\n     * @class opened\n     * @description 关闭当前激活之外的 tag\n     * @param {Object} context\n     * @param {Object} payload { pageSelect: 当前选中的tagName }\n     */\n    async closeOther ({ state, commit, dispatch }, { pageSelect } = {}) {\n      const pageAim = pageSelect || state.current\n      let currentIndex = 0\n      state.opened.forEach((page, index) => {\n        if (page.fullPath === pageAim) currentIndex = index\n      })\n      // 删除打开的页面数据 并更新缓存设置\n      for (let i = state.opened.length - 1; i >= 0; i--) {\n        if (state.opened[i].name === 'index' || currentIndex === i) {\n          continue\n        }\n\n        commit('keepAliveRemove', state.opened[i].name)\n        state.opened.splice(i, 1)\n      }\n      // 持久化\n      await dispatch('opened2db')\n      // 设置新的页面\n      state.current = pageAim\n      if (router.app.$route.fullPath !== pageAim) await router.push(pageAim)\n    },\n    /**\n     * @class opened\n     * @description 关闭所有 tag\n     * @param {Object} context\n     */\n    async closeAll ({ state, commit, dispatch }) {\n      // 删除打开的页面 并在缓存设置中删除\n      for (let i = state.opened.length - 1; i >= 0; i--) {\n        if (state.opened[i].name === 'index') {\n          continue\n        }\n\n        commit('keepAliveRemove', state.opened[i].name)\n        state.opened.splice(i, 1)\n      }\n      // 持久化\n      await dispatch('opened2db')\n      // 关闭所有的标签页后需要判断一次现在是不是在首页\n      if (router.app.$route.name !== 'index') {\n        await router.push({ name: 'index' })\n      }\n    }\n  },\n  mutations: {\n    /**\n     * @class keepAlive\n     * @description 从已经打开的页面记录中更新需要缓存的页面记录\n     * @param {Object} state state\n     */\n    keepAliveRefresh (state) {\n      state.keepAlive = state.opened.filter(item => isKeepAlive(item)).map(e => e.name)\n    },\n    /**\n     * @description 删除一个页面的缓存设置\n     * @param {Object} state state\n     * @param {String} name name\n     */\n    keepAliveRemove (state, name) {\n      const list = cloneDeep(state.keepAlive)\n      const index = list.findIndex(item => item === name)\n      if (index !== -1) {\n        list.splice(index, 1)\n        state.keepAlive = list\n      }\n    },\n    /**\n     * @description 增加一个页面的缓存设置\n     * @param {Object} state state\n     * @param {String} name name\n     */\n    keepAlivePush (state, name) {\n      const keep = cloneDeep(state.keepAlive)\n      keep.push(name)\n      state.keepAlive = uniq(keep)\n    },\n    /**\n     * @description 清空页面缓存设置\n     * @param {Object} state state\n     */\n    keepAliveClean (state) {\n      state.keepAlive = []\n    },\n    /**\n     * @class current\n     * @description 设置当前激活的页面 fullPath\n     * @param {Object} state state\n     * @param {String} fullPath new fullPath\n     */\n    currentSet (state, fullPath) {\n      state.current = fullPath\n    },\n    /**\n     * @class pool\n     * @description 保存 pool (候选池)\n     * @param {Object} state state\n     * @param {Array} routes routes\n     */\n    init (state, routes) {\n      const pool = []\n      const push = function (routes) {\n        routes.forEach(route => {\n          if (route.children && route.children.length > 0) {\n            push(route.children)\n          } else {\n            if (!route.hidden) {\n              const { meta, name, path } = route\n              pool.push({ meta, name, path })\n            }\n          }\n        })\n      }\n      push(routes)\n      state.pool = pool\n    }\n  }\n}\n"],"mappings":"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"}]}