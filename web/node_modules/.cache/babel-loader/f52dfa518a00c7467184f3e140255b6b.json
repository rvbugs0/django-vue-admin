{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raviailani/Downloads/django-vue-admin/web/src/layout/header-aside/layout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/src/layout/header-aside/layout.vue","mtime":1674694301485},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/babel.config.js","mtime":1674694301461},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js","mtime":1674694549360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3JhdmlhaWxhbmkvRG93bmxvYWRzL2RqYW5nby12dWUtYWRtaW4vd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGQyTWVudVNpZGUgZnJvbSAnLi9jb21wb25lbnRzL21lbnUtc2lkZSc7CmltcG9ydCBkMk1lbnVIZWFkZXIgZnJvbSAnLi9jb21wb25lbnRzL21lbnUtaGVhZGVyJzsKaW1wb3J0IGQyVGFicyBmcm9tICcuL2NvbXBvbmVudHMvdGFicyc7CmltcG9ydCBkMkhlYWRlckZ1bGxzY3JlZW4gZnJvbSAnLi9jb21wb25lbnRzL2hlYWRlci1mdWxsc2NyZWVuJzsKaW1wb3J0IGQySGVhZGVyTG9jYWxlcyBmcm9tICcuL2NvbXBvbmVudHMvaGVhZGVyLWxvY2FsZXMnOwppbXBvcnQgZDJIZWFkZXJTZWFyY2ggZnJvbSAnLi9jb21wb25lbnRzL2hlYWRlci1zZWFyY2gnOwppbXBvcnQgZDJIZWFkZXJTaXplIGZyb20gJy4vY29tcG9uZW50cy9oZWFkZXItc2l6ZSc7CmltcG9ydCBkMkhlYWRlclRoZW1lIGZyb20gJy4vY29tcG9uZW50cy9oZWFkZXItdGhlbWUnOwppbXBvcnQgZDJIZWFkZXJVc2VyIGZyb20gJy4vY29tcG9uZW50cy9oZWFkZXItdXNlcic7CmltcG9ydCBkMkhlYWRlckxvZyBmcm9tICcuL2NvbXBvbmVudHMvaGVhZGVyLWxvZyc7CmltcG9ydCBkMkhlYWRlckNvbG9yIGZyb20gJy4vY29tcG9uZW50cy9oZWFkZXItY29sb3InOwppbXBvcnQgZDJIZWFkZXJNZXNzYWdlIGZyb20gJy4vY29tcG9uZW50cy9oZWFkZXItbWVzc2FnZSc7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCBtaXhpblNlYXJjaCBmcm9tICcuL21peGlucy9zZWFyY2gnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2QyLWxheW91dC1oZWFkZXItYXNpZGUnLAogIG1peGluczogW21peGluU2VhcmNoXSwKICBjb21wb25lbnRzOiB7CiAgICBkMk1lbnVTaWRlOiBkMk1lbnVTaWRlLAogICAgZDJNZW51SGVhZGVyOiBkMk1lbnVIZWFkZXIsCiAgICBkMlRhYnM6IGQyVGFicywKICAgIGQySGVhZGVyRnVsbHNjcmVlbjogZDJIZWFkZXJGdWxsc2NyZWVuLAogICAgZDJIZWFkZXJMb2NhbGVzOiBkMkhlYWRlckxvY2FsZXMsCiAgICBkMkhlYWRlclNlYXJjaDogZDJIZWFkZXJTZWFyY2gsCiAgICBkMkhlYWRlclNpemU6IGQySGVhZGVyU2l6ZSwKICAgIGQySGVhZGVyVGhlbWU6IGQySGVhZGVyVGhlbWUsCiAgICBkMkhlYWRlclVzZXI6IGQySGVhZGVyVXNlciwKICAgIGQySGVhZGVyTG9nOiBkMkhlYWRlckxvZywKICAgIGQySGVhZGVyQ29sb3I6IGQySGVhZGVyQ29sb3IsCiAgICBkMkhlYWRlck1lc3NhZ2U6IGQySGVhZGVyTWVzc2FnZQogIH0sCiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlZnJlc2hWaWV3OiB0aGlzLnJlZnJlc2hWaWV3CiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIFvkvqfovrnmoI/lrr3luqZdIOato+W4uOeKtuaAgQogICAgICBhc2lkZVdpZHRoOiAnMjAwcHgnLAogICAgICAvLyBb5L6n6L655qCP5a695bqmXSDmipjlj6DnirbmgIEKICAgICAgYXNpZGVXaWR0aENvbGxhcHNlOiAnNjVweCcsCiAgICAgIHNob3dWaWV3OiB0cnVlIC8vIOeUqOS6jueCueWHu+W9k+WJjemhteeahHJvdXRlcuaXtu+8jOWIt+aWsOW9k+WJjemhtQogICAgfTsKICB9LAoKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdkMmFkbWluJywgewogICAga2VlcEFsaXZlOiBmdW5jdGlvbiBrZWVwQWxpdmUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnBhZ2Uua2VlcEFsaXZlOwogICAgfSwKICAgIGdyYXlBY3RpdmU6IGZ1bmN0aW9uIGdyYXlBY3RpdmUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmdyYXkuYWN0aXZlOwogICAgfSwKICAgIHRyYW5zaXRpb25BY3RpdmU6IGZ1bmN0aW9uIHRyYW5zaXRpb25BY3RpdmUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRyYW5zaXRpb24uYWN0aXZlOwogICAgfSwKICAgIGFzaWRlQ29sbGFwc2U6IGZ1bmN0aW9uIGFzaWRlQ29sbGFwc2Uoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm1lbnUuYXNpZGVDb2xsYXBzZTsKICAgIH0sCiAgICBhc2lkZVRyYW5zaXRpb246IGZ1bmN0aW9uIGFzaWRlVHJhbnNpdGlvbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubWVudS5hc2lkZVRyYW5zaXRpb247CiAgICB9CiAgfSkpLCBtYXBHZXR0ZXJzKCdkMmFkbWluJywgewogICAgdGhlbWVBY3RpdmVTZXR0aW5nOiAndGhlbWUvYWN0aXZlU2V0dGluZycKICB9KSksIHt9LCB7CiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDnlKjmnaXlrp7njrDluKblj4Lot6/nlLHnmoTnvJPlrZgKICAgICAqLwogICAgcm91dGVyVmlld0tleTogZnVuY3Rpb24gcm91dGVyVmlld0tleSgpIHsKICAgICAgLy8g6buY6K6k5oOF5Ya15LiLIGtleSDnsbvkvLwgX190cmFuc2l0aW9uLW4tL2ZvbwogICAgICAvLyDov5nph4znmoTlrZfnrKbkuLLmk43kvZzmmK/kuLrkuobmnIDnu4gga2V5IOeahOagvOW8j+WSjOWOn+adpeebuOWQjCDnsbvkvLwgX190cmFuc2l0aW9uLW4tX19zdGFtcC10aW1lLS9mb28KICAgICAgdmFyIHN0YW1wID0gdGhpcy4kcm91dGUubWV0YVsiX19zdGFtcC0iLmNvbmNhdCh0aGlzLiRyb3V0ZS5mdWxsUGF0aCldIHx8ICcnOwogICAgICByZXR1cm4gIiIuY29uY2F0KHN0YW1wID8gIl9fc3RhbXAtIi5jb25jYXQoc3RhbXAsICItIikgOiAnJykuY29uY2F0KHRoaXMuJHJvdXRlLmZ1bGxQYXRoKTsKICAgIH0sCiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDmnIDlpJblsYLlrrnlmajnmoTog4zmma/lm77niYfmoLflvI8KICAgICAqLwogICAgc3R5bGVMYXlvdXRNYWluR3JvdXA6IGZ1bmN0aW9uIHN0eWxlTGF5b3V0TWFpbkdyb3VwKCkgewogICAgICByZXR1cm4gdGhpcy50aGVtZUFjdGl2ZVNldHRpbmcuYmFja2dyb3VuZEltYWdlID8gewogICAgICAgIGJhY2tncm91bmRJbWFnZTogInVybCgnIi5jb25jYXQodGhpcy4kYmFzZVVybCkuY29uY2F0KHRoaXMudGhlbWVBY3RpdmVTZXR0aW5nLmJhY2tncm91bmRJbWFnZSwgIicpIikKICAgICAgfSA6IHt9OwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygnZDJhZG1pbi9tZW51JywgWydhc2lkZUNvbGxhcHNlVG9nZ2xlJ10pKSwge30sIHsKICAgIC8qKgogICAgICog5o6l5pS254K55Ye75YiH5o2i5L6n6L655qCP55qE5oyJ6ZKuCiAgICAgKi8KICAgIGhhbmRsZVRvZ2dsZUFzaWRlOiBmdW5jdGlvbiBoYW5kbGVUb2dnbGVBc2lkZSgpIHsKICAgICAgdGhpcy5hc2lkZUNvbGxhcHNlVG9nZ2xlKCk7CiAgICB9LAogICAgLyoqCiAgICAgKiDliLfmlrDpobXpnaIKICAgICAqLwogICAgcmVmcmVzaFZpZXc6IGZ1bmN0aW9uIHJlZnJlc2hWaWV3KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLnNob3dWaWV3ID0gZmFsc2U7IC8vIOmAmui/h3YtaWbnp7vpmaRyb3V0ZXItdmlld+iKgueCuQogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuc2hvd1ZpZXcgPSB0cnVlOyAvLyBET03mm7TmlrDlkI7lho3pgJrov4d2LWlm5re75Yqgcm91dGVyLXZpZXfoioLngrkKICAgICAgfSk7CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJHdlYnNvY2tldC5pbml0V2ViU29ja2V0KCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIC8vIOemu+W8gOi3r+eUseS5i+WQjuaWreW8gHdlYnNvY2tldOi/nuaOpQogICAgdGhpcy4kd2Vic29ja2V0LmNsb3NlV2Vic29ja2V0KCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;EACAC;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACAC;IACA;EACA;;EACAC,wDACAC;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;EACA,KACAC;IACAC;EACA;IACA;AACA;AACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACA;AACA;AACA;IACAC;MACA,iDACA;QACAC;MACA,IACA;IACA;EAAA,EACA;EACAC,yCACAC;IACA;AACA;AACA;IACAC;MACA;IACA;IACA;AACA;AACA;IACAnB;MAAA;MACA;MACA;QACA;MACA;IACA;EAAA,EACA;EACAoB;IACA;EACA;EACAC;IACA;IACA;EACA;AACA","names":["name","mixins","components","d2MenuSide","d2MenuHeader","d2Tabs","d2HeaderFullscreen","d2HeaderLocales","d2HeaderSearch","d2HeaderSize","d2HeaderTheme","d2HeaderUser","d2HeaderLog","d2HeaderColor","d2HeaderMessage","provide","refreshView","data","asideWidth","asideWidthCollapse","showView","computed","mapState","keepAlive","grayActive","transitionActive","asideCollapse","asideTransition","mapGetters","themeActiveSetting","routerViewKey","styleLayoutMainGroup","backgroundImage","methods","mapActions","handleToggleAside","mounted","destroyed"],"sourceRoot":"src/layout/header-aside","sources":["layout.vue"],"sourcesContent":["<template>\n  <div\n    class=\"d2-layout-header-aside-group\"\n    :style=\"styleLayoutMainGroup\"\n    :class=\"{ grayMode: grayActive }\"\n  >\n    <!-- 半透明遮罩 -->\n    <div class=\"d2-layout-header-aside-mask\"></div>\n    <!-- 主体内容 -->\n    <div class=\"d2-layout-header-aside-content\" flex=\"dir:top\">\n      <!-- 顶栏 -->\n      <div\n        class=\"d2-theme-header\"\n        :style=\"{ opacity: this.searchActive ? 0.5 : 1 }\"\n        flex-box=\"0\"\n        flex\n      >\n        <router-link\n          to=\"/index\"\n          :class=\"{ 'logo-group': true, 'logo-transition': asideTransition }\"\n          :style=\"{ width: asideCollapse ? asideWidthCollapse : asideWidth }\"\n          flex-box=\"0\"\n        >\n          <img\n            v-if=\"asideCollapse\"\n            :src=\"`${$baseUrl}image/theme/${themeActiveSetting.name}/logo/icon-only.png`\"\n          />\n          <img\n            v-else\n            :src=\"`${$baseUrl}image/theme/${themeActiveSetting.name}/logo/all.png`\"\n          />\n        </router-link>\n        <div class=\"toggle-aside-btn\" @click=\"handleToggleAside\" flex-box=\"0\">\n          <d2-icon name=\"bars\" />\n        </div>\n        <d2-menu-header flex-box=\"1\" />\n        <!-- 顶栏右侧 -->\n        <div class=\"d2-header-right\" flex-box=\"0\">\n          <!-- 如果你只想在开发环境显示这个按钮请添加 v-if=\"$env === 'development'\" -->\n          <d2-header-search @click=\"handleSearchClick\" />\n          <d2-header-log />\n          <d2-header-fullscreen />\n          <d2-header-theme />\n          <d2-header-message />\n          <d2-header-size />\n          <d2-header-locales />\n          <d2-header-color />\n          <d2-header-user />\n        </div>\n      </div>\n      <!-- 下面 主体 -->\n      <div class=\"d2-theme-container\" flex-box=\"1\" flex>\n        <!-- 主体 侧边栏 -->\n        <div\n          flex-box=\"0\"\n          ref=\"aside\"\n          :class=\"{\n            'd2-theme-container-aside': true,\n            'd2-theme-container-transition': asideTransition,\n          }\"\n          :style=\"{\n            width: asideCollapse ? asideWidthCollapse : asideWidth,\n            opacity: this.searchActive ? 0.5 : 1,\n          }\"\n        >\n          <d2-menu-side />\n        </div>\n        <!-- 主体 -->\n        <div class=\"d2-theme-container-main\" flex-box=\"1\" flex>\n          <!-- 搜索 -->\n          <transition name=\"fade-scale\">\n            <div v-if=\"searchActive\" class=\"d2-theme-container-main-layer\" flex>\n              <d2-panel-search ref=\"panelSearch\" @close=\"searchPanelClose\" />\n            </div>\n          </transition>\n          <!-- 内容 -->\n          <transition name=\"fade-scale\">\n            <div\n              v-if=\"!searchActive\"\n              class=\"d2-theme-container-main-layer\"\n              flex=\"dir:top\"\n            >\n              <!-- tab -->\n              <div class=\"d2-theme-container-main-header\" flex-box=\"0\">\n                <d2-tabs />\n              </div>\n              <!-- 页面 -->\n              <div class=\"d2-theme-container-main-body\" flex-box=\"1\">\n                <transition :name=\"transitionActive ? 'fade-transverse' : ''\">\n                  <keep-alive :include=\"keepAlive\" v-if=\"showView\">\n                    <router-view :key=\"routerViewKey\" />\n                  </keep-alive>\n                </transition>\n              </div>\n            </div>\n          </transition>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport d2MenuSide from './components/menu-side'\nimport d2MenuHeader from './components/menu-header'\nimport d2Tabs from './components/tabs'\nimport d2HeaderFullscreen from './components/header-fullscreen'\nimport d2HeaderLocales from './components/header-locales'\nimport d2HeaderSearch from './components/header-search'\nimport d2HeaderSize from './components/header-size'\nimport d2HeaderTheme from './components/header-theme'\nimport d2HeaderUser from './components/header-user'\nimport d2HeaderLog from './components/header-log'\nimport d2HeaderColor from './components/header-color'\nimport d2HeaderMessage from './components/header-message'\nimport { mapState, mapGetters, mapActions } from 'vuex'\nimport mixinSearch from './mixins/search'\nexport default {\n  name: 'd2-layout-header-aside',\n  mixins: [mixinSearch],\n  components: {\n    d2MenuSide,\n    d2MenuHeader,\n    d2Tabs,\n    d2HeaderFullscreen,\n    d2HeaderLocales,\n    d2HeaderSearch,\n    d2HeaderSize,\n    d2HeaderTheme,\n    d2HeaderUser,\n    d2HeaderLog,\n    d2HeaderColor,\n    d2HeaderMessage\n  },\n  provide () {\n    return {\n      refreshView: this.refreshView\n    }\n  },\n  data () {\n    return {\n      // [侧边栏宽度] 正常状态\n      asideWidth: '200px',\n      // [侧边栏宽度] 折叠状态\n      asideWidthCollapse: '65px',\n      showView: true // 用于点击当前页的router时，刷新当前页\n    }\n  },\n  computed: {\n    ...mapState('d2admin', {\n      keepAlive: (state) => state.page.keepAlive,\n      grayActive: (state) => state.gray.active,\n      transitionActive: (state) => state.transition.active,\n      asideCollapse: (state) => state.menu.asideCollapse,\n      asideTransition: (state) => state.menu.asideTransition\n    }),\n    ...mapGetters('d2admin', {\n      themeActiveSetting: 'theme/activeSetting'\n    }),\n    /**\n     * @description 用来实现带参路由的缓存\n     */\n    routerViewKey () {\n      // 默认情况下 key 类似 __transition-n-/foo\n      // 这里的字符串操作是为了最终 key 的格式和原来相同 类似 __transition-n-__stamp-time-/foo\n      const stamp = this.$route.meta[`__stamp-${this.$route.fullPath}`] || ''\n      return `${stamp ? `__stamp-${stamp}-` : ''}${this.$route.fullPath}`\n    },\n    /**\n     * @description 最外层容器的背景图片样式\n     */\n    styleLayoutMainGroup () {\n      return this.themeActiveSetting.backgroundImage\n        ? {\n          backgroundImage: `url('${this.$baseUrl}${this.themeActiveSetting.backgroundImage}')`\n        }\n        : {}\n    }\n  },\n  methods: {\n    ...mapActions('d2admin/menu', ['asideCollapseToggle']),\n    /**\n     * 接收点击切换侧边栏的按钮\n     */\n    handleToggleAside () {\n      this.asideCollapseToggle()\n    },\n    /**\n     * 刷新页面\n     */\n    refreshView () {\n      this.showView = false // 通过v-if移除router-view节点\n      this.$nextTick(() => {\n        this.showView = true // DOM更新后再通过v-if添加router-view节点\n      })\n    }\n  },\n  mounted () {\n    this.$websocket.initWebSocket()\n  },\n  destroyed () {\n    // 离开路由之后断开websocket连接\n    this.$websocket.closeWebsocket()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n// 注册主题\n@import \"~@/assets/style/theme/register.scss\";\n</style>\n"]}]}