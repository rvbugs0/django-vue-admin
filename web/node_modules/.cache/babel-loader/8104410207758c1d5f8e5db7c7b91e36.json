{"remainingRequest":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raviailani/Downloads/django-vue-admin/web/src/views/system/login/base.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raviailani/Downloads/django-vue-admin/web/src/views/system/login/base.vue","mtime":1674694301498},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/babel.config.js","mtime":1674694301461},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/babel-loader/lib/index.js","mtime":1674694549283},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/cache-loader/dist/cjs.js","mtime":1674694548948},{"path":"/Users/raviailani/Downloads/django-vue-admin/web/node_modules/vue-loader/lib/index.js","mtime":1674694549360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3JhdmlhaWxhbmkvRG93bmxvYWRzL2RqYW5nby12dWUtYWRtaW4vd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBsb2NhbGVNaXhpbiBmcm9tICdAL2xvY2FsZXMvbWl4aW4uanMnOwppbXBvcnQgKiBhcyBhcGkgZnJvbSAnQC92aWV3cy9zeXN0ZW0vbG9naW4vYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2xvY2FsZU1peGluXSwKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHsKICAgIC8vIOWIneWni+WMlumFjee9rgogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2QyYWRtaW4vc2V0dGluZ3MvaW5pdCcpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2Nlc3NUaXRsZTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9USVRMRSB8fCAnRDJBZG1pbicsCiAgICAgIGJhY2tncm91bmRJbWFnZTogJ3VybCgnICsgdGhpcy5sb2dpbkJhY2tncm91bmQgKyAnKScsCiAgICAgIC8vIOihqOWNlQogICAgICBmb3JtTG9naW46IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGNhcHRjaGE6ICcnCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGNhcHRjaGFLZXk6IG51bGwsCiAgICAgIGltYWdlX2Jhc2U6IG51bGwsCiAgICAgIC8vIOW/q+mAn+eZu+W9le+8jOeUqOS6jmRlduW8gOWPkeeOr+WigwogICAgICBzZWxlY3RVc2Vyc0RpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICB1c2VyczogW3sKICAgICAgICBuYW1lOiAn6LaF566hJywKICAgICAgICB1c2VybmFtZTogJ3N1cGVyYWRtaW4nLAogICAgICAgIHBhc3N3b3JkOiAnYWRtaW4xMjM0NTYnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn566h55CG5ZGYJywKICAgICAgICB1c2VybmFtZTogJ2FkbWluJywKICAgICAgICBwYXNzd29yZDogJ2FkbWluMTIzNDU2JwogICAgICB9XQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgnZDJhZG1pbicsIHsKICAgIHNpdGVMb2dvOiBmdW5jdGlvbiBzaXRlTG9nbyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2V0dGluZ3MuZGF0YVsnbG9naW4uc2l0ZV9sb2dvJ10gfHwgcmVxdWlyZSgnLi9pbWFnZS9kdmFkbWluLnBuZycpOwogICAgfSwKICAgIC8vIOe9keermWxvZ2/lnLDlnYAKICAgIGtlZXBSZWNvcmQ6IGZ1bmN0aW9uIGtlZXBSZWNvcmQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNldHRpbmdzLmRhdGFbJ2xvZ2luLmtlZXBfcmVjb3JkJ107CiAgICB9LAogICAgc2l0ZU5hbWU6IGZ1bmN0aW9uIHNpdGVOYW1lKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zZXR0aW5ncy5kYXRhWydsb2dpbi5zaXRlX25hbWUnXTsKICAgIH0sCiAgICAvLyDnvZHnq5nlkI3np7AKICAgIGNvcHlyaWdodDogZnVuY3Rpb24gY29weXJpZ2h0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zZXR0aW5ncy5kYXRhWydsb2dpbi5jb3B5cmlnaHQnXTsKICAgIH0sCiAgICBsb2dpbkJhY2tncm91bmQ6IGZ1bmN0aW9uIGxvZ2luQmFja2dyb3VuZChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2V0dGluZ3MuZGF0YVsnbG9naW4ubG9naW5fYmFja2dyb3VuZCddIHx8IHJlcXVpcmUoJy4vaW1hZ2UvYmcuanBnJyk7CiAgICB9LAogICAgLy8g55m75b2V6aG16IOM5pmv5Zu+CiAgICBoZWxwVXJsOiBmdW5jdGlvbiBoZWxwVXJsKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zZXR0aW5ncy5kYXRhWydsb2dpbi5oZWxwX3VybCddOwogICAgfSwKICAgIC8vIOW4ruWKqQogICAgcHJpdmFjeVVybDogZnVuY3Rpb24gcHJpdmFjeVVybChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2V0dGluZ3MuZGF0YVsnbG9naW4ucHJpdmFjeV91cmwnXTsKICAgIH0sCiAgICAvLyDpmpDnp4EKICAgIGNsYXVzZVVybDogZnVuY3Rpb24gY2xhdXNlVXJsKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zZXR0aW5ncy5kYXRhWydsb2dpbi5jbGF1c2VfdXJsJ107CiAgICB9LAogICAgLy8g5p2h5qy+CiAgICBjYXB0Y2hhU3RhdGU6IGZ1bmN0aW9uIGNhcHRjaGFTdGF0ZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2V0dGluZ3MuZGF0YVsnYmFzZS5jYXB0Y2hhX3N0YXRlJ10gIT09IHVuZGVmaW5lZCA/IHN0YXRlLnNldHRpbmdzLmRhdGFbJ2Jhc2UuY2FwdGNoYV9zdGF0ZSddIDogdHJ1ZTsKICAgIH0gLy8g6aqM6K+B56CBCiAgfSkpLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge30sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKCdkMmFkbWluL2FjY291bnQnLCBbJ2xvZ2luJ10pKSwge30sIHsKICAgIC8qKgogICAgICAgKiDojrflj5bpqozor4HnoIEKICAgICAgICovCiAgICBnZXRDYXB0Y2hhOiBmdW5jdGlvbiBnZXRDYXB0Y2hhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBpZiAodGhpcy5jYXB0Y2hhU3RhdGUgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5jYXB0Y2hhU3RhdGUpIHJldHVybjsKICAgICAgYXBpLmdldENhcHRjaGEoKS50aGVuKGZ1bmN0aW9uIChyZXQpIHsKICAgICAgICBfdGhpcy5mb3JtTG9naW4uY2FwdGNoYSA9IG51bGw7CiAgICAgICAgX3RoaXMuY2FwdGNoYUtleSA9IHJldC5kYXRhLmtleTsKICAgICAgICBfdGhpcy5pbWFnZV9iYXNlID0gcmV0LmRhdGEuaW1hZ2VfYmFzZTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgICAqIEBkZXNjcmlwdGlvbiDmj5DkuqTooajljZUKICAgICAgICovCiAgICAvLyDmj5DkuqTnmbvlvZXkv6Hmga8KICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIC8vIOeZu+W9lQogICAgICAgICAgLy8g5rOo5oSPIOi/memHjOeahOa8lOekuuayoeacieS8oOmqjOivgeeggQogICAgICAgICAgLy8g5YW35L2T6ZyA6KaB5Lyg6YCS55qE5pWw5o2u6K+36Ieq6KGM5L+u5pS55Luj56CBCiAgICAgICAgICBfdGhpczIubG9naW4oewogICAgICAgICAgICB1c2VybmFtZTogdGhhdC5mb3JtTG9naW4udXNlcm5hbWUsCiAgICAgICAgICAgIHBhc3N3b3JkOiB0aGF0LiRtZDUodGhhdC5mb3JtTG9naW4ucGFzc3dvcmQpLAogICAgICAgICAgICBjYXB0Y2hhOiB0aGF0LmZvcm1Mb2dpbi5jYXB0Y2hhLAogICAgICAgICAgICBjYXB0Y2hhS2V5OiB0aGF0LmNhcHRjaGFLZXkKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDph43lrprlkJHlr7nosaHkuI3lrZjlnKjliJnov5Tlm57pobblsYLot6/lvoQKICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucmVwbGFjZShfdGhpczIuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0IHx8ICcvJyk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMi5nZXRDYXB0Y2hhKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g55m75b2V6KGo5Y2V5qCh6aqM5aSx6LSlCiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoJ+ihqOWNleagoemqjOWksei0pe+8jOivt+ajgOafpScpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5b+r6YCf55m75b2VCiAgICBoYW5kbGVVc2VyQnRuQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZVVzZXJCdG5DbGljayh1c2VyKSB7CiAgICAgIHRoaXMuZm9ybUxvZ2luLnVzZXJuYW1lID0gdXNlci51c2VybmFtZTsKICAgICAgdGhpcy5mb3JtTG9naW4ucGFzc3dvcmQgPSB1c2VyLnBhc3N3b3JkOwogICAgICAvLyB0aGlzLnN1Ym1pdCgpCiAgICAgIHRoaXMuc2VsZWN0VXNlcnNEaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIGlmICghdGhpcy5jYXB0Y2hhU3RhdGUpIHsKICAgICAgICB0aGlzLnN1Ym1pdCgpOwogICAgICB9CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdkMmFkbWluL2RiL2RhdGFiYXNlQ2xlYXInKTsKICAgIHRoaXMuZ2V0Q2FwdGNoYSgpOwogIH0KfTs="},{"version":3,"mappings":";;;AAKA;AACA;AACA;AAEA;EACAA;EACAC;IACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;QACAH,WACA;UACAI;UACAC;UACAC;QACA,EACA;QACAL,WACA;UACAG;UACAC;UACAC;QACA;MAEA;MACAC;MACAC;MACA;MACAC;MACAC,QACA;QACAC;QACAX;QACAC;MACA,GACA;QACAU;QACAX;QACAC;MACA;IAEA;EACA;EACAW,4BACAC;IACAC;MAAA;IAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IAAA;IACAC;MAAA;IAAA;IAAA;IACAC;MAAA;IAAA;IAAA;IACAC;MAAA;IAAA;IAAA;IACAC;MAAA;IAAA;EACA,GACA;EACAC,6BACA;EACAC,yCACA;EACAC,yCACAC;IACA;AACA;AACA;IACAC;MAAA;MACA;MACAC;QACA;QACA;QACA;MACA;IACA;IACA;AACA;AACA;IACA;IACAC;MAAA;MACA;MACA;QACA;UACA;UACA;UACA;UACA;YACA7B;YACAC;YACAC;YACAK;UACA,GACAuB;YACA;YACA;UACA,GACAC;YACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;QACA;MACA;IACA;EAAA,EACA;EACAC;IACA;IACA;EACA;AACA","names":["mixins","beforeCreate","data","processTitle","backgroundImage","formLogin","username","password","captcha","rules","required","message","trigger","captchaKey","image_base","selectUsersDialogVisible","users","name","computed","mapState","siteLogo","keepRecord","siteName","copyright","loginBackground","helpUrl","privacyUrl","clauseUrl","captchaState","mounted","beforeDestroy","methods","mapActions","getCaptcha","api","submit","then","catch","handleUserBtnClick","created"],"sourceRoot":"src/views/system/login","sources":["base.vue"],"sourcesContent":["<template>\n  <div class=\"page-login\"></div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nimport localeMixin from '@/locales/mixin.js'\nimport * as api from '@/views/system/login/api'\n\nexport default {\n  mixins: [localeMixin],\n  beforeCreate () {\n    // 初始化配置\n    this.$store.dispatch('d2admin/settings/init')\n  },\n  data () {\n    return {\n      processTitle: process.env.VUE_APP_TITLE || 'D2Admin',\n      backgroundImage: 'url(' + this.loginBackground + ')',\n      // 表单\n      formLogin: {\n        username: '',\n        password: '',\n        captcha: ''\n      },\n      // 表单校验\n      rules: {\n        username: [\n          {\n            required: true,\n            message: '请输入用户名',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur'\n          }\n        ]\n      },\n      captchaKey: null,\n      image_base: null,\n      // 快速登录，用于dev开发环境\n      selectUsersDialogVisible: false,\n      users: [\n        {\n          name: '超管',\n          username: 'superadmin',\n          password: 'admin123456'\n        },\n        {\n          name: '管理员',\n          username: 'admin',\n          password: 'admin123456'\n        }\n      ]\n    }\n  },\n  computed: {\n    ...mapState('d2admin', {\n      siteLogo: state => state.settings.data['login.site_logo'] || require('./image/dvadmin.png'), // 网站logo地址\n      keepRecord: state => state.settings.data['login.keep_record'],\n      siteName: state => state.settings.data['login.site_name'], // 网站名称\n      copyright: state => state.settings.data['login.copyright'],\n      loginBackground: state => state.settings.data['login.login_background'] || require('./image/bg.jpg'), // 登录页背景图\n      helpUrl: state => state.settings.data['login.help_url'], // 帮助\n      privacyUrl: state => state.settings.data['login.privacy_url'], // 隐私\n      clauseUrl: state => state.settings.data['login.clause_url'], // 条款\n      captchaState: state => state.settings.data['base.captcha_state'] !== undefined ? state.settings.data['base.captcha_state'] : true // 验证码\n    })\n  },\n  mounted () {\n  },\n  beforeDestroy () {\n  },\n  methods: {\n    ...mapActions('d2admin/account', ['login']),\n    /**\n       * 获取验证码\n       */\n    getCaptcha () {\n      if (this.captchaState !== undefined && !this.captchaState) return\n      api.getCaptcha().then((ret) => {\n        this.formLogin.captcha = null\n        this.captchaKey = ret.data.key\n        this.image_base = ret.data.image_base\n      })\n    },\n    /**\n       * @description 提交表单\n       */\n    // 提交登录信息\n    submit () {\n      const that = this\n      this.$refs.loginForm.validate((valid) => {\n        if (valid) {\n          // 登录\n          // 注意 这里的演示没有传验证码\n          // 具体需要传递的数据请自行修改代码\n          this.login({\n            username: that.formLogin.username,\n            password: that.$md5(that.formLogin.password),\n            captcha: that.formLogin.captcha,\n            captchaKey: that.captchaKey\n          })\n            .then(() => {\n              // 重定向对象不存在则返回顶层路径\n              this.$router.replace(this.$route.query.redirect || '/')\n            })\n            .catch(() => {\n              this.getCaptcha()\n            })\n        } else {\n          // 登录表单校验失败\n          this.$message.error('表单校验失败，请检查')\n        }\n      })\n    },\n    // 快速登录\n    handleUserBtnClick (user) {\n      this.formLogin.username = user.username\n      this.formLogin.password = user.password\n      // this.submit()\n      this.selectUsersDialogVisible = false\n      if (!this.captchaState) {\n        this.submit()\n      }\n    }\n  },\n  created () {\n    this.$store.dispatch('d2admin/db/databaseClear')\n    this.getCaptcha()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  // ----\n  .page-login {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    background-image: url(./image/bg.jpg);\n    background-position: center 0;\n    background-repeat: no-repeat;\n    background-attachment: fixed;\n    background-size: cover;\n    -webkit-background-size: cover; /* 兼容Webkit内核浏览器如Chrome和Safari */\n    -o-background-size: cover; /* 兼容Opera */\n    zoom: 1;\n  }\n\n  ::v-deep .el-card__body {\n    height: 100%;\n    padding: 0;\n  }\n\n  .card {\n    height: 100%;\n    width: 100%;\n    border-radius: 30px;\n    padding: 0;\n    margin-top: 12%;\n  }\n\n  .right-card {\n    float: right;\n    text-align: center;\n    width: 50%;\n    height: 100%;\n  }\n\n  .right-card h1 {\n    color: #098dee;\n    margin-bottom: 40px;\n    margin-top: 40px;\n  }\n\n  .button-login {\n    width: 100%;\n    margin-top: 30px;\n  }\n\n  ::v-deep .el-input-group__append {\n    padding: 0;\n  }\n\n  // footer\n  .page-login--content-footer {\n    margin-top: 10%;\n    padding: 1em 0;\n\n    .page-login--content-footer-locales {\n      padding: 0px;\n      margin: 0px;\n      margin-bottom: 15px;\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n      color: $color-text-normal;\n\n      a {\n        color: $color-text-normal;\n        margin: 0 0.5em;\n\n        &:hover {\n          color: $color-text-main;\n        }\n      }\n    }\n\n    .page-login--content-footer-copyright {\n      padding: 0px;\n      margin: 0px;\n      margin-bottom: 10px;\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n      color: $color-text-normal;\n\n      a {\n        color: $color-text-normal;\n      }\n    }\n\n    .page-login--content-footer-options {\n      padding: 0px;\n      margin: 0px;\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n\n      a {\n        color: $color-text-normal;\n        margin: 0 1em;\n      }\n    }\n  }\n</style>\n"]}]}